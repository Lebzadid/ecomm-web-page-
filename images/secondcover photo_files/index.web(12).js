// {"framework" : "Rax"}
!function(e){if("function"==typeof define)define("aemod/ae-pc-promoteWysiwyg/index.web",["rat-frame","rat-view","rat-text","rat-picture","rat-link"],function(require,exports,module){module.exports=e(require("rat-frame"),require("rat-view"),require("rat-text"),require("rat-picture"),require("rat-link"))});else if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e(require("rat-frame"),require("rat-view"),require("rat-text"),require("rat-picture"),require("rat-link"));else{var t;(t="undefined"!=typeof window?window:"undefined"!=typeof self?self:"undefined"!=typeof global?global:this).AePcPromoteWysiwyg=e(t["rat-frame"],t["rat-view"],t["rat-text"],t["rat-picture"],t["rat-link"])}}(function(e,t,n,r,o){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var module=t[r]={i:r,l:!1,exports:{}};return e[r].call(module.exports,module,module.exports,n),module.l=!0,module.exports}return n.m=e,n.c=t,n.d=function(exports,e,t){n.o(exports,e)||Object.defineProperty(exports,e,{enumerable:!0,get:t})},n.r=function(exports){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(exports,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(module){var e=module&&module.__esModule?function(){return module.default}:function(){return module};return n.d(e,"a",e),e},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/",n(n.s=50)}([function(module,exports,e){exports.__esModule=!0;var t=e(15);Object.keys(t).forEach(function(e){"default"===e||"__esModule"===e||e in exports&&exports[e]===t[e]||(exports[e]=t[e])})},function(module,exports){Object.defineProperty(exports,"__esModule",{value:!0}),exports.isObject=function(e){return"[object Object]"=={}.toString.call(e)},exports.getCommonError=function(e,t){return{api:e.api,v:e.v,data:{},ret:["FAIL::"+(t||"")],retType:-1}};exports.RESPONSE_TYPE={ERROR:-1,SUCCESS:0,TOKEN_EXPIRED:1,SESSION_EXPIRED:2}},function(module,exports,e){Object.defineProperty(exports,"__esModule",{value:!0});var t,n=e(24);function r(e,t){return(r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var o=function(e){function t(){return e.apply(this,arguments)||this}var n,o;o=e,(n=t).prototype=Object.create(o.prototype),n.prototype.constructor=n,r(n,o);var i=t.prototype;return i.log=function(e,t){e&&t&&this.push({message:e,type:t})},i.reportCustom=function(e){return e&&e.code&&e.message&&e.hasOwnProperty("success")?(e.type="manual",e.sampling=e.sampling||.01,void this.push(e)):void(this._debug&&(!e&&console.error("jstracker上报方法reportCustom：需要传入参数"),!(e instanceof Object)&&console.error("jstracker上报方法reportCustom：传入参数需要为Object"),!e.code&&console.error("jstracker上报方法reportCustom：code字段为必填字段"),!e.message&&console.error("jstracker上报方法reportCustom：message字段为必填字段"),!e.hasOwnProperty("success")&&console.error("jstracker上报方法reportCustom：success字段为必填字段")))},i.reportError=function(e){return e&&e.message?(e.type="error",e.sampling=e.sampling||this._config.sampling||1,void this.push(e)):void(this._debug&&(!e&&console.error("jstracker上报方法reportError：需要传入参数"),!(e instanceof Object)&&console.error("jstracker上报方法reportError：传入参数需要为Object"),!e.message&&console.error("jstracker上报方法reportError：message字段为必填字段")))},i.reportPerf=function(e){return e&&e.message?(e.type="perf",e.sampling=e.sampling||this._config.p_sampling||.1,void this.push(e)):void(this._debug&&(!e&&console.error("jstracker上报方法reportPerf：需要传入参数"),!(e instanceof Object)&&console.error("jstracker上报方法reportPerf：传入参数需要为Object"),!e.message&&console.error("jstracker上报方法reportPerf：message字段为必填字段")))},i.reportMtop=function(e){return e&&e.api&&e.message&&e.hasOwnProperty("success")?(e.type="mtop_perf",e.sampling=e.sampling||.01,void this.push(e)):void(this._debug&&(!e&&console.error("jstracker上报方法reportMtop：需要传入参数"),!(e instanceof Object)&&console.error("jstracker上报方法reportMtop：传入参数需要为Object"),!e.api&&console.error("jstracker上报方法reportMtop：code字段为必填字段"),!e.message&&console.error("jstracker上报方法reportMtop：message字段为必填字段"),!e.hasOwnProperty("success")&&console.error("jstracker上报方法reportMtop：success字段为必填字段")))},i.reportTLog=function(e,t,n){this.sendTLog(e,t,n)},t}(((t=n)&&t.__esModule?t:{default:t}).default);exports.default=o,module.exports=exports.default},function(module,exports,e){Object.defineProperty(exports,"__esModule",{value:!0}),exports.trigger=exports.setValue=exports.getValue=void 0;var t,n,r,o,i,a=e(7),s={timeOrigin:parseInt((null==(t=window)||null==(n=t.performance)?void 0:n.timeOrigin)||(null==(r=window)||null==(o=r.performance)||null==(i=o.timing)?void 0:i.navigationStart))||Date.now()},u=(exports.getValue=function(e){return e?s[e]:null},exports.setValue=function(e,t){e&&(s[e]=t)});exports.trigger=function(e){"interactive"===e&&u(e,(0,a.getNow)())}},function(module,exports){Object.defineProperty(exports,"__esModule",{value:!0});exports.supportBeacon=function(){var e,t;return!(null==(e=window)||null==(t=e.navigator)||!t.sendBeacon)},exports.isDebug=function(){var e,t,n;return-1!==(null==(e=window)||null==(t=e.location)||null==(n=t.href)?void 0:n.indexOf("jt_debug"))},exports.isWindvane=function(){var e,t;return/WindVane/.test(null==(e=window)||null==(t=e.navigator)?void 0:t.userAgent)},exports.isMobile=function(){var e,t;return/Android|webOS|iPhone/i.test(null==(e=window)||null==(t=e.navigator)?void 0:t.userAgent)},exports.isUC=function(){var e,t;return null==(e=window)||null==(t=e.ucweb)?void 0:t.window},exports.isPHA=function(){var e,t,n,r;return!!/PHA/.test(null==(e=window)||null==(t=e.navigator)?void 0:t.userAgent)&&"function"==typeof(null==(n=pha)||null==(r=n.performance)?void 0:r.report)},exports.isMacOsLike=function(){var e,t;return!!/Mac OS X/i.test(null==(e=window)||null==(t=e.navigator)?void 0:t.userAgent)};var e=null,t=null,n=exports.isFunction=function(e){return"function"==typeof e},r=(exports.isWindvaneFn=function(){if(t)return t;var e=o();if(e&&e[2]){var r=window.lib;return t=r&&r.windvane&&n(r.windvane.call)}return t=!1},exports.formatVers=function(e){return"string"==typeof e?e.split(".").splice(0,3).map(function(e){return""+"000".substr(0,3-e.length)+e}).join("."):""}),o=exports.getAliAppVers=function(t){if(null!==e)return e;t=t||navigator.userAgent,e=[];var n=/(Android|iPhone;|iPad;)/.exec(t);return n&&n.length>=2?(e.push("Android"===n[1]?"Android":"iOS"),(n=/AliApp\((.*?)\/([\d\.]*?)\)/.exec(t))&&n.length>=3&&(e=e.concat(n.slice(1,3)),(n=/WindVane\/([\d\.]+)/.exec(t))&&n.length>=2&&e.push(n[1]))):e.push("Other"),e};exports.isMatchApp=function(e){var t=o(),n=null;for(var i in e)if(""!==(n=e[i]))if(i<2){if(!t[i]||t[i]!==n)return!1}else if(!t[i]||r(t[i])<r(n))return!1;return!0}},function(module,exports,e){Object.defineProperty(exports,"__esModule",{value:!0});var t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n=e(8);exports.default=function(e,r){void 0===r&&(r="");var o=function(o){var i;"object"!==(void 0===o?"undefined":t(o))&&(o={});var a=(null==(i=e._config)?void 0:i.origin_url)||e.getOriginUrl&&e.getOriginUrl()||"",s=(0,n.makeUrl)(a,o,r),u=Object.assign({url:s},o);e.push(u)};return{report:o,reportApi:function(e,t){e&&e.url&&(e.type="api",e.module=t,e.sampling=e.sampling||.01,o(e))},reportError:function(t,n,i){var a={};t&&t instanceof Error&&"weex"!==r?(e._debug&&console.log("使用旧版universal-tracker的reportError方法上报"),a={stack:JSON.stringify(t.stack),name:t.name,message:t.message,type:"error",module:n},i&&(a.reverse1=i),o(a)):(e._debug&&console.log("使用新版universal-tracker的reportError方法上报"),e.reportError(t))},reportPerf:function(t){e.reportPerf(t)},reportCustom:function(t){e.reportCustom(t)},reportMtop:function(t){e.reportMtop(t)},setConfig:function(n){"object"!==(void 0===n?"undefined":t(n))&&(n={}),e.setConfig(n)},reportTLog:function(n,r,o){if(!n||"object"!==(void 0===n?"undefined":t(n))||!n.code||n.message&&"object"!==t(n.message)&&"string"!=typeof n.message)e._debug&&(!n&&console.error("Tlog日志方法：需要传入参数"),"object"!==(void 0===n?"undefined":t(n))&&console.error("Tlog日志方法：需要传入参数需要为Object"),!n.code&&console.error("Tlog日志方法：code字段为必填字段"),n.message&&"object"!==t(n.message)&&"string"!=typeof n.message&&console.error("Tlog日志方法：message字段类型错误，需要object或string类型"));else{var i={uuid:e._config.uniqId||"",nick:e._config.nick||""},a={event:n.code,level:n.level||"Info",id:n.stageId||"",parentId:n.parentId||"",errorCode:n.errorCode||"",errorMsg:n.errorMsg||"",ext:{pureMessage:n.message||"",extMessage:i}};e.reportTLog(a,function(t){e._debug&&console.log("上报tlog成功:",a),"function"==typeof r&&r(t)},function(t){e._debug&&console.error("上报tlog失败:",a),"function"==typeof o&&o(t)})}}}},module.exports=exports.default},function(module,exports,e){Object.defineProperty(exports,"__esModule",{value:!0});var t,n=e(42),r=(t=n)&&t.__esModule?t:{default:t};var o=(null==r.default?void 0:r.default.version)||"";exports.default="universal-tracker/"+o,module.exports=exports.default},function(module,exports,e){Object.defineProperty(exports,"__esModule",{value:!0}),exports.makeRand=exports.getNow=void 0;var t,n,r=e(3),o="function"==typeof(null==(t=window)||null==(n=t.performance)?void 0:n.now);exports.getNow=function(){return o?window.performance.now():Date&&"function"==typeof Date.now?Date.now():(new Date).getTime()},exports.makeRand=function(){if(o)return parseInt(window.performance.now(),10);var e=(0,r.getValue)("timeOrigin");return e?e-Date.now():-1}},function(module,exports){Object.defineProperty(exports,"__esModule",{value:!0});exports.makeUrl=function(e,t,n){var r=e.replace(/[\?#].*$/,"").replace(/\/$/,""),o=t.type,i=void 0===o?"":o,a=t.module,module=void 0===a?"":a;if({error:"error",api:"api",mtop_perf:"mtop_perf",perf:"perf",manual:"manual"}[i])return e;var s=function(e){return"weex"===e||"web"===e?{defaultCode:"rx_user_define_err",errorCodeHash:{render:"rx_render_err",data:"rx_data_fetch_err"}}:"miniapp"===e||"wxmp"===e?{defaultCode:"user_define_err",errorCodeHash:{render:"render_err",data:"data_fetch_err"}}:void 0}(n),u=s.defaultCode,c=[r,module,s.errorCodeHash[i]||(i?i+"/":"")+u].join("/").toLowerCase();return"weex"===n?encodeURIComponent(c):c}},function(module,exports){module.exports=e},function(module,exports){module.exports=t},function(module,exports){module.exports=n},function(module,exports){module.exports=r},function(module,exports){module.exports=o},function(module,exports,e){Object.defineProperty(exports,"__esModule",{value:!0});var t,n=e(0),r=e(18),o=e(19),i=e(20),a=e(1),s=e(21),u=e(46),c=(t=u)&&t.__esModule?t:{default:t};function l(){return(l=Object.assign?Object.assign.bind():function(e){for(var t,n=1;n<arguments.length;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)}var d={};function f(e){var t;return e.api&&(t=function(e,t,n){var r;if(e){for(var o in r=[],e)Object.prototype.hasOwnProperty.call(e,o)&&(!t||t.indexOf(o)>-1)&&void 0!==e[o]&&""!==e[o]&&r.push(o+"-"+(n?encodeURIComponent(e[o]):e[o]));r.sort()}else r=[];return r.join("_")}(e.data,e.requiredParams,e.encodeParam)),"//fallback.alicdn.com/mtop/"+e.api+"_"+(e.v||"1.0")+"/"+t}function p(e,t,n){(0,r.initLibMtopInBrowser)().then(function(){Object.assign(lib.mtop.config,d),lib.mtop.request(e,t,n)}).catch(n)}function g(e,t,n){return function(r){e&&e(r),t&&t(r),n&&n(r)}}n.isWeb&&!(0,o.canUseLibWindVaneRequest)()&&(0,r.initLibMtopInBrowser)().catch(function(e){console.warn("Init lib-mtop.js failed",e)}),exports.default={request:function(e,t,r){var a=!1;return("function"==typeof t||"function"==typeof r)&&console.error("Mtop Error: request 方法仅支持 Promise 链式调用方式！"),e&&void 0===e.preventFallback&&(e.preventFallback=!0),new Promise(function(t,r){var u,l,m,y,v,h=Date.now(),w=(v=-1,n.isWeb&&window.performance&&window.performance.now&&(v=window.performance.now()),v),b=function(e){return t(e)},_=g(s.sendLog.bind(null,{params:e,begin:h,startTime:w,state:!0,apiType:1,apiTypeState:!1,apiTypeMsg:""}),b),O=g(function(t){t&&(t.api||t.v)||(t={api:e.api,v:e.v,data:{},ret:t.ret||["FAIL::"+(JSON.stringify(t)||"")],retType:-1}),void 0===t.retType&&(t.retType=-1),(0,s.sendLog)({params:e,startTime:w,begin:h,state:!1,errorMsg:t})},function(o){var i=o.ret;return i instanceof Array&&(i=i.join(",")),a&&(i.indexOf("PARAM_PARSE_ERROR")>-1||i.indexOf("HY_FAILED")>-1||i.indexOf("HY_NO_HANDLER")>-1||i.indexOf("HY_CLOSED")>-1||i.indexOf("HY_EXCEPTION")>-1||i.indexOf("HY_NO_PERMISSION")>-1)?(a=!1,e.H5Request=!0,p(e,_,O)):e&&(1==e.ecode||e.preventFallback||n.isMiniApp)?r(o):void function(e,t){return new Promise(function(n,r){"string"==typeof e.data&&(e.data=JSON.parse(e.data));var o=f(e),i=new XMLHttpRequest;i.open("get",o,!0),i.send(null),i.onreadystatechange=function(){if(4==this.readyState&&200==this.status)try{var e=JSON.parse(this.responseText);e&&e.success&&e.result&&!e.result.backup?r(t):n(e)}catch(e){r(t)}else 4==this.readyState&&r(t)}})}(e,o).then(function(e){t(e)}).catch(function(e){r(e)})});if(!0===e.H5Request||n.isWeb&&!0===(null==(u=window)||null==(l=u.lib)||null==(m=l.mtop)||null==(y=m.config)?void 0:y.LibMtopRequest)||!0===d.LibMtopRequest||!0===e.LibMtopRequest)p(e,_,O);else if(n.isWeex)(0,i.requestByWeex)(e,_,O);else if(n.isWeb)window.pha&&e.prefetchKey&&window.pha.dataPrefetch?function(e,t,n,r,i){window.pha.dataPrefetch.getData({key:e.prefetchKey},function(o){(0,s.sendLog)({params:e,startTime:n,begin:t,state:!0,apiType:2,apiTypeState:!0,apiTypeMsg:""}),r(o)},function(a){void 0===a&&(a={});var u=a.message;console.error("PHA 预请求失败 "+u+"，重试 MTOP 请求！");var c=function(o){(0,s.sendLog)({params:e,startTime:n,begin:t,state:!0,apiType:2,apiTypeState:!1,apiTypeMsg:u}),r(o)};(0,o.canUseLibWindVaneRequest)()?(0,o.requestByLibWindvane)(e,c,i):p(e,c,i)})}(e,h,w,g(null,b),O):(0,o.canUseLibWindVaneRequest)()?(a=!0,(0,o.requestByLibWindvane)(e,_,O)):p(e,_,O);else{if(!n.isMiniApp)throw Error("当前容器暂不支持使用，请反馈 http://gitlab.alibaba-inc.com/ali-rax-pkg/universal-mtop/issues");(0,c.default)(e).then(_).catch(O)}})},config:function(e,t){n.isWeex||n.isWeb&&("string"==typeof e?d[e]=t:d=window.lib&&window.lib.mtop?l({},lib.mtop.config,d,e):l({},d,e))},_getConfig:function(){if(n.isWeb&&window.lib&&window.lib.mtop)return l({},window.lib.mtop.config,d)},RESPONSE_TYPE:a.RESPONSE_TYPE,initLibMtopInBrowser:r.initLibMtopInBrowser},module.exports=exports.default},function(module,exports,e){(function(e,t){Object.defineProperty(exports,"__esModule",{value:!0});var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=exports.isWeb="undefined"!=typeof window&&"onload"in window,o=exports.isNode=void 0!==e&&!(!e.versions||!e.versions.node),i=exports.isWeex="undefined"!=typeof WXEnvironment&&"Web"!==WXEnvironment.platform,a=exports.isKraken="undefined"!=typeof __kraken__,s=exports.isMiniApp="undefined"!=typeof my&&null!==my&&void 0!==my.alert,u=exports.isByteDanceMicroApp="undefined"!=typeof tt&&null!==tt&&void 0!==tt.showToast,c=exports.isBaiduSmartProgram="undefined"!=typeof swan&&null!==swan&&void 0!==swan.showToast,l=exports.isKuaiShouMiniProgram="undefined"!=typeof ks&&null!==ks&&void 0!==ks.showToast,d=exports.isWeChatMiniProgram=!u&&"undefined"!=typeof wx&&null!==wx&&(void 0!==wx.request||void 0!==wx.miniProgram),f=exports.isQuickApp=void 0!==t&&null!==t&&void 0!==t.callNative&&!i,p=exports.isPHA=r&&"object"===("undefined"==typeof pha?"undefined":n(pha)),g=exports.isFRM=s&&r&&my.isFRM,m="object"===("undefined"==typeof navigator?"undefined":n(navigator))?navigator.userAgent||navigator.swuserAgent:"",y=exports.isWindVane=/.+AliApp\((\w+)\/((?:\d+\.)+\d+)\).* .*(WindVane)(?:\/((?:\d+\.)+\d+))?.*/.test(m)&&r&&"undefined"!=typeof WindVane&&void 0!==WindVane.call;exports.default={isWeb:r,isNode:o,isWeex:i,isKraken:a,isMiniApp:s,isByteDanceMicroApp:u,isBaiduSmartProgram:c,isKuaiShouMiniProgram:l,isWeChatMiniProgram:d,isQuickApp:f,isPHA:p,isWindVane:y,isFRM:g}}).call(this,e(16),e(17))},function(module,exports){var e,t,n=module.exports={};function r(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function i(t){if(e===setTimeout)return setTimeout(t,0);if((e===r||!e)&&setTimeout)return e=setTimeout,setTimeout(t,0);try{return e(t,0)}catch(n){try{return e.call(null,t,0)}catch(n){return e.call(this,t,0)}}}!function(){try{e="function"==typeof setTimeout?setTimeout:r}catch(t){e=r}try{t="function"==typeof clearTimeout?clearTimeout:o}catch(e){t=o}}();var a,s=[],u=!1,c=-1;function l(){u&&a&&(u=!1,a.length?s=a.concat(s):c=-1,s.length&&d())}function d(){if(!u){var e=i(l);u=!0;for(var n=s.length;n;){for(a=s,s=[];++c<n;)a&&a[c].run();c=-1,n=s.length}a=null,u=!1,function(e){if(t===clearTimeout)return clearTimeout(e);if((t===o||!t)&&clearTimeout)return t=clearTimeout,clearTimeout(e);try{t(e)}catch(n){try{return t.call(null,e)}catch(n){return t.call(this,e)}}}(e)}}function f(e,t){this.fun=e,this.array=t}function p(){}n.nextTick=function(e){var t=Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];s.push(new f(e,t)),1!==s.length||u||i(d)},f.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.browser=!0,n.env={},n.argv=[],n.version="",n.versions={},n.on=p,n.addListener=p,n.once=p,n.off=p,n.removeListener=p,n.removeAllListeners=p,n.emit=p,n.prependListener=p,n.prependOnceListener=p,n.listeners=function(){return[]},n.binding=function(){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(){throw new Error("process.chdir is not supported")},n.umask=function(){return 0}},function(module,exports){var e,t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};e=function(){return this}();try{e=e||new Function("return this")()}catch(n){"object"===("undefined"==typeof window?"undefined":t(window))&&(e=window)}module.exports=e},function(module,exports,e){Object.defineProperty(exports,"__esModule",{value:!0}),exports.initLibMtopInBrowser=function(){if(!t.isWeb)throw Error("非浏览器环境不能插入 lib-mtop.js");return window[r]||(window[r]=new Promise(function(e,t){if(window.lib&&window.lib.mtop)return e(lib.mtop);var o=document.createElement("script");o.src=n,o.async=!0,o.crossOrigin="anonymous",o.onerror=function(){delete window[r],t(new Error("加载 lib-mtop.js 失败"))},o.onload=function(){window.lib&&window.lib.mtop?e(lib.mtop):(delete window[r],t(new Error("未检测到全局 mtop 变量，请检查 lib-mtop.js")))},function(e){(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]||document.firstElementChild||document).appendChild(e)}(o)})),window[r]};var t=e(0),n="//g.alicdn.com/mtb/lib-mtop/2.7.0/mtop.js",r="__UNIVERSAL_MTOP_APPEND_LIB_MTOP_IN_BROWSER__"},function(module,exports,e){Object.defineProperty(exports,"__esModule",{value:!0}),exports.canUseLibWindVaneRequest=r,exports.requestByLibWindvane=function(e,t,o){if(!r())throw Error("当前 web 环境不能发送 windvane 请求");e.param=e.data||e.param,"POST"===e.type&&(e.post="1"),("json"===e.dataType||"originaljsonp"===e.dataType||"original"===e.valueType)&&(e.type="originaljson",delete e.dataType),e.sessionOption||(!0===e.needLogin?e.sessionOption="AutoLoginAndManualLogin":e.sessionOption="AutoLoginOnly"),Object.assign&&e.dangerouslySetWindvaneParams&&(Object.assign(e,e.dangerouslySetWindvaneParams),delete e.dangerouslySetWindvaneParams);var i=function(e){"string"==typeof e&&(e=JSON.parse(e)),e.retType===n.RESPONSE_TYPE.SUCCESS||e.ret&&e.ret[0].indexOf("SUCCESS")>-1?t&&t(e):o&&o(e)};lib.windvane.call("MtopWVPlugin","send",e,i,i)};var t=e(0),n=e(1);function r(){var e=!1;if(t.isWeb){var n=window.navigator.userAgent,r=n.match(/WindVane[\/\s]([\d\.\_]+)/)&&n.match(/WindVane[\/\s]([\d\.\_]+)/)[1];window.lib&&window.lib.windvane&&parseFloat(r)>5.4&&(e=!0),n.indexOf("youku")>-1&&location.hostname.indexOf("youku.com")<0&&(e=!1),location.hostname.indexOf("youku.com")>-1&&n.indexOf("youku")<0&&(e=!1),window.self!==window.top&&(e=!1)}return e}},function(module,exports,e){Object.defineProperty(exports,"__esModule",{value:!0}),exports.requestByWeex=function(e,r,o){var i=function(){try{return __weex_require__("@weex-module/mtop")}catch(e){console.warn("Mtop require error")}}(),a=function(){try{return __weex_require__("@weex-module/windvane")}catch(e){console.warn("Windvane require error")}}();if(i){e.dataType&&/^(original){0,1}jsonp$/.test(e.dataType)&&(e.dataType=e.dataType.replace("jsonp","json"));var s=setTimeout(function(){o({ret:["TIMEOUT::接口超时"],retType:t.RESPONSE_TYPE.ERROR})},e.timeout||2e4);i.request(e,function(e){return clearTimeout(s),e.retType=n(e),e&&e.MP_TIME_OUT?void o({ret:["TIMEOUT::接口超时"],retType:-1}):void r(e)},function(e){clearTimeout(s),e.retType=n(e),o(e)})}else a?(e.param=e.data||e.param,"POST"===e.type&&(e.post="1"),a.call({class:"MtopWVPlugin",method:"send",data:e},function(e){"string"==typeof e&&(e=JSON.parse(e)),e.retType===t.RESPONSE_TYPE.SUCCESS||e.ret&&e.ret[0].indexOf("SUCCESS")>-1?r&&r(e):o&&o(e)})):o&&o("Windvane & Mtop require error")};var t=e(1);function n(e){var n=e.ret||"";return Array.isArray(n)&&(n=n.join(",")),n.indexOf("SUCCESS")>-1?t.RESPONSE_TYPE.SUCCESS:n.indexOf("TOKEN_EMPTY")>-1||n.indexOf("TOKEN_EXOIRED")>-1?t.RESPONSE_TYPE.TOKEN_EXPIRED:n.indexOf("SESSION_EXPIRED")>-1||n.indexOf("SID_INVALID")>-1||n.indexOf("AUTH_REJECT")>-1||n.indexOf("NEED_LOGIN")>-1?t.RESPONSE_TYPE.SESSION_EXPIRED:t.RESPONSE_TYPE.ERROR}},function(module,exports,e){var t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(exports,"__esModule",{value:!0}),exports.sendLog=function(e){var n=e.params,o=e.state,a=e.begin,s=e.startTime,u=e.apiType,c=e.apiTypeState,l=e.apiTypeMsg,d=e.errorMsg;try{if(!n.disableTracker&&i.default&&i.default.report){var f,p,g=o;!g&&function(e,t){var n=(e||{}).trackerConfig,r=null==n?void 0:n.filterErrorMsg,o=!1;if(t&&r&&"function"==typeof r)try{o=r(t)}catch(e){}return o}(n,d)&&(g=!0),i.default.report({api:function(e){var t=e||{},n=t.api,o=void 0===n?"":n,i=t.v,a=void 0===i?"":i,s=t.miniAppID,u=t.trackerConfig,c=o+"/"+a;if(r.isMiniApp){var l=s?"UN_MINIAPP/"+s:"UN_MINIAPP";c=l+"/"+c}return u&&u.requestCode&&(c+="/"+u.requestCode),c.toLowerCase()}(n),success:g,params:function(e){var n="",r=e||{},o=r.data,i=r.trackerConfig,a=!(i&&!0===i.disableParmas);return o&&a&&(n="object"===(void 0===o?"undefined":t(o))?JSON.stringify(o):o),n}(n),timing:Date.now()-a,st:s,sampling:function(e,t){var n=t.trackerConfig||{},r=!0===e?100:1;return n.sampling||r}(g,n),message:d?JSON.stringify(d):"mtop调用",type:"mtop_perf",falcoId:(null==d||null==(f=d.stat)?void 0:f.falcoId)||"",traceId:(null==d||null==(p=d.stat)?void 0:p.eagleEyeTraceId)||"",apiType:u||1,apiTypeState:c||!1,apiTypeMsg:l||""})}}catch(e){console.warn("log send error")}};var n,r=e(0),o=e(22),i=(n=o)&&n.__esModule?n:{default:n}},function(module,exports,e){Object.defineProperty(exports,"__esModule",{value:!0});var t,n=e(0);t=n.isWeex?e(23).default:n.isWeChatMiniProgram?e(43).default:n.isMiniApp?e(44).default:e(45).default,exports.default=t,module.exports=exports.default},function(module,exports,e){Object.defineProperty(exports,"__esModule",{value:!0}),exports.hasReleaseVersion=exports.isWeexV2=void 0;var t=o(e(2)),n=o(e(5)),r=o(e(6));function o(e){return e&&e.__esModule?e:{default:e}}function i(e,t){return(i=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var a=exports.isWeexV2="undefined"!=typeof __weex_v2__,s=exports.hasReleaseVersion="undefined"!=typeof __release_version__,u=new(function(e){function t(t){var n;return t=Object.assign({sampling:1,native:1},t),(n=e.call(this,t)||this)._config.releaseVersion=s?__release_version__:"",n._config.version=r.default,n._config.origin_url=n.getOriginUrl(),a&&n.handleError(),n}var n,o;o=e,(n=t).prototype=Object.create(o.prototype),n.prototype.constructor=n,i(n,o);var u=t.prototype;return u.sendLog=function(e){var t=this._config.origin_url;e=Object.assign({releaseVersion:this._config.releaseVersion},e);try{var n=weex.requireModule("userTrack");"function"==typeof n.commitut?n.commitut("other",-1,t,"","/jstracker.3","","",e):n.commitEvent(t,"19999","/jstracker.3","","",e)}catch(e){console.error("JSTracker 埋点异常",e)}},u.handleError=function(){var e=this;window.addEventListener&&window.addEventListener("error",function(t){e.reportError({stack:JSON.stringify(t.error.stack),msg:t.message||t.error.message,message:t.message||t.error.message,file:t.filename||t.error.fileName,line:t.lineno||t.error.lineNumber,col:t.colno||t.error.columnNumber})})},u.reportError=function(t){return t&&t.message?(t.type="error",t.code="weex_error",t.sampling=t.sampling||this._config.sampling||1,void e.prototype.push.call(this,t)):void(this._debug&&(!t&&console.error("reportError：需要传入参数"),!(t instanceof Object)&&console.error("reportError：传入参数需要为Object"),!t.message&&console.error("reportError：message字段为必填字段")))},u.reportTLog=function(e,t,n){if(a)try{var r=weex.requireModule("nativeLog");r&&r.write&&r.write(e,t,n)}catch(e){}},t}(t.default));exports.default=(0,n.default)(u,"weex")},function(module,exports,e){Object.defineProperty(exports,"__esModule",{value:!0});var t=s(e(25)),n=s(e(33)),r=e(37),o=e(4),i=s(e(41)),a=e(3);function s(e){return e&&e.__esModule?e:{default:e}}var u=function(){function e(e){this._config=Object.assign(t.default,{sampling:100,maxLogCount:20,noPostAtIOS:!1},e),this._debug=(0,o.isDebug)(),this._pushed_num=0}var s=e.prototype;return s.setConfig=function(e){this._config&&e.constructor===Object&&(this._config=Object.assign(this._config,e))},s.config=function(e){this.setConfig(e)},s.set=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];a.setValue.call.apply(a.setValue,[this].concat(t))},s.trigger=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];a.trigger.call.apply(a.trigger,[this].concat(t))},s.push=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];n.default.call.apply(n.default,[this].concat(t))},s.getOriginUrl=function(){var e,t;return(null==(e=window)||null==(t=e.location)?void 0:t.href)||""},s.sendLog=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];r.sendLog.call.apply(r.sendLog,[this].concat(t))},s.sendTLog=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];i.default.call.apply(i.default,[this].concat(t))},e}();exports.default=u,module.exports=exports.default},function(module,exports,e){Object.defineProperty(exports,"__esModule",{value:!0});var t=s(e(26)),n=s(e(27)),r=s(e(28)),o=s(e(29)),i=s(e(30)),a=e(31);function s(e){return e&&e.__esModule?e:{default:e}}var u,c,l,d,f,p,g,m=function(){var e={grey:"",contentVersion:""},t=w("def-grey");if(!t)return e;var n=t.split(","),r=n[0].indexOf("=");if(e.grey=-1===r?n[0]:n[0].slice(r+1),n[1]){var o=n[1].indexOf("=");e.contentVersion=n[1].slice(o+1)}return e}(),y=m.grey,v=m.contentVersion,h=parseInt((null==(u=window)||null==(c=u.performance)?void 0:c.timeOrigin)||(null==(l=window)||null==(d=l.performance)||null==(f=d.timing)?void 0:f.navigationStart))||Date.now();function w(e){var t,n;if(null!=(t=window)&&null!=(n=t.document)&&n.querySelector){var r=document.querySelector('meta[name="'+e+'"]');if(r)return r.getAttribute("content")}return""}exports.default={kissyVersion:t.default,nick:n.default,screen:r.default,ua:(null==(p=window)||null==(g=p.navigator)?void 0:g.userAgent)||"",orientation:o.default,ucbid:w("wpk-bid"),grey:y,contentVersion:v,rtt:a.rtt,downlink:a.downlink,network:a.networkType,uniqId:i.default,timeOrigin:h,_v_type_:"overwrite"},module.exports=exports.default},function(module,exports){Object.defineProperty(exports,"__esModule",{value:!0});var e,t,n=(null==(e=window)||null==(t=e.KISSY)?void 0:t.version)||"";exports.default=n,module.exports=exports.default},function(module,exports){Object.defineProperty(exports,"__esModule",{value:!0});var e="";try{var t=n("dnk")||n("_nk_")||n("_w_tb_nick")||n("lgc");t&&(e=t)}catch(e){}function n(e){try{var t,n;if(null==(t=window)||null==(n=t.document)||!n.cookie)return"";var r=document.cookie.match("(?:^|;)\\s*"+e+"=([^;]*)");return r&&r[1]?decodeURIComponent(r[1]):""}catch(e){return""}}exports.default=e,module.exports=exports.default},function(module,exports){Object.defineProperty(exports,"__esModule",{value:!0});var e,t,n,r,o=(null==(e=window)||null==(t=e.screen)?void 0:t.width)||"",i=(null==(n=window)||null==(r=n.screen)?void 0:r.height)||"";exports.default=o+"x"+i,module.exports=exports.default},function(module,exports){Object.defineProperty(exports,"__esModule",{value:!0});var e,t,n,r,o="";90==(null==(e=window)?void 0:e.orientation)||-90==(null==(t=window)?void 0:t.orientation)?o="landscape":(0==(null==(n=window)?void 0:n.orientation)||180==(null==(r=window)?void 0:r.orientation))&&(o="portrait"),exports.default=o,module.exports=exports.default},function(module,exports,e){Object.defineProperty(exports,"__esModule",{value:!0});for(var t=e(3),n="j"+(new Date).valueOf().toString(32);n.length<32;)n+=Math.random().toString(32).substr(2);var r=n.substr(0,32);(0,t.setValue)("uniqId",r),exports.default=r,module.exports=exports.default},function(module,exports,e){Object.defineProperty(exports,"__esModule",{value:!0}),exports.networkType=exports.downlink=exports.rtt=void 0;var t,n=e(4),r=e(32),o=(t=r)&&t.__esModule?t:{default:t};var i,a=!1,s="",u=null==(i=window)?void 0:i.navigator,c=u?u.connection||u.mozConnection||u.webkitConnection:{};l();exports.rtt=null==c?void 0:c.rtt,exports.downlink=null==c?void 0:c.downlink;function l(){var e,t;if((0,n.isWindvane)()&&null!=(e=window)&&null!=(t=e.lib)&&t.windvane&&"function"==typeof lib.windvane.call){var r=lib.windvane.call("WVNetwork","getNetworkType",{},function(e){var t;if(e&&"string"==typeof e)try{e=JSON.parse(e)}catch(e){}a=!0,exports.networkType=s=null==(t=e)?void 0:t.type},function(){});(null==r?void 0:r.catch)&&r.catch(function(){})}}exports.networkType=s=null==c?void 0:c.effectiveType,(0,o.default)(function(){a||l()}),exports.networkType=s},function(module,exports){Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e){if(e&&"function"==typeof e)if(document&&/complete/.test(document.readyState)&&document.body)setTimeout(e,0);else{var t,n;null!=(t=window)&&t.addEventListener?window.addEventListener("load",e,!1):null!=(n=window)&&n.attachEvent&&window.attachEvent("onload",e)}},module.exports=exports.default},function(module,exports,e){var t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e,n){try{if(!e)return;for(var r in e=Object.assign({logSeq:(0,i.makeRand)()},this._config,e,{origin_url:decodeURIComponent(this.getOriginUrl(e))}),("object"===t(e.msg)||"object"===t(e.message))&&(e.message=(0,o.default)(e.message||e.msg),e.msg&&delete e.msg),e)(""===e[r]||null===e[r]||void 0===e[r])&&delete e[r];var l=e.maxLogCount||20,d=(0,s.samplingCheck)(e.sampling),f=d.flag,p=d.sampling;this._pushed_num<l&&((g=e)&&g.type&&-1!==c.indexOf(g.type)||g&&"__PV"===g.msg||this._debug||f)&&(this._pushed_num++,this._debug&&window&&window.console&&window.console.log(e),(0,u.getValue)(a.event.WATCH)&&(0,a.boradcast)(a.event.WATCH,e),e.sampling=p,this.sendLog(e,n))}catch(e){}var g};var n,r=e(34),o=(n=r)&&n.__esModule?n:{default:n},i=e(7),a=e(35),s=e(36),u=e(3);var c=["long-task","api-perf","invalidClick"];module.exports=exports.default},function(module,exports){var e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function t(t){return!("object"!==(void 0===t?"undefined":e(t))||null===t||t instanceof Boolean||t instanceof Date||t instanceof Number||t instanceof RegExp||t instanceof String)}function n(e){try{JSON.stringify(e)}catch(t){e="__Circular_Reference_Object__"}return e}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function e(r){return r instanceof Array?r.map(e).join(","):t(r)?JSON.stringify(function e(n,r){var o={},i=[];try{i=Object.getOwnPropertyNames(n)}catch(e){}return i&&i.length>0?(i.forEach(function(i){var a=r&&r(n[i]);o[i]=t(a)?e(a,r):a}),o):"__Empty_Object__"}(r,n)):""+r},module.exports=exports.default},function(module,exports){Object.defineProperty(exports,"__esModule",{value:!0}),exports.subscribe=function(t,n,r){if(t){if("function"!=typeof n)throw new Error("event handler must be a function.");e[t]||(e[t]=[]),e[t].push({hander:n,scope:r})}},exports.boradcast=function(t,n){var r=e[t],o=0;if(void 0!==r){var i=[].slice.call(arguments,0);i=i.length>2?i.splice(2,i.length-1):[],i=[n].concat(i),o=r.length;for(var a,s=0;s<o;s++)(a=r[s])&&a.hander&&a.hander.apply(a.scope,i)}};var e={};exports.event={WATCH:"jstracker:watch"}},function(module,exports){Object.defineProperty(exports,"__esModule",{value:!0});exports.samplingCheck=function(e){var t,n=!1;return e=parseFloat(e,10),isNaN(e)?((null==(t=console)?void 0:t.warn)&&console.warn("JSTracker2 sampling is invalid, please set a integer!"),n):(e>0&&e<1&&(e=Math.round(1/e)),{flag:n=Math.random()*e<1,sampling:e})}},function(module,exports,e){Object.defineProperty(exports,"__esModule",{value:!0}),exports.sendLog=exports.post=exports.curl=void 0;var t=a(e(38)),n=e(7),r=e(4),o=a(e(39)),i=a(e(40));function a(e){return e&&e.__esModule?e:{default:e}}function s(e,r){var o="jsFeImage_"+(0,n.makeRand)(),i=window[o]=new Image;i.referrerPolicy="no-referrer-when-downgrade";var a=(0,t.default)(r);i.src=a+e,i.onload=i.onerror=function(){window[o]=null}}function u(e,n){if((0,r.supportBeacon)())try{var o=(0,t.default)(n),i=JSON.stringify({gmkey:"OTHER",gokey:encodeURIComponent(e)});navigator.sendBeacon(o,i)}catch(e){}}exports.curl=s,exports.post=u,exports.sendLog=function(e,t){var n=e.noPostAtIOS&&(0,r.isMacOsLike)(),a=(0,i.default)(e);return(0,r.supportBeacon)()&&!n?void u(a):void((!t||n)&&(a.length>8192&&(e.msg=(0,o.default)(e.msg),e.message=(0,o.default)(e.message),e.stack=(0,o.default)(e.stack),a=(0,i.default)(e)),s(a)))}},function(module,exports){Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e){var t,n,r;void 0===e&&(e="/jstracker.3?");var o="//gm.mmstat.com";return null!=(t=window)&&null!=(n=t.JSTracker2)&&null!=(r=n._config)&&r.server&&(o=window.JSTracker2._config.server),o+e},module.exports=exports.default},function(module,exports){Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e){return e?function(e){var t=/https?:\/\/((([0-9a-zA-Z._#?@-]+\/)+[0-9a-zA-Z._#?@-]*),?)+/g,n=e.match(t);if(!n||n.length<2)return e;var r=n.reduce(function(e,t){return e[t]?e[t]++:e[t]=1,e},{}),o=[],i="";return e=e.replace(t,function(e){if(r[e]>1){var t=o.indexOf(e);return-1===t&&(t=o.length,o.push(e),i+="; $"+t+": "+e),"$"+t}return e}),e+=i}(e):e},module.exports=exports.default},function(module,exports){Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e){var t,n=[];try{for(var r in e)"reverse1"!=r?n.push(r+"="+encodeURIComponent(e[r])):t=r+"="+encodeURIComponent(e[r])}catch(e){}var o=n.join("&");return!t||o.length+t.length>2083?o:o+"&"+t},module.exports=exports.default},function(module,exports,e){var t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e,o,i){var a;if(void 0===o&&(o=function(){}),void 0===i&&(i=function(){}),!(e&&"object"===(void 0===e?"undefined":t(e))&&e.event&&(0,n.isWindvaneFn)()&&r.some(n.isMatchApp)))return void((0,n.isDebug)()&&"function"==typeof(null==(a=console)?void 0:a.error)&&(!e&&console.error("jstracker上报tlog需要传入参数"),!(e instanceof Object)&&console.error("jstracker上报tlog, 传入参数需要为Object"),!e.event&&console.error("jstracker上报tlog, code字段为必填字段"),!(0,n.isWindvaneFn)()&&console.error("tlog上报无Windvane环境"),!r.some(n.isMatchApp)&&console.error("手淘版本较低无法上传tlog,仅支持10.16.10以上版本")));var s=function(t){var r;(0,n.isDebug)()&&(null==(r=console)?void 0:r.log)&&console.error("上报tlog失败:",e),(0,n.isFunction)(i)&&i(t)},u=lib.windvane.call("WVNativeLog","write",e,function(t){var r;(0,n.isDebug)()&&(null==(r=console)?void 0:r.log)&&console.log("上报tlog成功:",e),(0,n.isFunction)(o)&&o(t)},s);u&&u.catch&&u.catch(s)};var n=e(4),r=[["Android","TB","10.16.10"],["iOS","TB","10.16.10"]];module.exports=exports.default},function(module){module.exports=JSON.parse('{"name":"@ali/universal-tracker","version":"4.1.10","description":"universal-tracker","main":"lib/index.js","module":"es/index.js","scripts":{"start":"build-scripts start","build":"build-scripts build","lint":"eslint --ext .js,.jsx,.ts,.tsx ./ -f json -o ./.ci/eslint.json","lint:fix":"npm run eslint -- --fix","test":"jest --coverage","ci:test":"tnpm run test"},"jest":{"coverageDirectory":"./.ci/","coverageReporters":["json"]},"exports":{".":{"web":"./es/web.js","weex":"./es/weex.js","miniapp":"./es/miniapp.js","wechat-miniprogram":"./es/wxmp.js","default":"./es/index.js"},"./*":"./*"},"keywords":["tracker","jstracker","universal"],"engines":{"npm":">=3.0.0"},"sideEffects":false,"repository":{"type":"git","url":"git@gitlab.alibaba-inc.com:ali-rax-pkg/universal-tracker.git"},"dependencies":{"@ali/jstracker-core":"^1.0.19","universal-env":"^3.0.0"},"devDependencies":{"@ali/build-plugin-miniapp-preview":"^1.1.0","@ali/build-plugin-rax-seed":"^1.0.0","@alib/build-scripts":"^0.1.0","@commitlint/cli":"^13.1.0","@iceworks/spec":"^1.4.1","build-plugin-component":"^1.0.0","driver-universal":"^3.1.4","eslint":"^7.32.0","husky":"^7.0.2","jest":"^27.2.0","rax":"^1.1.4","rax-view":"^2.0.3"},"husky":{"hooks":{"commit-msg":"commitlint -E HUSKY_GIT_PARAMS","pre-commit":"npm run lint"}},"publishConfig":{"registry":"https://registry.npm.alibaba-inc.com"},"homepage":"https://unpkg.alibaba-inc.com/@ali/universal-tracker@4.1.10/build/index.html","nameWithMajor":"@ali/universal-tracker@4","__npminstall_done":true,"_from":"@ali/universal-tracker@4.1.10","_resolved":"https://registry.npm.alibaba-inc.com/@ali/universal-tracker/download/@ali/universal-tracker-4.1.10.tgz"}')},function(module,exports,e){Object.defineProperty(exports,"__esModule",{value:!0});var t=o(e(2)),n=o(e(5)),r=o(e(6));e(8);function o(e){return e&&e.__esModule?e:{default:e}}function i(){return(i=Object.assign?Object.assign.bind():function(e){for(var t,n=1;n<arguments.length;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)}function a(e,t){return(a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var s=new(function(e){function t(t){var n;return t=Object.assign({sampling:1},t),(n=e.call(this,t)||this)._config.v=r.default,n.getSystemInfo(),n.getNetworkType(),n}var n,o;o=e,(n=t).prototype=Object.create(o.prototype),n.prototype.constructor=n,a(n,o);var i=t.prototype;return i.getSystemInfo=function(){var e=this;try{wx.canIUse("getSystemInfo")&&wx.getSystemInfo({success:function(t){e._config=Object.assign(e._config,t),e._config.screen=t.screenWidth+"x"+t.screenHeight},fail:function(t){e.errorHandler("getSystemInfo error:",t)}})}catch(e){this.errorHandler("getSystemInfo error:",e)}},i.getNetworkType=function(){var e=this;try{wx.canIUse("getNetworkType")&&wx.getNetworkType({success:function(t){null!=t&&t.networkType&&(e._config.network=t.networkType)},fail:function(t){e.errorHandler("getNetworkType error:",t)}})}catch(e){this.errorHandler("getNetworkType error:",e)}},i.getHeader=function(){var e=this._config,t=e.platform,n=void 0===t?"":t,r=e.system,o=void 0===r?"":r,i=e.brand,a=void 0===i?"":i,s=e.model,u=void 0===s?"":s,c=e.version;return{"user-agent":"miniapp/1.0 ("+n+" "+o+"; "+a+" "+u+") AliApp(WeChat/"+(void 0===c?"":c)+")"}},i.errorHandler=function(){for(var e,t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];this._debug&&(null==(e=console)||e.warn.apply(e,n))},i.getOriginUrl=function(){var e;return"http://"+(null==(e=this._config)?void 0:e.appId)+".hybrid.miniapp.wx.com/index.html"},i.sendLog=function(e){try{if(!e.appId)return void this.errorHandler("未设置小程序appId，无法发送日志");var t=this.getOriginUrl();Object.assign(e,{origin_url:t}),wx.request({url:"https://gm.mmstat.com/jstracker.3",headers:this.getHeader(),method:"GET",data:e,dataType:"base64"})}catch(e){this.errorHandler("sendLog error:",e)}},t}(t.default)),u=(0,n.default)(s,"wxmp"),c=function(e){e instanceof Error?u.reportError(e,"global"):u.reportError({message:JSON.stringify(e),sampling:1})},l=function(e){var t=e.reason;c(t)},d=function(e){c(e)},f=function(){wx.onUnhandledRejection(l),wx.onError(d),function(){try{wx.getPerformance().createObserver(function(e){u.report({message:JSON.stringify(e.getEntries()),type:"___perf___",module:"wechat",sampling:.01})}).observe({entryTypes:["render","script","navigation"]})}catch(e){(void 0).errorHandler("performance error:",e)}}()};f(),exports.default=i({},u,{hook:f,offHook:function(){wx.offUnhandledRejection(l),wx.offError(d)}}),module.exports=exports.default},function(module,exports,e){Object.defineProperty(exports,"__esModule",{value:!0});var t=o(e(2)),n=o(e(5)),r=o(e(6));e(8);function o(e){return e&&e.__esModule?e:{default:e}}function i(){return(i=Object.assign?Object.assign.bind():function(e){for(var t,n=1;n<arguments.length;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)}function a(e,t){return(a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var s=function(){},u=new(function(e){function t(t){var n;return t=Object.assign({sampling:1},t),(n=e.call(this,t)||this)._config.v=r.default,n.getSystemInfo(),n.getNetworkType(),n}var n,o;o=e,(n=t).prototype=Object.create(o.prototype),n.prototype.constructor=n,a(n,o);var i=t.prototype;return i.getSystemInfo=function(){try{var e=my.getSystemInfoSync();if(this._config=Object.assign(this._config,e),this._config.screen=e.screenWidth+"x"+e.screenHeight,"taobao"===e.app){var t=my.callSync("getClientInfo");this._config.deviceId=t["device.id"]}var n=my.getAppIdSync();this._config.appId=n.appId}catch(e){this.errorHandler("getSystemInfo error:",e)}},i.getNetworkType=function(){var e=this;try{my.canIUse("getNetworkType")&&my.getNetworkType({success:function(t){null!=t&&t.networkAvailable&&(e._config.network=t.networkType)},fail:function(t){e.errorHandler("getNetworkType error:",t)}})}catch(e){this.errorHandler("getNetworkType error:",e)}},i.getHeader=function(){var e=this._config,t=e.platform,n=void 0===t?"":t,r=e.system,o=void 0===r?"":r,i=e.brand,a=void 0===i?"":i,s=e.model,u=void 0===s?"":s,c=e.app,l=void 0===c?"":c,d=e.version;return{"user-agent":"miniapp/1.0 ("+n+" "+o+"; "+a+" "+u+") AliApp("+l+"/"+(void 0===d?"":d)+")"}},i.errorHandler=function(){for(var e,t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];this._debug&&(null==(e=console)||e.warn.apply(e,n))},i.getOriginUrl=function(){var e;return"http://"+(null==(e=this._config)?void 0:e.appId)+".hybrid.miniapp.taobao.com/index.html"},i.sendLog=function(e){try{if(!e.appId)return void this.errorHandler("未设置小程序appId，无法发送日志");var t=this.getOriginUrl();Object.assign(e,{origin_url:t});var n=(my.request||my.httpRequest)({url:"https://gm.mmstat.com/jstracker.3",headers:this.getHeader(),method:"GET",data:e,dataType:"base64",fail:this.errorHandler});(null==n?void 0:n.catch)&&n.catch(this.errorHandler)}catch(e){this.errorHandler("sendLog error:",e)}},t}(t.default)),c=(0,n.default)(u,"miniapp"),l=!1,d=my.sendMtop;exports.default=i({},c,{hook:function(){if(!l)try{my.sendMtop=function(e){var t=(new Date).getTime(),n=e.fail||s;e.fail=function(r){n(r);var o=Object.assign({api:e.apiName,success:!1,message:null==r?void 0:r.errorMessage,timing:(new Date).getTime()-t,params:JSON.stringify(e),response:JSON.stringify(r),sampling:1});c.reportMtop(o)},d.call(my,e),l=!0}}catch(e){(void 0).errorHandler("hook error:",e)}},offHook:function(){my.sendMtop=d,l=!1}}),module.exports=exports.default},function(module,exports,e){Object.defineProperty(exports,"__esModule",{value:!0});var t=o(e(2)),n=o(e(5)),r=o(e(6));function o(e){return e&&e.__esModule?e:{default:e}}function i(e,t){return(i=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var a=new(function(e){function t(t){var n;return t=Object.assign({sampling:1},t),(n=e.call(this,t)||this)._config.version=r.default,n._config.origin_url=n.getOriginUrl(),n.count=0,n}var n,o;o=e,(n=t).prototype=Object.create(o.prototype),n.prototype.constructor=n,i(n,o);var a=t.prototype;return a.isUseSDK=function(){return!(!window.JSTracker2||!window.JSTracker2.push)},a.push=function(t){this.isUseSDK()?window.JSTracker2.push(t):e.prototype.push.call(this,t)},a.sendLog=function(t){try{e.prototype.sendLog.call(this,t)}catch(e){this._debug&&console.error(e&&e.message)}},a.reportTLog=function(t,n,r){e.prototype.reportTLog.call(this,t,n,r)},t}(t.default));exports.default=(0,n.default)(a,"web"),module.exports=exports.default},function(module,exports,e){Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e){return new Promise(function(r,o){var i=Object.assign({},e,{apiName:e.api,apiVersion:e.v,needEcodeSign:e.ecode+""=="1"});(0,n.isObject)(e.data)||(i.data=JSON.parse(e.data)),Object.assign&&e.dangerouslySetAlipayParams&&Object.assign(i,e.dangerouslySetAlipayParams),"alipay"===e.miniAppType||"alipay"===(t||(t=my.getSystemInfoSync()),t).app?("POST"===e.type&&(i.usePost=!0),(!!e.originaljsonp||!!e.json)&&(i.type="originaljson"),void 0!==e.valueType&&("original"===e.valueType?i.type="originaljson":"string"===e.valueType&&delete i.type),!0===e.useJsonpResultType&&delete i.type,my.call("mtop",i,function(e){if(Array.isArray(e.ret)){var t=!0;for(var n in e.ret)/^SUCCESS::/.test(e.ret[n])||(t=!1);t?r(e):o(e)}else o(e)})):(i.method=e.type,i.success=function(e){r(e)},i.fail=function(e){o(e)},my.sendMtop(i))})};var t,n=e(1);module.exports=exports.default},function(module,exports){function e(e){var t=Object.keys(e.params).map(function(t){return t+"="+e.params[t]}).join("&");window.goldlog&&window.goldlog.record(e.path,e.event,"st_page_id=".concat(window.dmtrack_pageid,"&").concat(t),"POST")}function t(e){try{window.goldlog?e():(window.goldlog_queue||(window.goldlog_queue=[])).push({action:"goldlog.aplus_pubsub.subscribe",arguments:["goldlogReady",function(){e()}]})}catch(e){}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.getPageId=function(){return new Promise(function(e){t(function(){e()})}).then(function(){return window.dmtrack_pageid})},exports.click=function(n){t(function(){e({path:"/ae.pc_click.statweb_ae_click",event:"CLK",params:n})})},exports.exposure=function(n){t(function(){e({path:"/ae.pc_ctr.statweb_ae_ctr",event:"EXP",params:n})})}},function(module,exports){exports.__=function(e,t){for(var n=arguments.length,r=Array(n>2?n-2:0),o=2;o<n;o++)r[o-2]=arguments[o];var i=e||t;for(var a in r){var s=r[a];i=i.replace(new RegExp("\\${\\w?"+a+"\\w?\\}","g"),s)}return i},exports.getUrlParams=function(e){var t=location.search||"",n=location.href.indexOf("?");n>-1&&!t&&(t=location.href.slice(n));for(var r=t.match(/[^&?]+=[^&]+/g)||[],o={},i=0;i<r.length;i++){var a=r[i].split(/=/),s=a[1].replace(/%25/g,"%");o[a[0]]=decodeURIComponent(s)}return o[e]||null}},function(module,exports){module.exports={wrapper:{width:"1200px",marginTop:48,marginRight:"auto",marginBottom:48,marginLeft:"auto",fontFamily:"Open Sans"},productsWrap:{display:"block",marginLeft:"-8px",marginRight:"-8px"},product:{width:"288px",height:"376px",marginLeft:"8px",marginRight:"8px",backgroundColor:"rgb(255,255,255)",borderRadius:"4px",padding:"16px",display:"inline-block"},imageWrap:{display:"flex",flexDirection:"row",alignItems:"center",textAlign:"center",verticalAlign:"middle",justifyContent:"center",width:"256px",height:"256px"},picture:{display:"block",maxWidth:"256px",maxHeight:"256px",cursor:"pointer"},titleLink:{display:"inline-block",width:"100%",height:"36px",overflow:"hidden",marginTop:"8px"},title:{fontSize:"13px",lineHeight:"18px",width:"256px",height:"36px",color:"rgb(51,51,51)",overflow:"hidden",textOverflow:"ellipsis",cursor:"pointer",display:"block",float:"left"},promoprice:{display:"flex",flexDirection:"row",height:"24px",alignItems:"center"},propicture:{display:"block",height:"14px"},price:{fontWeight:"700",fontSize:"18px",lineHeight:"24px",overflow:"hidden",textOverflow:"ellipsis",color:"rgb(0,0,0)",marginLeft:"4px"},"price-dir":{marginRight:"4px"},originContainer:{height:"18px",flexDirection:"row",alignItems:"center",justifyContent:"space-between"},oldPriceWrap:{display:"flex",flexDirection:"row"},oldPrice:{fontSize:"12px",lineHeight:"18px",color:"rgb(153,153,153)",textDecoration:"line-through",marginRight:"4px"},"oldPrice-dir":{marginRight:0,marginLeft:"4px"},discountInfo:{height:"16px",background:"#FFF1F1",lineHeight:"16px",paddingTop:0,paddingRight:"4px",paddingBottom:0,paddingLeft:"4px",borderRadius:"2px"},discountNum:{fontSize:"12px",color:"rgb(255,71,71)"},orders:{fontSize:"12px",color:"rgb(51,51,51)",lineHeight:"18px"},defaultImage:{width:1200}}},function(module,exports,e){Object.defineProperty(exports,"__esModule",{value:!0});var t=Object.assign||function(e){for(var t,n=1;n<arguments.length;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},n=function(){function e(e,t){for(var n,r=0;r<t.length;r++)(n=t[r]).enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),r=e(9),o=f(e(10)),i=f(e(11)),a=f(e(12)),s=f(e(13)),u=f(e(14)),c=e(47),l=e(48),d=f(e(49));function f(e){return e&&e.__esModule?e:{default:e}}var p=["ar","he","Arabic","Hebrew"],g=function(e){function f(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,f);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(f.__proto__||Object.getPrototypeOf(f)).call(this,e));return t.getMockData=function(){fetch("./data.json").then(function(e){return e.json()}).then(function(e){t.setState({showDataStatus:!0,showNoDataStatus:!1,dataSource:e.data.data.slice(0,4)})}).catch(function(e){console.error(e)})},t.getData=function(){var e=t.props,n=e.mds,r=e.gdc,o=(0,l.getUrlParams)("productIds"),i=URLSearchParams&&new URLSearchParams(window.location.search);window.lib.mtop.config.prefix=i&&i.get("pre-")?"pre-acs":"acs",window.lib.mtop.config.subDomain="",window.lib.mtop.config.mainDomain="aliexpress.com",/aliexpress.ru/.test(window.location.host)&&(window.lib.mtop.config.mainDomain="aliexpress.ru"),u.default.request({api:"mtop.aliexpress.store.products.recommend",v:"1.0",ecode:0,appKey:24770048,dataType:"originaljsonp",data:{currentPage:1,ignoreProductIds:n.moduleData.itemIds||"",pageSize:20,storeNumber:r.shopId,_lang:r._lang,locale:r.locale,currency:r.currency,country:r.country&&"CN"===r.country?"US":r.country,sellerId:r.sellerId,class:"com.alibaba.site.decorate.web.client.model.request.ShopRecommendRequest",scene:"camp4you",topProductIds:o||"",platform:"PC"}}).then(function(e){e.data&&(e.data.success||"success"===e.data.message)&&e.data.data&&e.data.data.length&&t.setState({showDataStatus:!0,showNoDataStatus:!1,dataSource:e.data.data.slice(0,4)})})},t.goTargetUrl=function(e,n){var r=t.props,o=r.mds,i=(r.gdc,{url:e,nid:n||0,widgetId:o.widgetId,moduleName:o.moduleName});(0,c.click)({ae_object_value:"",ae_object_type:"product",ae_button_type:"promoteWysiwyg_click",st_page_id:window.dmtrack_pageid}),t.pageUtils.goTargetUrl&&t.pageUtils.goTargetUrl(i)},t.getSaleImg=function(e){var n=t.state.gdc,r=void 0===n?{}:n,o=r.productIcon,i=void 0===o?"":o;if(r.atmosphereFlag&&e&&e.length>0){var a="";return e.forEach(function(e){"STORE_ITEM_TILTE_RESOURCE"===e.resourcePositionCode&&(a=e.atmosphereDTOList&&e.atmosphereDTOList[0]&&e.atmosphereDTOList[0].materials[0].value)}),a}return i},t.isDir=function(){var e=t.state.gdc,n=(void 0===e?{}:e).lang,r=void 0===n?"":n;return p.includes(r)},t.getDirCss=function(e){var n=d.default[e],r=Object.assign({},n,d.default[e+"-dir"]);return t.isDir()?r:n},t.getDiscount=function(e){if(e>0)return"-"+e+"%"},t.styleUnderLine=function(e){e.target.style.textDecoration="underline",e.target.style.color="#000"},t.styleUnderLineNo=function(e){e.target.style.textDecoration="none",e.target.style.color="#000"},t.pageUtils=e.pageUtils,t.fetch=t.pageUtils.fetch,t.state={showDataStatus:!1,showNoDataStatus:!0,mds:t.props.mds||{},gdc:t.props.gdc||{},dataSource:[]},t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(f,r.Component),n(f,[{key:"componentDidMount",value:function(){var e=this.props.mds.moduleData,t=void 0===e?{}:e;Object.keys(t).length>0&&this.getData()}},{key:"render",value:function(){var e=this,n=this.state,u=n.showDataStatus,c=n.showNoDataStatus,f=this.props,p=f.mds,g=f.gdc,m=g.translation,y=void 0===m?{}:m,v=this.state.dataSource,h=g.preView,w=p.moduleName,b=void 0===w?"":w,_=p.widgetId,O=void 0===_?"":_,j={st_page_id:window.dmtrack_pageid,exp_type:b+"_exposure",exp_attribute:"",exp_trigger:"","spm-cnt":"a2g0o.store_home."+b+"."+O};return u?(0,r.createElement)(o.default,t({},j,{style:d.default.wrapper,dir:this.isDir()?"rtl":"ltr"}),(0,r.createElement)(o.default,{style:d.default.productsWrap},v.map(function(t,n){var u="https://www.aliexpress.com/item/"+t.id+".html";return(0,r.createElement)(o.default,{style:d.default.product},(0,r.createElement)(o.default,{style:d.default.pictureWrap},(0,r.createElement)(s.default,{style:d.default.imageWrap,onClick:function(){e.goTargetUrl(u,n,"_blank")},"data-href":""+u},(0,r.createElement)(a.default,{source:{uri:t.image350Url},style:d.default.picture}))),(0,r.createElement)(o.default,{style:d.default.titleLink,onClick:function(){e.goTargetUrl(u,n,"_blank")},"data-href":""+u,onMouseOver:e.styleUnderLine,onMouseOut:e.styleUnderLineNo,title:""+t.subject},(0,r.createElement)(i.default,{style:d.default.title,numberOfLines:2},t.subject)),(0,r.createElement)(o.default,{style:d.default.promoprice},(0,r.createElement)(a.default,{source:{uri:e.getSaleImg(t.atmosphere)||"//ae01.alicdn.com/kf/HTB130amXK6sK1RjSsrb760bDXXaM.png"},style:d.default.propicture}),(0,r.createElement)(i.default,{style:e.getDirCss("price"),numberOfLines:1},"true"===g.isBigSalePreview||!0===g.isBigSalePreview?t.formatedPreviewPromotionPiecePriceStr:t.formatedPromotionPiecePriceStr)),(0,r.createElement)(o.default,{style:d.default.originContainer},(0,r.createElement)(o.default,{style:d.default.oldPriceWrap},(0,r.createElement)(i.default,{style:e.getDirCss("oldPrice"),numberOfLines:1},t.formatedPiecePriceStr),t.promotionDiscount&&t.promotionDiscount>0?(0,r.createElement)(o.default,{style:d.default.discountInfo},(0,r.createElement)(i.default,{style:d.default.discountNum,numberOfLines:1},e.getDiscount(t.promotionDiscount))):null),(0,r.createElement)(i.default,{style:d.default.orders},t.orders>0?(0,l.__)(y["module.smartLeaderboard.sold"],"${0} Sold",t.orders):null)))}))):!c||"true"!==h&&!0!==h?null:(0,r.createElement)(a.default,{style:t({},d.default.defaultImage,{width:1200,height:"auto"}),source:{uri:p.defaultImage}})}}]),f}();exports.default=g,module.exports=exports.default}])});