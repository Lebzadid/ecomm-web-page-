define('universal-env', [], function(require, exports, module) {

!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define)define("universal-env",function(n,t,o){o.exports=e()});else{("undefined"!=typeof window?window:"undefined"!=typeof self?self:"undefined"!=typeof global?global:this).UniversalEnv=e()}}(function(){return function(e){var n={};function t(o){if(n[o])return n[o].exports;var r=n[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,t),r.l=!0,r.exports}return t.m=e,t.c=n,t.d=function(e,n,o){t.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:o})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,n){if(1&n&&(e=t(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(t.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var r in e)t.d(o,r,function(n){return e[n]}.bind(null,r));return o},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},t.p="",t(t.s=0)}([function(e,n,t){"use strict";function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.isReactNative=n.isWeex=n.isNode=n.isWeb=void 0;var r="object"===("undefined"==typeof navigator?"undefined":o(navigator))&&("Mozilla"===navigator.appCodeName||"Gecko"===navigator.product);n.isWeb=r;var i="undefined"!=typeof process&&!(!process.versions||!process.versions.node);n.isNode=i;var f="function"==typeof callNative||"object"===("undefined"==typeof WXEnvironment?"undefined":o(WXEnvironment))&&"Web"!==WXEnvironment.platform;n.isWeex=f;var u="undefined"!=typeof __fbBatchedBridgeConfig;n.isReactNative=u,n.default=e.exports;var d=e.exports;n.default=d}])});
//# sourceMappingURL=env.min.map

});define("npm/@ali/universal-tracker/index",[],function(e,t,n){n.exports=function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var n={};return t.m=e,t.c=n,t.p="/build/",t(0)}([function(e,t,n){e.exports=n(1)},function(e,t,n){"use strict";e.exports=n(2)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e){if(++y>20&&d)return!1;var t=Object.assign({url:p["default"].format(e)},g,e);t.sampling=c()?1:t.sampling,Math.random()*t.sampling<1&&(d&&"undefined"!=typeof goldlog?goldlog.send&&goldlog.send("//gm.mmstat.com"+x,t):i()&&(t.isInWindmill="web",a(t)))}function i(){return!("undefined"==typeof my||!my.getSystemInfoSync||"function"!=typeof my.getSystemInfoSync||"TB"!==my.getSystemInfoSync().app&&"alipay"!==my.getSystemInfoSync().app)}function a(e){my.request&&"function"==typeof my.request?my.request({url:"http://gm.mmstat.com"+x,method:"GET",data:e,dataType:"text"})["catch"](function(){}):my.httpRequest&&"function"==typeof my.httpRequest&&my.httpRequest({url:"//gm.mmstat.com"+x,method:"get",data:e,dataType:"json"})}function s(e,t,n){var r={};e&&e instanceof Error&&(r={stack:JSON.stringify(e.stack),name:e.name,message:e.message,type:"error",module:t},n&&(r.reverse1=n),o(r))}function u(e,t){e&&e.url&&(e.type="api",e.module=t,e.sampling=e.sampling||"100",o(e))}function f(e){e&&e.sampling&&(g.sampling=e.sampling)}function c(){var e=l||"undefined"==typeof location?"":location.href;return e.indexOf("jt_debug=1")>-1}Object.defineProperty(t,"__esModule",{value:!0});var m=("function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(3)),p=r(m),l=!1,d=!0,y=0,g={screen:"undefined"==typeof screen?"0x0":(screen&&screen.width)+"x"+(screen&&screen.height),sampling:1,version:"rx-tracker/2.2.9","native":0,isInWindmill:0},x="/jstracker.3";t["default"]={report:o,reportError:s,reportApi:u,setConfig:f},e.exports=t["default"]},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=!1,r="rx_user_define_err",o={render:"rx_render_err",data:"rx_data_fetch_err",error:"rax_error"};t["default"]={format:function(e){var t=n||"undefined"==typeof location?"":location.href||"",i=o[e.type||"custom"]||r,a=t.replace(/[\?#].*$/,"").replace(/\/$/,""),s=[a,e.module||"",i].join("/");return s}},e.exports=t["default"]}])});define("npm/@ali/universal-mtop/index",[],function(e,t,n){n.exports=function(e){function t(o){if(n[o])return n[o].exports;var r=n[o]={exports:{},id:o,loaded:!1};return e[o].call(r.exports,r,r.exports,t),r.loaded=!0,r.exports}var n={};return t.m=e,t.c=n,t.p="/build/",t(0)}([function(e,t,n){e.exports=n(1)},function(e,t,n){"use strict";e.exports=n(2)},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function r(e,t,n){if(!e.disableTracker){var o=void 0;o=location.hostname+location.pathname,c["default"].report({url:"//tarzan/error/"+o+"/"+e.api+"/"+e.v,message:JSON.stringify(t),reverse1:n,type:"mtop"})}}function i(e,t,n){var o;if(e){o=[];for(var r in e)e.hasOwnProperty(r)&&(!t||t.indexOf(r)>-1)&&void 0!==e[r]&&""!==e[r]&&o.push(r+"-"+(n?encodeURIComponent(e[r]):e[r]));o.sort()}else o=[];return o.join("_")}function s(e){var t,n=e.api;return n&&(t=i(e.data,e.requiredParams,e.encodeParam)),"//fallback.alicdn.com/mtop/"+e.api+"_"+(e.v||"1.0")+"/"+t}function a(e,t){return new Promise(function(n,o){"string"==typeof e.data&&(e.data=JSON.parse(e.data));var i=s(e),a=new XMLHttpRequest;a.open("get",i,!0),a.send(null),a.onreadystatechange=function(){if(4==this.readyState&&200==this.status)try{var i=JSON.parse(this.responseText);i&&i.success&&i.result&&!i.result.backup?(r(e,t,"0210"),o(t)):n(i)}catch(s){r(e,t,"0210"),o(t)}else 4==this.readyState&&(r(e,t,"0011"),o(t))}})}Object.defineProperty(t,"__esModule",{value:!0});var p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},u=n(3),c=o(u),d=n(4),l=n(5),f=(o(l),!1);"undefined"!=typeof lib&&lib.mtop||n(6),t["default"]={request:function(e,t,n){function o(){return new Promise(function(t,n){lib.mtop.request(e,function(o){o&&o.ret&&o.ret.length&&"WV_ERR::PARAM_PARSE_ERROR"===o.ret[0]?lib.mtop.H5Request(e,t,n):t(o)},n)})}return e&&"undefined"==typeof e.preventFallback&&(e.preventFallback=!0),new Promise(function(i,s){o().then(function(e){t&&t(e),i(e)})["catch"](function(o){var p=-1;return n=n||t,o&&(o.api||o.v)||(o={api:e.api,v:e.v,data:{},ret:["FAIL::"+(JSON.stringify(o)||"")],retType:p}),void 0===o.retType&&(o.retType=p),r(e,o,"0012"),e&&(1==e.ecode||e.preventFallback||f)?(n&&n(o),s(o)):void a(e,o).then(function(e){t(e),i(e)})["catch"](function(e){n=n||t,n&&n(e),s(e)})})})},config:function(e,t){"undefined"!=typeof lib&&lib.mtop&&("string"==typeof e?lib.mtop.config[e]=t:lib.mtop.config=p({},lib.mtop.config,e))},RESPONSE_TYPE:d.RESPONSE_TYPE},e.exports=t["default"]},function(t,n){t.exports=e("npm/@ali/universal-tracker/index")},function(e,t){"use strict";function n(e){return"[object Object]"=={}.toString.call(e)}function o(e,t){return{api:e.api,v:e.v,data:{},ret:["FAIL::"+(t||"")],retType:-1}}Object.defineProperty(t,"__esModule",{value:!0}),t.isObject=n,t.getCommonError=o;t.RESPONSE_TYPE={ERROR:-1,SUCCESS:0,TOKEN_EXPIRED:1,SESSION_EXPIRED:2}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=function(e){return r||(r=my.getSystemInfoSync()),new Promise(function(t,n){function i(e){return e.error?n(e.error):void t(e)}var s=Object.assign({},e,{apiName:e.api,apiVersion:e.v,needEcodeSign:"1"===String(e.ecode),usePost:"POST"===e.type});(0,o.isObject)(e.data)||(s.data=JSON.parse(e.data)),Object.assign&&e.dangerouslySetAlipayParams&&Object.assign(s,e.dangerouslySetAlipayParams),"alipay"===r.app?((e.originaljsonp||e.json)&&(s.type="originaljson"),"undefined"!=typeof e.valueType&&("original"===e.valueType?s.type="originaljson":"string"===e.valueType&&delete s.type),e.useJsonpResultType===!0&&delete s.type,my.call("mtop",s,i)):(s.success=function(e){t(e)},s.fail=function(e){n(e)},my.sendMtop(s))})};var o=n(4),r=void 0;e.exports=t["default"]},function(e,t){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(e,t){function o(){var e={},t=new g(function(t,n){e.resolve=t,e.reject=n});return e.promise=t,e}function r(e,t){for(var n in t)void 0===e[n]&&(e[n]=t[n]);return e}function i(e){var t=document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]||document.firstElementChild||document;t.appendChild(e)}function s(e){var t=[];for(var n in e)e[n]&&t.push(n+"="+encodeURIComponent(e[n]));return t.join("&")}function a(e){try{return".com"!==e.substring(e.lastIndexOf("."))?(e.split(".")||[]).length<=3?e:e.split(".").slice(1).join("."):e.substring(e.lastIndexOf(".",e.lastIndexOf(".")-1)+1)}catch(t){return e.substring(e.lastIndexOf(".",e.lastIndexOf(".")-1)+1)}}function p(e){function t(e,t){return e<<t|e>>>32-t}function n(e,t){var n,o,r,i,s;return r=2147483648&e,i=2147483648&t,n=1073741824&e,o=1073741824&t,s=(1073741823&e)+(1073741823&t),n&o?2147483648^s^r^i:n|o?1073741824&s?3221225472^s^r^i:1073741824^s^r^i:s^r^i}function o(e,t,n){return e&t|~e&n}function r(e,t,n){return e&n|t&~n}function i(e,t,n){return e^t^n}function s(e,t,n){return t^(e|~n)}function a(e,r,i,s,a,p,u){return e=n(e,n(n(o(r,i,s),a),u)),n(t(e,p),r)}function p(e,o,i,s,a,p,u){return e=n(e,n(n(r(o,i,s),a),u)),n(t(e,p),o)}function u(e,o,r,s,a,p,u){return e=n(e,n(n(i(o,r,s),a),u)),n(t(e,p),o)}function c(e,o,r,i,a,p,u){return e=n(e,n(n(s(o,r,i),a),u)),n(t(e,p),o)}function d(e){for(var t,n=e.length,o=n+8,r=16*((o-o%64)/64+1),i=new Array(r-1),s=0,a=0;n>a;)t=(a-a%4)/4,s=a%4*8,i[t]=i[t]|e.charCodeAt(a)<<s,a++;return t=(a-a%4)/4,s=a%4*8,i[t]=i[t]|128<<s,i[r-2]=n<<3,i[r-1]=n>>>29,i}function l(e){var t,n,o="",r="";for(n=0;3>=n;n++)t=e>>>8*n&255,r="0"+t.toString(16),o+=r.substr(r.length-2,2);return o}function f(e){e=e.replace(/\r\n/g,"\n");for(var t="",n=0;n<e.length;n++){var o=e.charCodeAt(n);128>o?t+=String.fromCharCode(o):o>127&&2048>o?(t+=String.fromCharCode(o>>6|192),t+=String.fromCharCode(63&o|128)):(t+=String.fromCharCode(o>>12|224),t+=String.fromCharCode(o>>6&63|128),t+=String.fromCharCode(63&o|128))}return t}var m,g,h,y,_,v,R,S,O,E=[],w=7,b=12,A=17,T=22,q=5,x=9,N=14,C=20,k=4,P=11,J=16,j=23,L=6,I=10,D=15,H=21;for(e=f(e),E=d(e),v=1732584193,R=4023233417,S=2562383102,O=271733878,m=0;m<E.length;m+=16)g=v,h=R,y=S,_=O,v=a(v,R,S,O,E[m+0],w,3614090360),O=a(O,v,R,S,E[m+1],b,3905402710),S=a(S,O,v,R,E[m+2],A,606105819),R=a(R,S,O,v,E[m+3],T,3250441966),v=a(v,R,S,O,E[m+4],w,4118548399),O=a(O,v,R,S,E[m+5],b,1200080426),S=a(S,O,v,R,E[m+6],A,2821735955),R=a(R,S,O,v,E[m+7],T,4249261313),v=a(v,R,S,O,E[m+8],w,1770035416),O=a(O,v,R,S,E[m+9],b,2336552879),S=a(S,O,v,R,E[m+10],A,4294925233),R=a(R,S,O,v,E[m+11],T,2304563134),v=a(v,R,S,O,E[m+12],w,1804603682),O=a(O,v,R,S,E[m+13],b,4254626195),S=a(S,O,v,R,E[m+14],A,2792965006),R=a(R,S,O,v,E[m+15],T,1236535329),v=p(v,R,S,O,E[m+1],q,4129170786),O=p(O,v,R,S,E[m+6],x,3225465664),S=p(S,O,v,R,E[m+11],N,643717713),R=p(R,S,O,v,E[m+0],C,3921069994),v=p(v,R,S,O,E[m+5],q,3593408605),O=p(O,v,R,S,E[m+10],x,38016083),S=p(S,O,v,R,E[m+15],N,3634488961),R=p(R,S,O,v,E[m+4],C,3889429448),v=p(v,R,S,O,E[m+9],q,568446438),O=p(O,v,R,S,E[m+14],x,3275163606),S=p(S,O,v,R,E[m+3],N,4107603335),R=p(R,S,O,v,E[m+8],C,1163531501),v=p(v,R,S,O,E[m+13],q,2850285829),O=p(O,v,R,S,E[m+2],x,4243563512),S=p(S,O,v,R,E[m+7],N,1735328473),R=p(R,S,O,v,E[m+12],C,2368359562),v=u(v,R,S,O,E[m+5],k,4294588738),O=u(O,v,R,S,E[m+8],P,2272392833),S=u(S,O,v,R,E[m+11],J,1839030562),R=u(R,S,O,v,E[m+14],j,4259657740),v=u(v,R,S,O,E[m+1],k,2763975236),O=u(O,v,R,S,E[m+4],P,1272893353),S=u(S,O,v,R,E[m+7],J,4139469664),R=u(R,S,O,v,E[m+10],j,3200236656),v=u(v,R,S,O,E[m+13],k,681279174),O=u(O,v,R,S,E[m+0],P,3936430074),S=u(S,O,v,R,E[m+3],J,3572445317),R=u(R,S,O,v,E[m+6],j,76029189),v=u(v,R,S,O,E[m+9],k,3654602809),O=u(O,v,R,S,E[m+12],P,3873151461),S=u(S,O,v,R,E[m+15],J,530742520),R=u(R,S,O,v,E[m+2],j,3299628645),v=c(v,R,S,O,E[m+0],L,4096336452),O=c(O,v,R,S,E[m+7],I,1126891415),S=c(S,O,v,R,E[m+14],D,2878612391),R=c(R,S,O,v,E[m+5],H,4237533241),v=c(v,R,S,O,E[m+12],L,1700485571),O=c(O,v,R,S,E[m+3],I,2399980690),S=c(S,O,v,R,E[m+10],D,4293915773),R=c(R,S,O,v,E[m+1],H,2240044497),v=c(v,R,S,O,E[m+8],L,1873313359),O=c(O,v,R,S,E[m+15],I,4264355552),S=c(S,O,v,R,E[m+6],D,2734768916),R=c(R,S,O,v,E[m+13],H,1309151649),v=c(v,R,S,O,E[m+4],L,4149444226),O=c(O,v,R,S,E[m+11],I,3174756917),S=c(S,O,v,R,E[m+2],D,718787259),R=c(R,S,O,v,E[m+9],H,3951481745),v=n(v,g),R=n(R,h),S=n(S,y),O=n(O,_);var V=l(v)+l(R)+l(S)+l(O);return V.toLowerCase()}function u(e){return"[object Object]"=={}.toString.call(e)}function c(e,t,n){var o=n||{};document.cookie=e.replace(/[^+#$&^`|]/g,encodeURIComponent).replace("(","%28").replace(")","%29")+"="+t.replace(/[^+#$&\/:<-\[\]-}]/g,encodeURIComponent)+(o.domain?";domain="+o.domain:"")+(o.path?";path="+o.path:"")+(o.secure?";secure":"")+(o.httponly?";HttpOnly":"")}function d(e){var t=new RegExp("(?:^|;\\s*)"+e+"\\=([^;]+)(?:;\\s*|$)").exec(document.cookie);return t?t[1]:void 0}function l(e,t,n){var o=new Date;o.setTime(o.getTime()-864e5);var r="/";document.cookie=e+"=;path="+r+";domain=."+t+";expires="+o.toGMTString(),document.cookie=e+"=;path="+r+";domain=."+n+"."+t+";expires="+o.toGMTString()}function f(e,t){for(var n=e.split("."),o=t.split("."),r=0;3>r;r++){var i=Number(n[r]),s=Number(o[r]);if(i>s)return 1;if(s>i)return-1;if(!isNaN(i)&&isNaN(s))return 1;if(isNaN(i)&&!isNaN(s))return-1}return 0}function m(e){this.id=""+(new Date).getTime()+ ++E,this.params=r(e||{},{v:"*",data:{},type:"get",dataType:"jsonp"}),this.params.type=this.params.type.toLowerCase(),"object"==n(this.params.data)&&(this.params.data=JSON.stringify(this.params.data)),this.middlewares=_.slice(0)}var g=e.Promise,h=(g||{resolve:function(){}}).resolve();String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")});var y={useJsonpResultType:!1,safariGoLogin:!0,useAlipayJSBridge:!1},_=[],v={ERROR:-1,SUCCESS:0,TOKEN_EXPIRED:1,SESSION_EXPIRED:2};!function(){var t=e.location.hostname;if(!t){var n=e.parent.location.hostname;n&&~n.indexOf("zebra.alibaba-inc.com")&&(t=n)}var o=new RegExp("([^.]*?)\\.?((?:"+["taobao.net","taobao.com","tmall.com","tmall.hk","alibaba-inc.com"].join(")|(?:").replace(/\./g,"\\.")+"))","i"),r=t.match(o)||[],i=r[2]||"taobao.com",s=r[1]||"m";"taobao.net"!==i||"x"!==s&&"waptest"!==s&&"daily"!==s?"taobao.net"===i&&"demo"===s?s="demo":"alibaba-inc.com"===i&&"zebra"===s?s="zebra":"waptest"!==s&&"wapa"!==s&&"m"!==s&&(s="m"):s="waptest";var a="h5api";"taobao.net"===i&&"waptest"===s&&(a="acs"),y.mainDomain=i,y.subDomain=s,y.prefix=a}(),function(){var t=e.navigator.userAgent,n=t.match(/WindVane[\/\s]([\d\.\_]+)/);n&&(y.WindVaneVersion=n[1]);var o=t.match(/AliApp\(([^\/]+)\/([\d\.\_]+)\)/i);o&&(y.AliAppName=o[1],y.AliAppVersion=o[2]);var r=t.match(/AMapClient\/([\d\.\_]+)/i);r&&(y.AliAppName="AMAP",y.AliAppVersion=r[1])}();var R=/[Android|Adr]/.test(e.navigator.userAgent),S="AP"===y.AliAppName,O=S&&f(y.AliAppVersion,"10.1.2")>=0||"KB"===y.AliAppName&&f(y.AliAppVersion,"7.1.62")>=0||R&&"AMAP"===y.AliAppName&&f(y.AliAppVersion,"1.0.1")>=0,E=0;m.prototype.use=function(e){if(!e)throw new Error("middleware is undefined");return this.middlewares.push(e),this},m.prototype.__processRequestMethod=function(e){var t=this.params,n=this.options;"get"===t.type&&"jsonp"===t.dataType?n.getJSONP=!0:"get"===t.type&&"originaljsonp"===t.dataType?n.getOriginalJSONP=!0:"get"===t.type&&"json"===t.dataType?n.getJSON=!0:"post"===t.type&&(n.postJSON=!0),e()},m.prototype.__processRequestType=function(n){var o=this,r=this.params,i=this.options;if(y.H5Request===!0&&(i.H5Request=!0),y.WindVaneRequest===!0&&(i.WindVaneRequest=!0),i.H5Request===!1&&i.WindVaneRequest===!0){if(!O&&(!t.windvane||parseFloat(i.WindVaneVersion)<5.4))throw new Error("WINDVANE_NOT_FOUND::\u7f3a\u5c11WindVane\u73af\u5883");if(O&&!e.AlipayJSBridge)throw new Error("ALIPAY_NOT_READY::\u652f\u4ed8\u5b9d\u901a\u9053\u672a\u51c6\u5907\u597d\uff0c\u652f\u4ed8\u5b9d\u8bf7\u89c1 https://lark.alipay.com/mtbsdkdocs/mtopjssdkdocs/pucq6z")}else if(i.H5Request===!0)i.WindVaneRequest=!1;else if("undefined"==typeof i.WindVaneRequest&&"undefined"==typeof i.H5Request&&(t.windvane&&parseFloat(i.WindVaneVersion)>=5.4?(i.WindVaneRequest=!0,window.self!==window.top&&(i.H5Request=!0)):i.H5Request=!0,O)){if(i.WindVaneRequest=i.H5Request=void 0,e.AlipayJSBridge)if(u(r.data))i.WindVaneRequest=!0;else try{u(JSON.parse(r.data))?i.WindVaneRequest=!0:i.H5Request=!0}catch(s){i.H5Request=!0}else i.H5Request=!0;"AMAP"!==y.AliAppName||r.useNebulaJSbridgeWithAMAP||(i.WindVaneRequest=i.H5Request=void 0,i.H5Request=!0)}var a=e.navigator.userAgent.toLowerCase();return a.indexOf("youku")>-1&&i.mainDomain.indexOf("youku.com")<0&&(i.WindVaneRequest=!1,i.H5Request=!0),i.mainDomain.indexOf("youku.com")>-1&&a.indexOf("youku")<0&&(i.WindVaneRequest=!1,i.H5Request=!0),n?n().then(function(){var e=i.retJson.ret;if(e instanceof Array&&(e=e.join(",")),i.WindVaneRequest===!0&&O&&i.retJson.error||!e||e.indexOf("PARAM_PARSE_ERROR")>-1||e.indexOf("HY_FAILED")>-1||e.indexOf("HY_NO_HANDLER")>-1||e.indexOf("HY_CLOSED")>-1||e.indexOf("HY_EXCEPTION")>-1||e.indexOf("HY_NO_PERMISSION")>-1){if(!O||!isNaN(i.retJson.error)||-1!==i.retJson.error.indexOf("FAIL_SYS_ACCESS_DENIED"))return O&&u(r.data)&&(r.data=JSON.stringify(r.data)),y.H5Request=!0,o.__sequence([o.__processRequestType,o.__processToken,o.__processRequestUrl,o.middlewares,o.__processRequest]);"undefined"==typeof i.retJson.api&&"undefined"==typeof i.retJson.v&&(i.retJson.api=r.api,i.retJson.v=r.v,i.retJson.ret=[i.retJson.error+"::"+i.retJson.errorMessage],i.retJson.data={})}}):void 0};var w="_m_h5_c",b="_m_h5_tk";m.prototype.__getTokenFromAlipay=function(){var t=o(),n=this.options,r=(e.navigator.userAgent,!!location.protocol.match(/^https?\:$/));return n.useAlipayJSBridge===!0&&!r&&O&&e.AlipayJSBridge&&e.AlipayJSBridge.call?e.AlipayJSBridge.call("getMtopToken",function(e){e&&e.token&&(n.token=e.token),t.resolve()},function(){t.resolve()}):t.resolve(),t.promise},m.prototype.__getTokenFromCookie=function(){var e=this.options;return e.CDR&&d(w)?e.token=d(w).split(";")[0]:e.token=e.token||d(b),e.token&&(e.token=e.token.split("_")[0]),g.resolve()},m.prototype.__waitWKWebViewCookie=function(t){var n=this.options;n.waitWKWebViewCookieFn&&n.H5Request&&e.webkit&&e.webkit.messageHandlers?n.waitWKWebViewCookieFn(t):t()},m.prototype.__processToken=function(e){var t=this,n=this.options;return this.params,n.token&&delete n.token,n.WindVaneRequest!==!0?h.then(function(){return t.__getTokenFromAlipay()}).then(function(){return t.__getTokenFromCookie()}).then(e).then(function(){var e=n.retJson,o=e.ret;if(o instanceof Array&&(o=o.join(",")),o.indexOf("TOKEN_EMPTY")>-1||(n.CDR===!0||n.syncCookieMode===!0)&&o.indexOf("ILLEGAL_ACCESS")>-1||o.indexOf("TOKEN_EXOIRED")>-1){if(n.maxRetryTimes=n.maxRetryTimes||5,n.failTimes=n.failTimes||0,n.H5Request&&++n.failTimes<n.maxRetryTimes){var r=[t.__waitWKWebViewCookie,t.__processToken,t.__processRequestUrl,t.middlewares,t.__processRequest];if(n.syncCookieMode===!0&&t.constructor.__cookieProcessorId!==t.id)if(t.constructor.__cookieProcessor){var i=function(e){var n=function(){t.constructor.__cookieProcessor=null,t.constructor.__cookieProcessorId=null,e()};t.constructor.__cookieProcessor?t.constructor.__cookieProcessor.then(n)["catch"](n):e()};r=[i,t.__waitWKWebViewCookie,t.__processToken,t.__processRequestUrl,t.middlewares,t.__processRequest]}else t.constructor.__cookieProcessor=t.__requestProcessor,t.constructor.__cookieProcessorId=t.id;return t.__sequence(r)}n.maxRetryTimes>0&&(l(w,n.pageDomain,"*"),l(b,n.mainDomain,n.subDomain),l("_m_h5_tk_enc",n.mainDomain,n.subDomain)),e.retType=v.TOKEN_EXPIRED}}):void e()},m.prototype.__processRequestUrl=function(t){var n=this.params,o=this.options;if(o.hostSetting&&o.hostSetting[e.location.hostname]){var r=o.hostSetting[e.location.hostname];r.prefix&&(o.prefix=r.prefix),r.subDomain&&(o.subDomain=r.subDomain),r.mainDomain&&(o.mainDomain=r.mainDomain)}if(o.H5Request===!0){var i="//"+(o.prefix?o.prefix+".":"")+(o.subDomain?o.subDomain+".":"")+o.mainDomain+"/h5/"+n.api.toLowerCase()+"/"+n.v.toLowerCase()+"/",s=n.appKey||("waptest"===o.subDomain?"4272":"12574478"),a=(new Date).getTime(),u=p(o.token+"&"+a+"&"+s+"&"+n.data),c={jsv:"2.5.6",appKey:s,t:a,sign:u},d={data:n.data,ua:n.ua};Object.keys(n).forEach(function(e){"undefined"==typeof c[e]&&"undefined"==typeof d[e]&&"headers"!==e&&"ext_headers"!==e&&"ext_querys"!==e&&(c[e]=n[e])}),n.ext_querys&&Object.keys(n.ext_querys).forEach(function(e){c[e]=n.ext_querys[e]}),o.getJSONP?c.type="jsonp":o.getOriginalJSONP?c.type="originaljsonp":(o.getJSON||o.postJSON)&&(c.type="originaljson"),"undefined"!=typeof n.valueType&&("original"===n.valueType?o.getJSONP||o.getOriginalJSONP?c.type="originaljsonp":(o.getJSON||o.postJSON)&&(c.type="originaljson"):"string"===n.valueType&&(o.getJSONP||o.getOriginalJSONP?c.type="jsonp":(o.getJSON||o.postJSON)&&(c.type="json"))),o.useJsonpResultType===!0&&"originaljson"===c.type&&delete c.type,o.dangerouslySetProtocol&&(i=o.dangerouslySetProtocol+":"+i),o.querystring=c,o.postdata=d,o.path=i}t()},m.prototype.__processUnitPrefix=function(e){e()};var A=0;m.prototype.__requestJSONP=function(e){function t(e){if(c&&clearTimeout(c),d.parentNode&&d.parentNode.removeChild(d),"TIMEOUT"===e)window[u]=function(){window[u]=void 0;try{delete window[u]}catch(e){}};else{window[u]=void 0;try{delete window[u]}catch(t){}}}var n=o(),r=this.params,a=this.options,p=r.timeout||2e4,u="mtopjsonp"+(r.jsonpIncPrefix||"")+ ++A,c=setTimeout(function(){e(a.timeoutErrMsg||"TIMEOUT::\u63a5\u53e3\u8d85\u65f6"),t("TIMEOUT")},p);a.querystring.callback=u;var d=document.createElement("script");return d.src=a.path+"?"+s(a.querystring)+"&"+s(a.postdata),d.async=!0,d.onerror=function(){t("ABORT"),e(a.abortErrMsg||"ABORT::\u63a5\u53e3\u5f02\u5e38\u9000\u51fa")},window[u]=function(){a.results=Array.prototype.slice.call(arguments),t(),n.resolve()},i(d),n.promise},m.prototype.__requestJSON=function(t){function n(e){c&&clearTimeout(c),"TIMEOUT"===e&&p.abort()}var r=o(),i=this.params,a=this.options,p=new e.XMLHttpRequest,u=i.timeout||2e4,c=setTimeout(function(){t(a.timeoutErrMsg||"TIMEOUT::\u63a5\u53e3\u8d85\u65f6"),n("TIMEOUT")},u);a.CDR&&d(w)&&(a.querystring.c=decodeURIComponent(d(w))),p.onreadystatechange=function(){if(4==p.readyState){var e,o,i=p.status;if(i>=200&&300>i||304==i){n(),e=p.responseText,o=p.getAllResponseHeaders()||"";try{e=/^\s*$/.test(e)?{}:JSON.parse(e),e.responseHeaders=o,a.results=[e],r.resolve()}catch(s){t("PARSE_JSON_ERROR::\u89e3\u6790JSON\u5931\u8d25")}}else n("ABORT"),t(a.abortErrMsg||"ABORT::\u63a5\u53e3\u5f02\u5e38\u9000\u51fa")}};var l,f,m=a.path+"?"+s(a.querystring);a.getJSON?(l="GET",m+="&"+s(a.postdata)):a.postJSON&&(l="POST",f=s(a.postdata)),p.open(l,m,!0),p.withCredentials=!0,p.setRequestHeader("Accept","application/json"),p.setRequestHeader("Content-type","application/x-www-form-urlencoded");var g=i.ext_headers||i.headers;if(g)for(var h in g)p.setRequestHeader(h,g[h]);return p.send(f),r.promise},m.prototype.__requestWindVane=function(){function e(e){i.results=[e],n.resolve()}var n=o(),r=this.params,i=this.options,s=r.data,a=r.api,p=r.v,u=i.postJSON?1:0,c=i.getJSON||i.postJSON||i.getOriginalJSONP?"originaljson":"";"undefined"!=typeof r.valueType&&("original"===r.valueType?c="originaljson":"string"===r.valueType&&(c="")),i.useJsonpResultType===!0&&(c="");var d,l,f="https"===location.protocol?1:0,m=r.isSec||0,g=r.sessionOption||"AutoLoginOnly",h=r.ecode||0,y=r.ext_headers||{},_=r.ext_querys||{};l="undefined"!=typeof r.timer?parseInt(r.timer):"undefined"!=typeof r.timeout?parseInt(r.timeout):2e4,d=2*l,r.needLogin===!0&&"undefined"==typeof r.sessionOption&&(g="AutoLoginAndManualLogin"),"undefined"!=typeof r.secType&&"undefined"==typeof r.isSec&&(m=r.secType);var v={api:a,v:p,post:String(u),type:c,isHttps:String(f),ecode:String(h),isSec:String(m),param:JSON.parse(s),timer:l,sessionOption:g,ext_headers:y,ext_querys:_};return r.ttid&&i.dangerouslySetWVTtid===!0&&(v.ttid=r.ttid),Object.assign&&r.dangerouslySetWindvaneParams&&Object.assign(v,r.dangerouslySetWindvaneParams),t.windvane.call("MtopWVPlugin","send",v,e,e,d),n.promise},m.prototype.__requestAlipay=function(){var t=o(),n=this.params,r=this.options,i={apiName:n.api,apiVersion:n.v,needEcodeSign:"1"===String(n.ecode),usePost:!!r.postJSON};return u(n.data)||(n.data=JSON.parse(n.data)),i.data=n.data,n.ttid&&r.dangerouslySetWVTtid===!0&&(i.ttid=n.ttid),(r.getJSON||r.postJSON||r.getOriginalJSONP)&&(i.type="originaljson"),"undefined"!=typeof n.valueType&&("original"===n.valueType?i.type="originaljson":"string"===n.valueType&&delete i.type),r.useJsonpResultType===!0&&delete i.type,Object.assign&&n.dangerouslySetAlipayParams&&Object.assign(i,n.dangerouslySetAlipayParams),e.AlipayJSBridge.call("mtop",i,function(e){r.results=[e],t.resolve()}),t.promise},m.prototype.__processRequest=function(e,t){var n=this;return h.then(function(){var e=n.options;if(e.H5Request&&(e.getJSONP||e.getOriginalJSONP))return n.__requestJSONP(t);if(e.H5Request&&(e.getJSON||e.postJSON))return n.__requestJSON(t);if(e.WindVaneRequest)return O?n.__requestAlipay(t):n.__requestWindVane(t);throw new Error("UNEXCEPT_REQUEST::\u9519\u8bef\u7684\u8bf7\u6c42\u7c7b\u578b")}).then(e).then(function(){var e=n.options,t=(n.params,e.results[0]),o=t&&t.ret||[];t.ret=o,o instanceof Array&&(o=o.join(","));var r=t.c;e.CDR&&r&&c(w,r,{domain:e.pageDomain,path:"/"}),o.indexOf("SUCCESS")>-1?t.retType=v.SUCCESS:t.retType=v.ERROR,e.retJson=t})},m.prototype.__sequence=function(e){function t(e){if(e instanceof Array)e.forEach(t);else{var s,a=o(),p=o();r.push(function(){return a=o(),s=e.call(n,function(e){return a.resolve(e),p.promise},function(e){return a.reject(e),p.promise}),s&&(s=s["catch"](function(e){a.reject(e)})),a.promise}),i.push(function(e){return p.resolve(e),s})}}var n=this,r=[],i=[];e.forEach(t);for(var s,a=h;s=r.shift();)a=a.then(s);for(;s=i.pop();)a=a.then(s);return a};var T=function(e){e()},q=function(e){e()};m.prototype.request=function(n){var o=this;if(this.options=r(n||{},y),!g){var i="\u5f53\u524d\u6d4f\u89c8\u5668\u4e0d\u652f\u6301Promise\uff0c\u8bf7\u5728windows\u5bf9\u8c61\u4e0a\u6302\u8f7dPromise\u5bf9\u8c61";throw t.mtop={ERROR:i},new Error(i)}var s=g.resolve([T,q]).then(function(e){var t=e[0],n=e[1];return o.__sequence([t,o.__processRequestMethod,o.__processRequestType,o.__processToken,o.__processRequestUrl,o.middlewares,o.__processRequest,n])}).then(function(){var e=o.options.retJson;return e.retType!==v.SUCCESS?g.reject(e):o.options.successCallback?void o.options.successCallback(e):g.resolve(e)})["catch"](function(e){var n;return e instanceof Error?(console.error(e.stack),n={ret:[e.message],stack:[e.stack],retJson:v.ERROR}):n="string"==typeof e?{ret:[e],retJson:v.ERROR}:void 0!==e?e:o.options.retJson,t.mtop.errorListener&&t.mtop.errorListener({api:o.params.api,v:o.params.v,retJson:n}),o.options.failureCallback?void o.options.failureCallback(n):g.reject(n)});return this.__processRequestType(),o.options.H5Request&&(o.constructor.__firstProcessor||(o.constructor.__firstProcessor=s),T=function(e){o.constructor.__firstProcessor.then(e)["catch"](e)}),("get"===this.params.type&&"json"===this.params.dataType||"post"===this.params.type)&&(n.pageDomain=n.pageDomain||a(e.location.hostname),n.mainDomain!==n.pageDomain&&(n.maxRetryTimes=4,n.CDR=!0)),this.__requestProcessor=s,s},t.mtop=function(e){return new m(e)},t.mtop.request=function(e,t,n){var o={H5Request:e.H5Request,WindVaneRequest:e.WindVaneRequest,LoginRequest:e.LoginRequest,AntiCreep:e.AntiCreep,AntiFlood:e.AntiFlood,successCallback:t,failureCallback:n||t};return new m(e).request(o)},t.mtop.H5Request=function(e,t,n){return new m(e).request({H5Request:!0,successCallback:t,failureCallback:n||t})},t.mtop.middlewares=_,t.mtop.config=y,t.mtop.RESPONSE_TYPE=v,t.mtop.CLASS=m}(window,window.lib||(window.lib={})),function(e,t){function n(e){return e.preventDefault(),!1}function o(e){var t=new RegExp("(?:^|;\\s*)"+e+"\\=([^;]+)(?:;\\s*|$)").exec(document.cookie);return t?t[1]:void 0}function r(t,o){var r=this,i=e.dpr||1,s=document.createElement("div"),a=document.documentElement.getBoundingClientRect(),p=Math.max(a.width,window.innerWidth)/i,u=Math.max(a.height,window.innerHeight)/i;s.style.cssText=["-webkit-transform:scale("+i+") translateZ(0)","-ms-transform:scale("+i+") translateZ(0)","transform:scale("+i+") translateZ(0)","-webkit-transform-origin:0 0","-ms-transform-origin:0 0","transform-origin:0 0","width:"+p+"px","height:"+u+"px","z-index:999999","position:"+(p>800?"fixed":"absolute"),"left:0","top:0px","background:"+(p>800?"rgba(0,0,0,.5)":"#FFF"),"display:none"].join(";");var c=document.createElement("div");c.style.cssText=["width:100%","height:52px","background:#EEE","line-height:52px","text-align:left","box-sizing:border-box","padding-left:20px","position:absolute","left:0","top:0","font-size:16px","font-weight:bold","color:#333"].join(";"),c.innerText=t;var d=document.createElement("a");d.style.cssText=["display:block","position:absolute","right:0","top:0","height:52px","line-height:52px","padding:0 20px","color:#999"].join(";"),d.innerText="\u5173\u95ed";var l=document.createElement("iframe");l.style.cssText=["width:100%","height:100%","border:0","overflow:hidden"].join(";"),p>800&&(c.style.cssText=["width:370px","height:52px","background:#EEE","line-height:52px","text-align:left","box-sizing:border-box","padding-left:20px","position:absolute","left:"+(p/2-185)+"px","top:40px","font-size:16px","font-weight:bold","color:#333"].join(";"),l.style.cssText=["position:absolute","top:92px","left:"+(p/2-185)+"px","width:370px","height:480px","border:0","background:#FFF","overflow:hidden"].join(";")),c.appendChild(d),s.appendChild(c),s.appendChild(l),s.className="J_MIDDLEWARE_FRAME_WIDGET",document.body.appendChild(s),l.src=o,d.addEventListener("click",function(){r.hide();var e=document.createEvent("HTMLEvents");e.initEvent("close",!1,!1),s.dispatchEvent(e)},!1),this.addEventListener=function(){s.addEventListener.apply(s,arguments)},this.removeEventListener=function(){s.removeEventListener.apply(s,arguments)},this.show=function(){document.addEventListener("touchmove",n,!1),s.style.display="block",window.scrollTo(0,0)},this.hide=function(){document.removeEventListener("touchmove",n),window.scrollTo(0,-a.top),s.parentNode&&s.parentNode.removeChild(s)}}if(!t||!t.mtop||t.mtop.ERROR)throw new Error("Mtop \u521d\u59cb\u5316\u5931\u8d25\uff01");var i=e.Promise,s=t.mtop.CLASS,a=t.mtop.config,p=t.mtop.RESPONSE_TYPE;t.mtop.middlewares.push(function(e){var n=this,o=this.options,r=this.params;return e().then(function(){var e=o.retJson,i=e.ret,s=navigator.userAgent.toLowerCase(),u=s.indexOf("safari")>-1&&s.indexOf("chrome")<0&&s.indexOf("qqbrowser")<0;if(i instanceof Array&&(i=i.join(",")),(i.indexOf("SESSION_EXPIRED")>-1||i.indexOf("SID_INVALID")>-1||i.indexOf("AUTH_REJECT")>-1||i.indexOf("NEED_LOGIN")>-1)&&(e.retType=p.SESSION_EXPIRED,!o.WindVaneRequest&&(a.LoginRequest===!0||o.LoginRequest===!0||r.needLogin===!0))){if(!t.login)throw new Error("LOGIN_NOT_FOUND::\u7f3a\u5c11lib.login");if(o.safariGoLogin!==!0||!u||"taobao.com"===o.pageDomain)return t.login.goLoginAsync().then(function(){return n.__sequence([n.__processToken,n.__processRequestUrl,n.__processUnitPrefix,n.middlewares,n.__processRequest])})["catch"](function(e){throw"CANCEL"===e?new Error("LOGIN_CANCEL::\u7528\u6237\u53d6\u6d88\u767b\u5f55"):new Error("LOGIN_FAILURE::\u7528\u6237\u767b\u5f55\u5931\u8d25")});t.login.goLogin()}})}),t.mtop.loginRequest=function(e,t,n){return new s(e).request({LoginRequest:!0,H5Request:!0,successCallback:t,failureCallback:n||t})},t.mtop.antiFloodRequest=function(e,t,n){return new s(e).request({AntiFlood:!0,successCallback:t,failureCallback:n||t})},t.mtop.middlewares.push(function(e){var t=this.options;return this.params,t.H5Request!==!0||a.AntiFlood!==!0&&t.AntiFlood!==!0?void e():e().then(function(){var e=t.retJson,n=e.ret;n instanceof Array&&(n=n.join(",")),n.indexOf("FAIL_SYS_USER_VALIDATE")>-1&&e.data.url&&(t.AntiFloodReferer?location.href=e.data.url.replace(/(http_referer=).+/,"$1"+t.AntiFloodReferer):location.href=e.data.url)})}),t.mtop.antiCreepRequest=function(e,t,n){return new s(e).request({AntiCreep:!0,successCallback:t,failureCallback:n||t})},t.mtop.middlewares.push(function(t){var n=this,s=this.options,p=this.params;return s.AntiCreep!==!1&&(s.AntiCreep=!0),p.forceAntiCreep!==!0&&s.H5Request!==!0||a.AntiCreep!==!0&&s.AntiCreep!==!0?void t():t().then(function(){var t=s.retJson,a=t.ret;if(a instanceof Array&&(a=a.join(",")),(a.indexOf("RGV587_ERROR::SM")>-1||a.indexOf("ASSIST_FLAG")>-1)&&t.data.url){var u="_m_h5_smt",c=o(u),d=!1;if(s.saveAntiCreepToken===!0&&c){c=JSON.parse(c);for(var l in c)p[l]&&(d=!0)}if(s.saveAntiCreepToken===!0&&c&&!d){for(var l in c)p[l]=c[l];return n.__sequence([n.__processToken,n.__processRequestUrl,n.__processUnitPrefix,n.middlewares,n.__processRequest])}return new i(function(o,i){function a(){l.removeEventListener("close",a),e.removeEventListener("message",c),i("USER_INPUT_CANCEL::\u7528\u6237\u53d6\u6d88\u8f93\u5165")}function c(t){var r;try{r=JSON.parse(t.data)||{}}catch(d){}if(r&&"child"===r.type){l.removeEventListener("close",a),e.removeEventListener("message",c),l.hide();var f;try{f=JSON.parse(decodeURIComponent(r.content)),"string"==typeof f&&(f=JSON.parse(f));for(var m in f)p[m]=f[m];s.saveAntiCreepToken===!0?(document.cookie=u+"="+JSON.stringify(f)+";",e.location.reload()):n.__sequence([n.__processToken,n.__processRequestUrl,n.__processUnitPrefix,n.middlewares,n.__processRequest]).then(o)}catch(d){i("USER_INPUT_FAILURE::\u7528\u6237\u8f93\u5165\u5931\u8d25")}}}var d=t.data.url,l=new r("",d);l.addEventListener("close",a,!1),e.addEventListener("message",c,!1),l.show()})}})})}(window,window.lib||(window.lib={}))}])});