// {"framework" : "Rax"}
!function(e){if("function"==typeof define)define("aemod/ae-pc-fullPieceDiscountPromo/index.web",["rat-frame","rat-view","rat-text","rat-picture","rat-link"],function(require,exports,module){module.exports=e(require("rat-frame"),require("rat-view"),require("rat-text"),require("rat-picture"),require("rat-link"))});else if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e(require("rat-frame"),require("rat-view"),require("rat-text"),require("rat-picture"),require("rat-link"));else{var t;(t="undefined"!=typeof window?window:"undefined"!=typeof self?self:"undefined"!=typeof global?global:this).AePcFullPieceDiscountPromo=e(t["rat-frame"],t["rat-view"],t["rat-text"],t["rat-picture"],t["rat-link"])}}(function(e,t,r,i,o){return function(e){var t={};function r(i){if(t[i])return t[i].exports;var module=t[i]={i:i,l:!1,exports:{}};return e[i].call(module.exports,module,module.exports,r),module.l=!0,module.exports}return r.m=e,r.c=t,r.d=function(exports,e,t){r.o(exports,e)||Object.defineProperty(exports,e,{enumerable:!0,get:t})},r.r=function(exports){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(exports,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(r.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(i,o,function(t){return e[t]}.bind(null,o));return i},r.n=function(module){var e=module&&module.__esModule?function(){return module.default}:function(){return module};return r.d(e,"a",e),e},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/",r(r.s=10)}([function(module,exports){var e=[{reg:/www.aliexpress.com/,originDomain:"www.aliexpress.com",targetDomain:"www.aliexpress.ru"},{reg:/tmall.aliexpress.com/,originDomain:"tmall.aliexpress.com",targetDomain:"tmall.ru"},{reg:/login.tmall.com/,originDomain:"login.tmall.com",targetDomain:"login.tmall.ru"},{reg:/login.aliexpress.com/,originDomain:"login.aliexpress.com",targetDomain:"login.aliexpress.ru"},{reg:/accounts.tmall.com/,originDomain:"accounts.tmall.com",targetDomain:"accounts.tmall.ru"},{reg:/accounts.aliexpress.com/,originDomain:"accounts.aliexpress.com",targetDomain:"accounts.aliexpress.ru"},{reg:/passport.aliexpress.com/,originDomain:"passport.aliexpress.com",targetDomain:"passport.aliexpress.ru"},{reg:/msg.aliexpress.com/,originDomain:"msg.aliexpress.com",targetDomain:"msg.aliexpress.ru"},{reg:/message.aliexpress.com/,originDomain:"message.aliexpress.com",targetDomain:"message.aliexpress.ru"},{reg:/trade.aliexpress.com/,originDomain:"trade.aliexpress.com",targetDomain:"trade.aliexpress.ru"},{reg:/home.aliexpress.com/,originDomain:"home.aliexpress.com",targetDomain:"home.aliexpress.ru"},{reg:/feedback.aliexpress.com/,originDomain:"feedback.aliexpress.com",targetDomain:"feedback.aliexpress.ru"},{reg:/coupon.aliexpress.com/,originDomain:"coupon.aliexpress.com",targetDomain:"coupon.aliexpress.ru"},{reg:/report.aliexpress.com/,originDomain:"report.aliexpress.com",targetDomain:"report.aliexpress.ru"},{reg:/ilogisticsaddress.aliexpress.com/,originDomain:"ilogisticsaddress.aliexpress.com",targetDomain:"ilogisticsaddress.aliexpress.ru"},{reg:/my.aliexpress.com/,originDomain:"my.aliexpress.com",targetDomain:"my.aliexpress.ru"},{reg:/best.aliexpress.com/,originDomain:"best.aliexpress.com",targetDomain:"best.aliexpress.ru"},{reg:/mbest.aliexpress.com/,originDomain:"mbest.aliexpress.com",targetDomain:"mbest.aliexpress.ru"},{reg:/s.click.aliexpress.com/,originDomain:"s.click.aliexpress.com",targetDomain:"s.click.aliexpress.ru"},{reg:/sale.aliexpress.com/,originDomain:"sale.aliexpress.com",targetDomain:"sale.aliexpress.ru"},{reg:/ilogisticsaddress.tmall.com/,originDomain:"ilogisticsaddress.tmall.com",targetDomain:"ilogisticsaddress.tmall.ru"},{reg:/freight.aliexpress.com/,originDomain:"freight.aliexpress.com",targetDomain:"freight.aliexpress.ru"},{reg:/m.aliexpress.com/,originDomain:"m.aliexpress.com",targetDomain:"m.aliexpress.ru"},{reg:/shoppingcart.aliexpress.com/,originDomain:"shoppingcart.aliexpress.com",targetDomain:"shoppingcart.aliexpress.ru"}],t=[{reg:/gpsfront.aliexpress.com/,originDomain:"aliexpress.com",targetDomain:"aliexpress.ru"},{reg:/cdp.aliexpress.com/,originDomain:"aliexpress.com",targetDomain:"aliexpress.ru"},{reg:/sale.aliexpress.com/,originDomain:"aliexpress.com",targetDomain:"aliexpress.ru"},{reg:/ilogisticsaddress.aliexpress.com/,originDomain:"aliexpress.com",targetDomain:"aliexpress.ru"},{reg:/freight.aliexpress.com/,originDomain:"aliexpress.com",targetDomain:"aliexpress.ru"},{reg:/feedback.aliexpress.com/,originDomain:"aliexpress.com",targetDomain:"aliexpress.ru"},{reg:/ru.aliexpress.com/,originDomain:"ru.aliexpress.com",targetDomain:"aliexpress.ru"},{reg:/my.aliexpress.com\/wishlist/,originDomain:"aliexpress.com",targetDomain:"aliexpress.ru"},{reg:/promotion.aliexpress.com/,originDomain:"aliexpress.com",targetDomain:"aliexpress.ru"},{reg:/connectkeyword.aliexpress.com/,originDomain:"aliexpress.com",targetDomain:"aliexpress.ru"},{reg:/best.aliexpress.com/,originDomain:"aliexpress.com",targetDomain:"aliexpress.ru"}];function r(){return!!/aliexpress.ru/.test(window.location.host)}function i(t,i){for(var o,n=t,a=!1,s=i||e,l=0;l<s.length;l++)if(s[l].reg.test(t)){a=!0,o=s[l];break}return r()&&a&&(n=function(e,t,r){if("string"!=typeof e)return e;if(-1!==e.split("?")[0].indexOf("aliexpress.ru"))return e;if(-1!==e.split("?")[0].indexOf("pg-ru.aliexpress.com"))return e;var i=new RegExp("(.*?)(".concat(t,")(.*\\?)?(.*)"));return e.replace(i,function(e,i,o,n,a){return i+(r||t)+(n||"")+a})}(t,o.originDomain,o.targetDomain)),n}module.exports={switchRequestURL:function(e){return i(e,t)},switchLinkURL:function(e){return i(e)},switchUrl:i,isRU:r}},function(module,exports){module.exports=e},function(module,exports){module.exports=t},function(module,exports){module.exports=r},function(module,exports){module.exports=i},function(module,exports){module.exports=o},function(module,exports,e){var t=e(0);function r(e){var t=decodeURI(window.location.href),r=new RegExp("("+e+"=)(.*?)([;&]|$)");return t.match(r)?t.match(r)[2]:""}window.lib&&window.lib.mtop||e(7),module.exports=function(){if(window.lib&&window.lib.mtop){var e={},i="acs",o=r("_mtopPrev_");"_true_"===o?i="pre-acs":o&&/(.*-)?pre-acs$/.test(o)&&(i=o);var n=t.isRU(),a=r("_projectTag_"),s=r("_dpath_");return e.request=function(e,t,r){return window.lib.mtop.config.prefix=i,window.lib.mtop.config.subDomain="",window.lib.mtop.config.H5Request=!0,window.lib.mtop.config.mainDomain=n?"aliexpress.ru":"aliexpress.com",e&&!e.appKey&&(e.appKey=24815441),a&&(e.tb_eagleeyex_scm_project=a),s&&(e.tb_eagleeyex_dpath_env=s),lib.mtop.request(e,t,r)},window.lib.Mtop=e,e}console.error("window.lib.mtop undefined!")}()},function(module,exports){var e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};"undefined"==typeof window&&(window={ctrl:{},lib:{}}),window.ctrl||(window.ctrl={}),window.lib||(window.lib={}),function(t,r){function i(){var e={},t=new d(function(t,r){e.resolve=t,e.reject=r});return e.promise=t,e}function o(e,t){for(var r in t)void 0===e[r]&&(e[r]=t[r]);return e}function n(e){var t=[];for(var r in e)e[r]&&t.push(r+"="+encodeURIComponent(e[r]));return t.join("&")}function a(e){return"[object Object]"=={}.toString.call(e)}function s(e){var t=new RegExp("(?:^|;\\s*)"+e+"\\=([^;]+)(?:;\\s*|$)").exec(document.cookie);return t?t[1]:void 0}function l(e,t,r){var i=new Date;i.setTime(i.getTime()-864e5);document.cookie=e+"=;path=/;domain=."+t+";expires="+i.toGMTString(),document.cookie=e+"=;path=/;domain=."+r+"."+t+";expires="+i.toGMTString()}function c(e,t){function r(e){for(var t,r=(e=(e||0).toString()).split("."),i=["","0","00","000","0000"].reverse(),o=0;o<r.length;o++)t=r[o].length,r[o]=i[t]+r[o];return r.join("")}var i=r(e),o=r(t);return i==o?0:i>o?1:o>i?-1:void 0}function u(t){this.id=""+(new Date).getTime()+ ++v,this.params=o(t||{},{v:"*",data:{},type:"get",dataType:"jsonp"}),this.params.type=this.params.type.toLowerCase(),"object"==e(this.params.data)&&(this.params.data=JSON.stringify(this.params.data)),this.middlewares=g.slice(0)}var p=String.prototype,d=t.Promise,m=(d||{resolve:function(){}}).resolve();p.trim||(p.trim=function(){return this.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")});var f={useJsonpResultType:!1,safariGoLogin:!0,useAlipayJSBridge:!1},g=[],h={ERROR:-1,SUCCESS:0,TOKEN_EXPIRED:1,SESSION_EXPIRED:2};(function(){var e=t.location.hostname;if(!e){var r=t.parent.location.hostname;r&&~r.indexOf("zebra.alibaba-inc.com")&&(e=r)}var i=new RegExp("([^.]*?)\\.?((?:"+["taobao.net","taobao.com","tmall.com","tmall.hk","alibaba-inc.com"].join(")|(?:").replace(/\./g,"\\.")+"))","i"),o=e.match(i)||[],n=o[2]||"taobao.com",a=o[1]||"m";"taobao.net"!==n||"x"!==a&&"waptest"!==a&&"daily"!==a?"taobao.net"===n&&"demo"===a?a="demo":"alibaba-inc.com"===n&&"zebra"===a?a="zebra":"waptest"!=a&&"wapa"!=a&&"m"!=a&&(a="m"):a="waptest";var s="h5api";"taobao.net"===n&&"waptest"===a&&(s="acs"),f.mainDomain=n,f.subDomain=a,f.prefix=s})(),function(){var e=t.navigator.userAgent,r=e.match(/WindVane[\/\s]([\d\.\_]+)/);r&&(f.WindVaneVersion=r[1]);var i=e.match(/AliApp\(([^\/]+)\/([\d\.\_]+)\)/i);i&&(f.AliAppName=i[1],f.AliAppVersion=i[2]);var o=e.match(/AMapClient\/([\d\.\_]+)/i);o&&(f.AliAppName="AMAP",f.AliAppVersion=o[1])}();var x=/[Android|Adr]/.test(t.navigator.userAgent),y="AP"===f.AliAppName&&c(f.AliAppVersion,"10.1.2")>=0||"KB"===f.AliAppName&&c(f.AliAppVersion,"7.1.62")>=0||x&&"AMAP"===f.AliAppName&&c(f.AliAppVersion,"1.0.1")>=0,v=0;u.prototype.use=function(e){if(!e)throw new Error("middleware is undefined");return this.middlewares.push(e),this},u.prototype.__processRequestMethod=function(e){var t=this.params,r=this.options;"get"===t.type&&"jsonp"===t.dataType?r.getJSONP=!0:"get"===t.type&&"originaljsonp"===t.dataType?r.getOriginalJSONP=!0:"get"===t.type&&"json"===t.dataType?r.getJSON=!0:"post"===t.type&&(r.postJSON=!0),e()},u.prototype.__processRequestType=function(e){var i=this,o=this.params,n=this.options;if(!0===f.H5Request&&(n.H5Request=!0),!0===f.WindVaneRequest&&(n.WindVaneRequest=!0),!1===n.H5Request&&!0===n.WindVaneRequest){if(!y&&(!r.windvane||parseFloat(n.WindVaneVersion)<5.4))throw new Error("WINDVANE_NOT_FOUND::缺少WindVane环境");if(y&&!t.AlipayJSBridge)throw new Error("ALIPAY_NOT_READY::支付宝通道未准备好，支付宝请见 https://lark.alipay.com/mtbsdkdocs/mtopjssdkdocs/pucq6z")}else if(!0===n.H5Request)n.WindVaneRequest=!1;else if(void 0===n.WindVaneRequest&&void 0===n.H5Request&&(r.windvane&&parseFloat(n.WindVaneVersion)>=5.4?(n.WindVaneRequest=!0,window.self!==window.top&&(n.H5Request=!0)):n.H5Request=!0,y)){if(n.WindVaneRequest=n.H5Request=void 0,t.AlipayJSBridge)if(a(o.data))n.WindVaneRequest=!0;else try{a(JSON.parse(o.data))?n.WindVaneRequest=!0:n.H5Request=!0}catch(e){n.H5Request=!0}else n.H5Request=!0;"AMAP"!==f.AliAppName||o.useNebulaJSbridgeWithAMAP||(n.WindVaneRequest=n.H5Request=void 0,n.H5Request=!0)}var s=t.navigator.userAgent.toLowerCase();return s.indexOf("youku")>-1&&n.mainDomain.indexOf("youku.com")<0&&(n.WindVaneRequest=!1,n.H5Request=!0),n.mainDomain.indexOf("youku.com")>-1&&s.indexOf("youku")<0&&(n.WindVaneRequest=!1,n.H5Request=!0),e?e().then(function(){var e=n.retJson.ret;if(e instanceof Array&&(e=e.join(",")),!0===n.WindVaneRequest&&y&&n.retJson.error||!e||e.indexOf("PARAM_PARSE_ERROR")>-1||e.indexOf("HY_FAILED")>-1||e.indexOf("HY_NO_HANDLER")>-1||e.indexOf("HY_CLOSED")>-1||e.indexOf("HY_EXCEPTION")>-1||e.indexOf("HY_NO_PERMISSION")>-1){if(!y||!isNaN(n.retJson.error)||-1!==n.retJson.error.indexOf("FAIL_SYS_ACCESS_DENIED"))return y&&a(o.data)&&(o.data=JSON.stringify(o.data)),f.H5Request=!0,i.__sequence([i.__processRequestType,i.__processToken,i.__processRequestUrl,i.middlewares,i.__processRequest]);void 0===n.retJson.api&&void 0===n.retJson.v&&(n.retJson.api=o.api,n.retJson.v=o.v,n.retJson.ret=[n.retJson.error+"::"+n.retJson.errorMessage],n.retJson.data={})}}):void 0};var _="_m_h5_c",w="_m_h5_tk";u.prototype.__getTokenFromAlipay=function(){var e=i(),r=this.options,o=(t.navigator.userAgent,!!location.protocol.match(/^https?\:$/));return!0===r.useAlipayJSBridge&&!o&&y&&t.AlipayJSBridge&&t.AlipayJSBridge.call?t.AlipayJSBridge.call("getMtopToken",function(t){t&&t.token&&(r.token=t.token),e.resolve()},function(){e.resolve()}):e.resolve(),e.promise},u.prototype.__getTokenFromCookie=function(){var e=this.options;return e.token=e.CDR&&s(_)?s(_).split(";")[0]:e.token||s(w),e.token&&(e.token=e.token.split("_")[0]),d.resolve()},u.prototype.__waitWKWebViewCookie=function(e){var r=this.options;r.waitWKWebViewCookieFn&&r.H5Request&&t.webkit&&t.webkit.messageHandlers?r.waitWKWebViewCookieFn(e):e()},u.prototype.__processToken=function(e){var t=this,r=this.options;return this.params,r.token&&delete r.token,!0===r.WindVaneRequest?void e():m.then(function(){return t.__getTokenFromAlipay()}).then(function(){return t.__getTokenFromCookie()}).then(e).then(function(){var e=r.retJson,i=e.ret;if(i instanceof Array&&(i=i.join(",")),i.indexOf("TOKEN_EMPTY")>-1||(!0===r.CDR||!0===r.syncCookieMode)&&i.indexOf("ILLEGAL_ACCESS")>-1||i.indexOf("TOKEN_EXOIRED")>-1){if(r.maxRetryTimes=r.maxRetryTimes||5,r.failTimes=r.failTimes||0,r.H5Request&&++r.failTimes<r.maxRetryTimes){var o=[t.__waitWKWebViewCookie,t.__processToken,t.__processRequestUrl,t.middlewares,t.__processRequest];if(!0===r.syncCookieMode&&t.constructor.__cookieProcessorId!==t.id)if(t.constructor.__cookieProcessor){o=[function(e){var r=function(){t.constructor.__cookieProcessor=null,t.constructor.__cookieProcessorId=null,e()};t.constructor.__cookieProcessor?t.constructor.__cookieProcessor.then(r).catch(r):e()},t.__waitWKWebViewCookie,t.__processToken,t.__processRequestUrl,t.middlewares,t.__processRequest]}else t.constructor.__cookieProcessor=t.__requestProcessor,t.constructor.__cookieProcessorId=t.id;return t.__sequence(o)}r.maxRetryTimes>0&&(l(_,r.pageDomain,"*"),l(w,r.mainDomain,r.subDomain),l("_m_h5_tk_enc",r.mainDomain,r.subDomain)),e.retType=h.TOKEN_EXPIRED}})},u.prototype.__processRequestUrl=function(e){var r=this.params,i=this.options;if(i.hostSetting&&i.hostSetting[t.location.hostname]){var o=i.hostSetting[t.location.hostname];o.prefix&&(i.prefix=o.prefix),o.subDomain&&(i.subDomain=o.subDomain),o.mainDomain&&(i.mainDomain=o.mainDomain)}if(!0===i.H5Request){var n="//"+(i.prefix?i.prefix+".":"")+(i.subDomain?i.subDomain+".":"")+i.mainDomain+"/h5/"+r.api.toLowerCase()+"/"+r.v.toLowerCase()+"/",a=r.appKey||("waptest"===i.subDomain?"4272":"12574478"),s=(new Date).getTime(),l=function(e){function t(e,t){return e<<t|e>>>32-t}function r(e,t){var r,i,o,n,a;return o=2147483648&e,n=2147483648&t,a=(1073741823&e)+(1073741823&t),(r=1073741824&e)&(i=1073741824&t)?2147483648^a^o^n:r|i?1073741824&a?3221225472^a^o^n:1073741824^a^o^n:a^o^n}function i(e,i,o,n,a,s,l){return r(t(e=r(e,r(r(function(e,t,r){return e&t|~e&r}(i,o,n),a),l)),s),i)}function o(e,i,o,n,a,s,l){return r(t(e=r(e,r(r(function(e,t,r){return e&r|t&~r}(i,o,n),a),l)),s),i)}function n(e,i,o,n,a,s,l){return r(t(e=r(e,r(r(function(e,t,r){return e^t^r}(i,o,n),a),l)),s),i)}function a(e,i,o,n,a,s,l){return r(t(e=r(e,r(r(function(e,t,r){return t^(e|~r)}(i,o,n),a),l)),s),i)}function s(e){var t,r="",i="";for(t=0;3>=t;t++)r+=(i="0"+(e>>>8*t&255).toString(16)).substr(i.length-2,2);return r}var l,c,u,p,d,m,f,g,h,x;for(x=function(e){for(var t=e.length,r=t+8,i=16*((r-r%64)/64+1),o=Array(i-1),n=0,a=0;t>a;)n=a%4*8,o[(a-a%4)/4]|=e.charCodeAt(a)<<n,a++;return n=a%4*8,o[(a-a%4)/4]|=128<<n,o[i-2]=t<<3,o[i-1]=t>>>29,o}(e=function(e){var t=String.fromCharCode;e=e.replace(/\r\n/g,"\n");for(var r,i="",o=0;o<e.length;o++)128>(r=e.charCodeAt(o))?i+=t(r):r>127&&2048>r?(i+=t(r>>6|192),i+=t(63&r|128)):(i+=t(r>>12|224),i+=t(r>>6&63|128),i+=t(63&r|128));return i}(e)),m=1732584193,f=4023233417,g=2562383102,h=271733878,l=0;l<x.length;l+=16)c=m,u=f,p=g,d=h,f=a(f=a(f=a(f=a(f=n(f=n(f=n(f=n(f=o(f=o(f=o(f=o(f=i(f=i(f=i(f=i(f,g=i(g,h=i(h,m=i(m,f,g,h,x[l+0],7,3614090360),f,g,x[l+1],12,3905402710),m,f,x[l+2],17,606105819),h,m,x[l+3],22,3250441966),g=i(g,h=i(h,m=i(m,f,g,h,x[l+4],7,4118548399),f,g,x[l+5],12,1200080426),m,f,x[l+6],17,2821735955),h,m,x[l+7],22,4249261313),g=i(g,h=i(h,m=i(m,f,g,h,x[l+8],7,1770035416),f,g,x[l+9],12,2336552879),m,f,x[l+10],17,4294925233),h,m,x[l+11],22,2304563134),g=i(g,h=i(h,m=i(m,f,g,h,x[l+12],7,1804603682),f,g,x[l+13],12,4254626195),m,f,x[l+14],17,2792965006),h,m,x[l+15],22,1236535329),g=o(g,h=o(h,m=o(m,f,g,h,x[l+1],5,4129170786),f,g,x[l+6],9,3225465664),m,f,x[l+11],14,643717713),h,m,x[l+0],20,3921069994),g=o(g,h=o(h,m=o(m,f,g,h,x[l+5],5,3593408605),f,g,x[l+10],9,38016083),m,f,x[l+15],14,3634488961),h,m,x[l+4],20,3889429448),g=o(g,h=o(h,m=o(m,f,g,h,x[l+9],5,568446438),f,g,x[l+14],9,3275163606),m,f,x[l+3],14,4107603335),h,m,x[l+8],20,1163531501),g=o(g,h=o(h,m=o(m,f,g,h,x[l+13],5,2850285829),f,g,x[l+2],9,4243563512),m,f,x[l+7],14,1735328473),h,m,x[l+12],20,2368359562),g=n(g,h=n(h,m=n(m,f,g,h,x[l+5],4,4294588738),f,g,x[l+8],11,2272392833),m,f,x[l+11],16,1839030562),h,m,x[l+14],23,4259657740),g=n(g,h=n(h,m=n(m,f,g,h,x[l+1],4,2763975236),f,g,x[l+4],11,1272893353),m,f,x[l+7],16,4139469664),h,m,x[l+10],23,3200236656),g=n(g,h=n(h,m=n(m,f,g,h,x[l+13],4,681279174),f,g,x[l+0],11,3936430074),m,f,x[l+3],16,3572445317),h,m,x[l+6],23,76029189),g=n(g,h=n(h,m=n(m,f,g,h,x[l+9],4,3654602809),f,g,x[l+12],11,3873151461),m,f,x[l+15],16,530742520),h,m,x[l+2],23,3299628645),g=a(g,h=a(h,m=a(m,f,g,h,x[l+0],6,4096336452),f,g,x[l+7],10,1126891415),m,f,x[l+14],15,2878612391),h,m,x[l+5],21,4237533241),g=a(g,h=a(h,m=a(m,f,g,h,x[l+12],6,1700485571),f,g,x[l+3],10,2399980690),m,f,x[l+10],15,4293915773),h,m,x[l+1],21,2240044497),g=a(g,h=a(h,m=a(m,f,g,h,x[l+8],6,1873313359),f,g,x[l+15],10,4264355552),m,f,x[l+6],15,2734768916),h,m,x[l+13],21,1309151649),g=a(g,h=a(h,m=a(m,f,g,h,x[l+4],6,4149444226),f,g,x[l+11],10,3174756917),m,f,x[l+2],15,718787259),h,m,x[l+9],21,3951481745),m=r(m,c),f=r(f,u),g=r(g,p),h=r(h,d);return(s(m)+s(f)+s(g)+s(h)).toLowerCase()}(i.token+"&"+s+"&"+a+"&"+r.data),c={jsv:"2.5.1",appKey:a,t:s,sign:l},u={data:r.data,ua:r.ua};Object.keys(r).forEach(function(e){void 0===c[e]&&void 0===u[e]&&"headers"!==e&&"ext_headers"!==e&&"ext_querys"!==e&&(c[e]=r[e])}),r.ext_querys&&Object.keys(r.ext_querys).forEach(function(e){c[e]=r.ext_querys[e]}),i.getJSONP?c.type="jsonp":i.getOriginalJSONP?c.type="originaljsonp":(i.getJSON||i.postJSON)&&(c.type="originaljson"),void 0!==r.valueType&&("original"===r.valueType?i.getJSONP||i.getOriginalJSONP?c.type="originaljsonp":(i.getJSON||i.postJSON)&&(c.type="originaljson"):"string"===r.valueType&&(i.getJSONP||i.getOriginalJSONP?c.type="jsonp":(i.getJSON||i.postJSON)&&(c.type="json"))),!0===i.useJsonpResultType&&"originaljson"===c.type&&delete c.type,i.dangerouslySetProtocol&&(n=i.dangerouslySetProtocol+":"+n),i.querystring=c,i.postdata=u,i.path=n}e()},u.prototype.__processUnitPrefix=function(e){e()};var b=0;u.prototype.__requestJSONP=function(e){function t(e){if(c&&clearTimeout(c),u.parentNode&&u.parentNode.removeChild(u),"TIMEOUT"===e)window[l]=function(){window[l]=void 0;try{delete window[l]}catch(e){}};else{window[l]=void 0;try{delete window[l]}catch(e){}}}var r=i(),o=this.params,a=this.options,s=o.timeout||2e4,l="mtopjsonp"+(o.jsonpIncPrefix||"")+ ++b,c=setTimeout(function(){e(a.timeoutErrMsg||"TIMEOUT::接口超时"),t("TIMEOUT")},s);a.querystring.callback=l;var u=document.createElement("script");return u.src=a.path+"?"+n(a.querystring)+"&"+n(a.postdata),u.async=!0,u.onerror=function(){t("ABORT"),e(a.abortErrMsg||"ABORT::接口异常退出")},window[l]=function(){a.results=Array.prototype.slice.call(arguments),t(),r.resolve()},function(e){(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]||document.firstElementChild||document).appendChild(e)}(u),r.promise},u.prototype.__requestJSON=function(e){function r(e){p&&clearTimeout(p),"TIMEOUT"===e&&c.abort()}var o=i(),a=this.params,l=this.options,c=new t.XMLHttpRequest,u=a.timeout||2e4,p=setTimeout(function(){e(l.timeoutErrMsg||"TIMEOUT::接口超时"),r("TIMEOUT")},u);l.CDR&&s(_)&&(l.querystring.c=decodeURIComponent(s(_))),c.onreadystatechange=function(){if(4==c.readyState){var t,i,n=c.status;if(n>=200&&300>n||304==n){r(),t=c.responseText,i=c.getAllResponseHeaders()||"";try{(t=/^\s*$/.test(t)?{}:JSON.parse(t)).responseHeaders=i,l.results=[t],o.resolve()}catch(t){e("PARSE_JSON_ERROR::解析JSON失败")}}else r("ABORT"),e(l.abortErrMsg||"ABORT::接口异常退出")}};var d,m,f=l.path+"?"+n(l.querystring);l.getJSON?(d="GET",f+="&"+n(l.postdata)):l.postJSON&&(d="POST",m=n(l.postdata)),c.open(d,f,!0),c.withCredentials=!0,c.setRequestHeader("Accept","application/json"),c.setRequestHeader("Content-type","application/x-www-form-urlencoded");var g=a.ext_headers||a.headers;if(g)for(var h in g)c.setRequestHeader(h,g[h]);return c.send(m),o.promise},u.prototype.__requestWindVane=function(){function e(e){n.results=[e],t.resolve()}var t=i(),o=this.params,n=this.options,a=o.data,s=o.api,l=o.v,c=n.postJSON?1:0,u=n.getJSON||n.postJSON||n.getOriginalJSONP?"originaljson":"";void 0!==o.valueType&&("original"===o.valueType?u="originaljson":"string"===o.valueType&&(u="")),!0===n.useJsonpResultType&&(u="");var p,d,m="https"===location.protocol?1:0,f=o.isSec||0,g=o.sessionOption||"AutoLoginOnly",h=o.ecode||0,x=o.ext_headers||{},y=o.ext_querys||{};p=2*(d=void 0===o.timer?void 0===o.timeout?2e4:parseInt(o.timeout):parseInt(o.timer)),!0===o.needLogin&&void 0===o.sessionOption&&(g="AutoLoginAndManualLogin"),void 0!==o.secType&&void 0===o.isSec&&(f=o.secType);var v={api:s,v:l,post:c+"",type:u,isHttps:m+"",ecode:h+"",isSec:f+"",param:JSON.parse(a),timer:d,sessionOption:g,ext_headers:x,ext_querys:y};return o.ttid&&!0===n.dangerouslySetWVTtid&&(v.ttid=o.ttid),Object.assign&&o.dangerouslySetWindvaneParams&&Object.assign(v,o.dangerouslySetWindvaneParams),r.windvane.call("MtopWVPlugin","send",v,e,e,p),t.promise},u.prototype.__requestAlipay=function(){var e=i(),r=this.params,o=this.options,n={apiName:r.api,apiVersion:r.v,needEcodeSign:"1"==r.ecode+"",usePost:!!o.postJSON};return a(r.data)||(r.data=JSON.parse(r.data)),n.data=r.data,r.ttid&&!0===o.dangerouslySetWVTtid&&(n.ttid=r.ttid),(o.getJSON||o.postJSON||o.getOriginalJSONP)&&(n.type="originaljson"),void 0!==r.valueType&&("original"===r.valueType?n.type="originaljson":"string"===r.valueType&&delete n.type),!0===o.useJsonpResultType&&delete n.type,Object.assign&&r.dangerouslySetAlipayParams&&Object.assign(n,r.dangerouslySetAlipayParams),t.AlipayJSBridge.call("mtop",n,function(t){o.results=[t],e.resolve()}),e.promise},u.prototype.__processRequest=function(e,t){var r=this;return m.then(function(){var e=r.options;if(e.H5Request&&(e.getJSONP||e.getOriginalJSONP))return r.__requestJSONP(t);if(e.H5Request&&(e.getJSON||e.postJSON))return r.__requestJSON(t);if(e.WindVaneRequest)return y?r.__requestAlipay(t):r.__requestWindVane(t);throw new Error("UNEXCEPT_REQUEST::错误的请求类型")}).then(e).then(function(){var e=r.options,t=(r.params,e.results[0]),i=t&&t.ret||[];t.ret=i,i instanceof Array&&(i=i.join(","));var o=t.c;e.CDR&&o&&function(e,t,r){var i=r||{};document.cookie=e.replace(/[^+#$&^`|]/g,encodeURIComponent).replace("(","%28").replace(")","%29")+"="+t.replace(/[^+#$&\/:<-\[\]-}]/g,encodeURIComponent)+(i.domain?";domain="+i.domain:"")+(i.path?";path="+i.path:"")+(i.secure?";secure":"")+(i.httponly?";HttpOnly":"")}(_,o,{domain:e.pageDomain,path:"/"}),t.retType=i.indexOf("SUCCESS")>-1?h.SUCCESS:h.ERROR,e.retJson=t})},u.prototype.__sequence=function(e){var t=this,r=[],o=[];e.forEach(function e(n){if(n instanceof Array)n.forEach(e);else{var a,s=i(),l=i();r.push(function(){return s=i(),(a=n.call(t,function(e){return s.resolve(e),l.promise},function(e){return s.reject(e),l.promise}))&&(a=a.catch(function(e){s.reject(e)})),s.promise}),o.push(function(e){return l.resolve(e),a})}});for(var n,a=m;n=r.shift();)a=a.then(n);for(;n=o.pop();)a=a.then(n);return a};var S=function(e){e()},E=function(e){e()};u.prototype.request=function(e){var i=this;if(this.options=o(e||{},f),!d){var n="当前浏览器不支持Promise，请在windows对象上挂载Promise对象";throw r.mtop={ERROR:n},new Error(n)}var a=d.resolve([S,E]).then(function(e){var t=e[0],r=e[1];return i.__sequence([t,i.__processRequestMethod,i.__processRequestType,i.__processToken,i.__processRequestUrl,i.middlewares,i.__processRequest,r])}).then(function(){var e=i.options.retJson;return e.retType===h.SUCCESS?i.options.successCallback?void i.options.successCallback(e):d.resolve(e):d.reject(e)}).catch(function(e){var t;return e instanceof Error?(console.error(e.stack),t={ret:[e.message],stack:[e.stack],retJson:h.ERROR}):t="string"==typeof e?{ret:[e],retJson:h.ERROR}:void 0===e?i.options.retJson:e,r.mtop.errorListener&&r.mtop.errorListener({api:i.params.api,v:i.params.v,retJson:t}),i.options.failureCallback?void i.options.failureCallback(t):d.reject(t)});return this.__processRequestType(),i.options.H5Request&&(i.constructor.__firstProcessor||(i.constructor.__firstProcessor=a),S=function(e){i.constructor.__firstProcessor.then(e).catch(e)}),("get"===this.params.type&&"json"===this.params.dataType||"post"===this.params.type)&&(e.pageDomain=e.pageDomain||function(e){try{return".com"===e.substring(e.lastIndexOf("."))?e.substring(e.lastIndexOf(".",e.lastIndexOf(".")-1)+1):(e.split(".")||[]).length<=3?e:e.split(".").slice(1).join(".")}catch(t){return e.substring(e.lastIndexOf(".",e.lastIndexOf(".")-1)+1)}}(t.location.hostname),e.mainDomain!==e.pageDomain&&(e.maxRetryTimes=4,e.CDR=!0)),this.__requestProcessor=a,a},r.mtop=function(e){return new u(e)},r.mtop.request=function(e,t,r){var i={H5Request:e.H5Request,WindVaneRequest:e.WindVaneRequest,LoginRequest:e.LoginRequest,AntiCreep:e.AntiCreep,AntiFlood:e.AntiFlood,successCallback:t,failureCallback:r||t};return new u(e).request(i)},r.mtop.H5Request=function(e,t,r){return new u(e).request({H5Request:!0,successCallback:t,failureCallback:r||t})},r.mtop.middlewares=g,r.mtop.config=f,r.mtop.RESPONSE_TYPE=h,r.mtop.CLASS=u}(window,window.lib||(window.lib={})),function(e,t){function r(e){return e.preventDefault(),!1}function i(t,i){var o=Math.max,n=this,a=e.dpr||1,s=document.createElement("div"),l=document.documentElement.getBoundingClientRect(),c=o(l.width,window.innerWidth)/a,u=o(l.height,window.innerHeight)/a;s.style.cssText=["-webkit-transform:scale("+a+") translateZ(0)","-ms-transform:scale("+a+") translateZ(0)","transform:scale("+a+") translateZ(0)","-webkit-transform-origin:0 0","-ms-transform-origin:0 0","transform-origin:0 0","width:"+c+"px","height:"+u+"px","z-index:999999","position:"+(c>800?"fixed":"absolute"),"left:0","top:0px","background:"+(c>800?"rgba(0,0,0,.5)":"#FFF"),"display:none"].join(";");var p=document.createElement("div");p.style.cssText=["width:100%","height:52px","background:#EEE","line-height:52px","text-align:left","box-sizing:border-box","padding-left:20px","position:absolute","left:0","top:0","font-size:16px","font-weight:bold","color:#333"].join(";"),p.innerText=t;var d=document.createElement("a");d.style.cssText=["display:block","position:absolute","right:0","top:0","height:52px","line-height:52px","padding:0 20px","color:#999"].join(";"),d.innerText="关闭";var m=document.createElement("iframe");m.style.cssText=["width:100%","height:100%","border:0","overflow:hidden"].join(";"),c>800&&(p.style.cssText=["width:370px","height:52px","background:#EEE","line-height:52px","text-align:left","box-sizing:border-box","padding-left:20px","position:absolute","left:"+(c/2-185)+"px","top:40px","font-size:16px","font-weight:bold","color:#333"].join(";"),m.style.cssText=["position:absolute","top:92px","left:"+(c/2-185)+"px","width:370px","height:480px","border:0","background:#FFF","overflow:hidden"].join(";")),p.appendChild(d),s.appendChild(p),s.appendChild(m),s.className="J_MIDDLEWARE_FRAME_WIDGET",document.body.appendChild(s),m.src=i,d.addEventListener("click",function(){n.hide();var e=document.createEvent("HTMLEvents");e.initEvent("close",!1,!1),s.dispatchEvent(e)},!1),this.addEventListener=function(){s.addEventListener.apply(s,arguments)},this.removeEventListener=function(){s.removeEventListener.apply(s,arguments)},this.show=function(){document.addEventListener("touchmove",r,!1),s.style.display="block",window.scrollTo(0,0)},this.hide=function(){document.removeEventListener("touchmove",r),window.scrollTo(0,-l.top),s.parentNode&&s.parentNode.removeChild(s)}}if(!t||!t.mtop||t.mtop.ERROR)throw new Error("Mtop 初始化失败！");var o=e.Promise,n=t.mtop.CLASS,a=t.mtop.config,s=t.mtop.RESPONSE_TYPE;t.mtop.middlewares.push(function(e){var r=this,i=this.options,o=this.params;return e().then(function(){var e=i.retJson,n=e.ret,l=navigator.userAgent.toLowerCase(),c=l.indexOf("safari")>-1&&l.indexOf("chrome")<0&&l.indexOf("qqbrowser")<0;if(n instanceof Array&&(n=n.join(",")),(n.indexOf("SESSION_EXPIRED")>-1||n.indexOf("SID_INVALID")>-1||n.indexOf("AUTH_REJECT")>-1||n.indexOf("NEED_LOGIN")>-1)&&(e.retType=s.SESSION_EXPIRED,!i.WindVaneRequest&&(!0===a.LoginRequest||!0===i.LoginRequest||!0===o.needLogin))){if(!t.login)throw new Error("LOGIN_NOT_FOUND::缺少lib.login");if(!0!==i.safariGoLogin||!c||"taobao.com"===i.pageDomain)return t.login.goLoginAsync().then(function(){return r.__sequence([r.__processToken,r.__processRequestUrl,r.__processUnitPrefix,r.middlewares,r.__processRequest])}).catch(function(e){throw"CANCEL"===e?new Error("LOGIN_CANCEL::用户取消登录"):new Error("LOGIN_FAILURE::用户登录失败")});t.login.goLogin()}})}),t.mtop.loginRequest=function(e,t,r){return new n(e).request({LoginRequest:!0,H5Request:!0,successCallback:t,failureCallback:r||t})},t.mtop.antiFloodRequest=function(e,t,r){return new n(e).request({AntiFlood:!0,successCallback:t,failureCallback:r||t})},t.mtop.middlewares.push(function(e){var t=this.options;return this.params,!0!==t.H5Request||!0!==a.AntiFlood&&!0!==t.AntiFlood?void e():e().then(function(){var e=t.retJson,r=e.ret;r instanceof Array&&(r=r.join(",")),r.indexOf("FAIL_SYS_USER_VALIDATE")>-1&&e.data.url&&(t.AntiFloodReferer?location.href=e.data.url.replace(/(http_referer=).+/,"$1"+t.AntiFloodReferer):location.href=e.data.url)})}),t.mtop.antiCreepRequest=function(e,t,r){return new n(e).request({AntiCreep:!0,successCallback:t,failureCallback:r||t})},t.mtop.middlewares.push(function(t){var r=this,n=this.options,s=this.params;return!1!==n.AntiCreep&&(n.AntiCreep=!0),!0!==s.forceAntiCreep&&!0!==n.H5Request||!0!==a.AntiCreep&&!0!==n.AntiCreep?void t():t().then(function(){var t=n.retJson,a=t.ret;if(a instanceof Array&&(a=a.join(",")),(a.indexOf("RGV587_ERROR::SM")>-1||a.indexOf("ASSIST_FLAG")>-1)&&t.data.url){var l="_m_h5_smt",c=function(e){var t=new RegExp("(?:^|;\\s*)"+e+"\\=([^;]+)(?:;\\s*|$)").exec(document.cookie);return t?t[1]:void 0}(l),u=!1;if(!0===n.saveAntiCreepToken&&c)for(var p in c=JSON.parse(c))s[p]&&(u=!0);if(!0===n.saveAntiCreepToken&&c&&!u){for(var p in c)s[p]=c[p];return r.__sequence([r.__processToken,r.__processRequestUrl,r.__processUnitPrefix,r.middlewares,r.__processRequest])}return new o(function(o,a){function c(){p.removeEventListener("close",c),e.removeEventListener("message",u),a("USER_INPUT_CANCEL::用户取消输入")}function u(t){var i;try{i=JSON.parse(t.data)||{}}catch(e){}if(i&&"child"===i.type){var d;p.removeEventListener("close",c),e.removeEventListener("message",u),p.hide();try{for(var m in"string"==typeof(d=JSON.parse(decodeURIComponent(i.content)))&&(d=JSON.parse(d)),d)s[m]=d[m];!0===n.saveAntiCreepToken?(document.cookie=l+"="+JSON.stringify(d)+";",e.location.reload()):r.__sequence([r.__processToken,r.__processRequestUrl,r.__processUnitPrefix,r.middlewares,r.__processRequest]).then(o)}catch(e){a("USER_INPUT_FAILURE::用户输入失败")}}}var p=new i("",t.data.url);p.addEventListener("close",c,!1),e.addEventListener("message",u,!1),p.show()})}})})}(window,window.lib||(window.lib={})),module.exports=window.lib.mtop},function(module,exports){module.exports={wrapper:{width:1200,fontFamily:"Open Sans",marginTop:0,marginRight:"auto",marginBottom:0,marginLeft:"auto"},title:{fontSize:"32px",textAlign:"center",fontWeight:"900"},subTitle:{fontSize:"16px",textAlign:"center",marginTop:"8px",marginRight:0,marginBottom:"24px",marginLeft:0},listContainer:{display:"flex",flexDirection:"row",justifyContent:"space-between",marginBottom:"24px"},item:{width:"384px",height:"192px",background:"#FFFFFF",borderRadius:"8px",flexDirection:"row",padding:"16px"},itemType2:{width:"187px",height:"293px",background:"#FFFFFF",borderRadius:"8px",flexDirection:"column",paddingTop:0,paddingRight:0,paddingBottom:0,paddingLeft:0,overflow:"hidden"},itemPicWap:{height:"187px"},itemPicWapEur:{height:"303px"},productImage:{height:"160px",width:"160px",borderRadius:"4px",cursor:"pointer"},productImageType2:{height:"187px",width:"187px",cursor:"pointer"},textContainer:{marginLeft:"12px",justifyContent:"space-around"},"textContainer-dir":{marginLeft:0,marginRight:"12px"},textContainerType2:{paddingTop:"8px",paddingRight:"16px",paddingBottom:"16px",paddingLeft:"16px"},productTitle:{fontSize:"13px",color:"rgb(51,51,51)",lineHeight:"18px",width:"180px",cursor:"pointer",height:"54px"},productTitleType2:{fontSize:"13px",color:"rgb(51,51,51)",cursor:"pointer",height:"36px",lineHeight:"18px",marginBottom:"4px"},minPrice:{fontSize:"18px",color:"rgb(0,0,0)",fontStyle:"italic",fontWeight:"900",paddingRight:"2px"},oriMinPrice:{fontSize:"13px",color:"rgb(153,153,153)",fontStyle:"italic",textDecoration:"line-through",height:"18px",paddingRight:"2px"},orders:{fontSize:"13px",color:"rgb(51,51,51)",height:"18px"},ordersType2:{fontSize:"13px",color:"rgb(153,153,153)",height:"18px"},viewMoreContainer:{minWidth:"320px",color:"rgb(255,255,255)",paddingTop:"8px",paddingRight:"24px",paddingBottom:"8px",paddingLeft:"24px",background:"#ff4747",borderRadius:"20px",marginTop:0,marginRight:"auto",marginBottom:0,marginLeft:"auto",cursor:"pointer",textAlign:"center"},viewMoreText:{fontSize:"16px",color:"rgb(255,255,255)",fontWeight:"700"},defaultImage:{width:1200},textEurContainer2:{textAlign:"left"},minEurPrice2:{width:"180px",display:"block",height:"28px",lineHeight:"28px",color:"rgb(34,34,34)",fontFamily:"OpenSans-Bold",lines:1,overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"},intEurPrice:{display:"inline-block",fontSize:"20px",fontWeight:"700"},symbolEur:{fontSize:"18px",fontWeight:"700",fontFamily:"Open Sans,Arial"},decimalEurPrice:{display:"inline-block",fontSize:"14px",fontWeight:"700"},ordersEur2:{marginLeft:"8px",display:"inline-block",color:"rgb(153,153,153)",fontSize:"14px",textDecoration:"line-through",fontFamily:"Open Sans"},percentage:{display:"inline-block",color:"rgb(255,41,41)",fontSize:"14px",fontFamily:"Open Sans,Arial",marginLeft:"7px"},orderEurAndStar:{display:"block",height:"21.8px",lineHeight:"21.76px",overflow:"hidden"},orderEur:{overflow:"hidden",display:"inline-block",height:"21.8px",fontFamily:"Helvetica",fontSize:"14px",color:"rgb(102,102,102)",lineHeight:"21.76px"},averageStarItem:{position:"relative",display:"inline-block",overflow:"hidden"},averageStar:{position:"relative",top:"2px",display:"inline-block",height:"15px",width:"15px",marginLeft:"6px"},averageStarNum:{display:"inline-block",fontFamily:"Helvetica",height:"21.8px",fontSize:"14px",color:"rgb(153,153,153)",lineHeight:"21.76px"},itemPicESWrapper:{height:"303px",width:"227px",background:"#FFFFFF",borderRadius:"4px",cursor:"pointer",display:"flex",justifyContent:"center"},productImageEur:{maxHeight:"303px",width:"227px",cursor:"pointer"},itemType2Eur:{width:"227px",background:"#FFFFFF",borderRadius:"8px",flexDirection:"column",paddingTop:0,paddingRight:0,paddingBottom:0,paddingLeft:0,overflow:"hidden"}}},function(module,exports){Object.defineProperty(exports,"__esModule",{value:!0});exports.getCookie=function(e){if(document.cookie.length>0){var t=document.cookie.indexOf(e+"="),r=0;if(-1!==t)return t=t+e.length+1,-1===(r=document.cookie.indexOf(";",t))&&(r=document.cookie.length),unescape(document.cookie.substring(t,r))}return null}},function(module,exports,e){Object.defineProperty(exports,"__esModule",{value:!0});var t=Object.assign||function(e){for(var t,r=1;r<arguments.length;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},r=function(){function e(e,t){for(var r,i=0;i<t.length;i++)(r=t[i]).enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}return function(t,r,i){return r&&e(t.prototype,r),i&&e(t,i),t}}(),i=e(1),o=p(e(2)),n=p(e(3)),a=p(e(4)),s=p(e(5)),l=(e(0),p(e(6))),c=p(e(8)),u=e(9);function p(e){return e&&e.__esModule?e:{default:e}}var d=["ar","he","Arabic","Hebrew"],m=function(e){function p(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,p);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(p.__proto__||Object.getPrototypeOf(p)).call(this,e));return r.getData=function(){var e=r.state.gdc,t=e.shopId,i=e.locale,o=void 0===i?"en_US":i,n=e.country,a=void 0===n?"US":n,s=e.currency,c=void 0===s?"USD":s,p=e.lang,d={scenario:"pcFullPieceDiscount",locale:o,shipToCountry:a,lang:void 0===p?"en":p,currency:c,streamId:"",visitorId:(0,u.getCookie)("cna"),pageIndex:1,pageSize:5,recommendInfo:JSON.stringify({storeId:t}),platform:"pc"},m={appId:668,params:JSON.stringify(d)};l.default.request({api:"mtop.relationrecommend.AliexpressRecommend.recommend",v:"1.0",data:m}).then(function(e){var t=e.data&&e.data.result&&e.data.result[0]&&e.data.result[0].mods&&e.data.result[0].mods.listItems||[];if(t&&t.length>=3){var i=t;r.getESFlag()&&r.getESPicList(i),r.setState({showDataStatus:!0,showNoDataStatus:!1,dataSource:i})}}).then(function(e){console.error("pcFullPieceDiscount",JSON.stringify(e))})},r.getESPicList=function(e){var t="";e&&(t=e.map(function(e){return e.productId}).join(","));var i=r.state,o=i.gdc,n=i.mds,a=o.locale,s=void 0===a?"en_US":a,c=o.sellerId,u=void 0===c?"":c,p=(n.moduleData||{}).shopId,d={storeId:void 0===p?"":p,aliMemberId:u,page:1,pageSize:10,locale:s,currency:o.currency,femaleBattle:!0,productIds:t};l.default.request({api:"mtop.aliexpress.store.products.search",v:"1.0",data:d}).then(function(t){var i=t.data.ret||[];if(i&&i.length){var o=e.map(function(e){return i.map(function(t){e.productId+""==t.id+""&&t.skuImageUrl&&(e.skuImageUrl=t.skuImageUrl)}),e});r.setState({dataSource:o})}})},r.getESFlag=function(){var e=r.state.mds,t=e.moduleData,i=t.displayStyle&&"fresh"===t.displayStyle,o=e.moduleData.isShowDisplayFresh;return i&&o},r.goTargetUrl=function(e,t,i){var o=r.props,n=o.mds,a=(o.gdc,{url:e,nid:t||0,widgetId:n.widgetId,moduleName:n.moduleName,target:i||null});r.pageUtils.goTargetUrl&&r.pageUtils.goTargetUrl(a)},r.styleUnderLine=function(e){e.target.style.textDecoration="underline"},r.styleUnderLineNo=function(e){e.target.style.textDecoration="none"},r.isDir=function(){var e=r.state.gdc,t=(void 0===e?{}:e).lang,i=void 0===t?"":t;return d.includes(i)},r.getDirCss=function(e){var t=c.default[e],i=Object.assign({},t,c.default[e+"-dir"]);return r.isDir()?i:t},r.getColorText=function(e,t,r){var i=e||t,o=[];return-1===i.indexOf("{x}%")?(o=i.split("%{x}")).splice(o.length-1,0,"%"+r):(o=i.split("{x}%")).splice(o.length-1,0,r+"%"),o},r.getSubTitle=function(){var e=r.state,t=e.gdc,o=void 0===t?{}:t,a=e.mds,s=e.isSale,l=o.translation,c=void 0===l?{}:l,u=o.translate,p=void 0===u?{}:u,d=a.moduleData,m=(void 0===d?{}:d).fullPieceLevelList,f=void 0===m?[]:m,g=f[0]?f[0].discount:0;return r.getColorText(c["module.wireless.fullPieceDiscountItemList.subTitle"]||p["module.wireless.fullPieceDiscountItemList.subTitle"],"Buy more to save up to {x}%",g).map(function(e,t){return 1===t?(0,i.createElement)(n.default,{style:{color:s?"#ffffff":"#FF4747",fontStyle:"italic",fontWeight:"700"}},e):e})},r.renderList=function(){var e=r.state,l=e.dataSource,u=e.mds,p=e.gdc,d=(p.translation,u.moduleName),m=void 0===d?"":d,f=u.moduleData,g=void 0===f?{}:f,h="fresh"===g.displayStyle,x=g.isShowDisplayFresh,y=6;if(h&&x&&(y=5),l.length>=y){var v=l.slice(0,y);return(0,i.createElement)(o.default,{style:c.default.listContainer},v.map(function(e,a){var l={st_page_id:window.dmtrack_pageid,exp_type:"XRcmd-ItemExposure",exp_attribute:"index="+a,exp_trigger:"","spm-cnt":p.spm_cnt+"."+m,exposure:t({prod:e.productId,"spm-cnt":p.spm_cnt+"."+m},e.trace&&e.trace.utLogMap),utLogMap:encodeURIComponent(JSON.stringify(e.trace&&e.trace.utLogMap))},u={clk_trigger:"",ae_object_value:"",ae_object_type:"product",ae_button_type:m+"_XRcmd-ItemClick",st_page_id:window.dmtrack_pageid,"spm-cnt":p.spm_cnt+"."+m,utLogMap:encodeURIComponent(JSON.stringify(e.trace&&e.trace.utLogMap))};return(0,i.createElement)(o.default,t({},l,{style:6==y?c.default.itemType2:c.default.itemType2Eur}),(0,i.createElement)(s.default,t({},u,{style:6==y?c.default.itemPicWap:c.default.itemPicWapEur,onClick:function(){r.goTargetUrl(e.productDetailUrl,e.productId,"_blank")}}),r.renderPicture(e)),(0,i.createElement)(o.default,{style:c.default.textContainerType2},h&&x?null:(0,i.createElement)(s.default,t({},u,{onClick:function(){r.goTargetUrl(e.productDetailUrl,e.productId,"_blank")},"data-href":e.productDetailUrl,onMouseOver:r.styleUnderLine,onMouseOut:r.styleUnderLineNo,title:e.title&&e.title.displayTitle}),(0,i.createElement)(n.default,{style:c.default.productTitleType2,numberOfLines:2},e.title&&e.title.displayTitle)),(0,i.createElement)(o.default,null,(0,i.createElement)(n.default,{numberOfLines:1,style:c.default.minPrice},e.prices&&e.prices.salePrice&&e.prices.salePrice.formattedPrice)),(0,i.createElement)(n.default,{style:c.default.ordersType2},e.trade&&e.trade.tradeDesc)))}))}var _=l.slice(0,3);return(0,i.createElement)(o.default,{style:c.default.listContainer},_.map(function(e,l){var u={st_page_id:window.dmtrack_pageid,exp_type:m+"_XRcmd-ItemExposure",exp_attribute:"index="+l,exp_trigger:"","spm-cnt":p.spm_cnt+"."+m,exposure:t({prod:e.productId,"spm-cnt":p.spm_cnt+"."+m},e.trace&&e.trace.utLogMap),utLogMap:encodeURIComponent(JSON.stringify(e.trace&&e.trace.utLogMap))},d={clk_trigger:"",ae_object_value:"",ae_object_type:"product",ae_button_type:m+"_XRcmd-ItemClick",st_page_id:window.dmtrack_pageid,"spm-cnt":p.spm_cnt+"."+m,utLogMap:encodeURIComponent(JSON.stringify(e.trace&&e.trace.utLogMap))};return(0,i.createElement)(o.default,t({style:c.default.item},u),(0,i.createElement)(s.default,t({},d,{onClick:function(){r.goTargetUrl(e.productDetailUrl,e.productId,"_blank")}}),(0,i.createElement)(a.default,{source:{uri:e.skuImageUrl||e.image&&e.image.imgUrl},style:c.default.productImage})),(0,i.createElement)(o.default,{style:r.getDirCss("textContainer")},(0,i.createElement)(s.default,t({},d,{onClick:function(){r.goTargetUrl(e.productDetailUrl,e.productId,"_blank")},"data-href":e.productDetailUrl,onMouseOver:r.styleUnderLine,onMouseOut:r.styleUnderLineNo,title:e.title&&e.title.displayTitle}),(0,i.createElement)(n.default,{style:c.default.productTitle,numberOfLines:3,onMouseOver:r.styleUnderLine,onMouseOut:r.styleUnderLineNo},e.title&&e.title.displayTitle)),(0,i.createElement)(o.default,null,(0,i.createElement)(n.default,{numberOfLines:1,style:c.default.minPrice},e.prices&&e.prices.salePrice&&e.prices.salePrice.formattedPrice),e.prices&&e.prices.originalPrice?(0,i.createElement)(n.default,{style:c.default.oriMinPrice,numberOfLines:1},e.prices.originalPrice.formattedPrice):null),(0,i.createElement)(n.default,{style:c.default.orders},e.trade&&e.trade.tradeDesc)))}))},r.renderPicture=function(e){var t=r.state.mds.moduleData,n=void 0===t?{}:t,s="fresh"===n.displayStyle,l=n.isShowDisplayFresh;return s&&l?(0,i.createElement)(o.default,{style:c.default.itemPicESWrapper},(0,i.createElement)(a.default,{source:{uri:e.skuImageUrl||e.image&&e.image.imgUrl},style:c.default.productImageEur})):(0,i.createElement)(a.default,{source:{uri:e.image&&e.image.imgUrl},style:c.default.productImageType2})},r.renderPrice=function(e){var t=r.state.gdc,s=void 0===t?{}:t,l=s.translation,u=void 0===l?{}:l;if(console.log(e),"EUR"===s.currency){var p=(e.minPrice||e.oriMinPrice).split("."),d=e.oriMinPrice.split(".");return(0,i.createElement)(o.default,{style:c.default.textEurContainer2},(0,i.createElement)(o.default,{style:c.default.minEurPrice2},(0,i.createElement)(n.default,{style:c.default.intEurPrice},p[0],(0,i.createElement)(n.default,{style:c.default.symbolEur},",")),(0,i.createElement)(n.default,{style:c.default.decimalEurPrice},p[1],"€"),(0,i.createElement)(n.default,{style:c.default.ordersEur2},d[0],",",d[1],"€"),e.discount?(0,i.createElement)(n.default,{style:c.default.percentage},"-",e.discount,"%"):null),e.orders>0||e.productAverageStar?(0,i.createElement)(o.default,{style:c.default.orderEurAndStar},(0,i.createElement)(n.default,{style:c.default.orderEur},e.orders>0?__(u["module.smartLeaderboard.sold"],"${0} Sold",e.orders):null),e.productAverageStar?(0,i.createElement)(o.default,{style:c.default.averageStarItem},(0,i.createElement)(a.default,{style:c.default.averageStar,autoReplaceDomain:!1,source:{uri:"https://ae01.alicdn.com/kf/H4e49d4d4659b4f2a84a40b2d5c0ecb462/200x200.png"}}),(0,i.createElement)(n.default,{style:c.default.averageStarNum},e.productAverageStar)):null):null)}return(0,i.createElement)(o.default,null,(0,i.createElement)(o.default,null,(0,i.createElement)(n.default,{numberOfLines:1,style:c.default.minPrice},e.minPrice||e.oriMinPrice)),(0,i.createElement)(n.default,{style:c.default.ordersType2},e.orders>0?__(u["module.smartLeaderboard.sold"],"${0} Sold",e.orders):null))},r.pageUtils=e.pageUtils,r.fetch=e.pageUtils.fetch,r.state={showDataStatus:!1,showNoDataStatus:!0,dataSource:[],mds:e.mds||{},gdc:e.gdc||{},isSale:location.pathname.includes("promotion-")||e.gdc.bigSalePage||!1},r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(p,i.Component),r(p,[{key:"componentDidMount",value:function(){var e=this.state.mds,t=e.moduleData,r=void 0===t?{}:t,i=e.widgetId,o=r.fullPieceLevelList,n=void 0===o?[]:o;i&&n&&n.length>0&&this.getData()}},{key:"render",value:function(){var e=this,r=this.state,l=r.showDataStatus,u=r.showNoDataStatus,p=r.isSale,d=this.props,m=d.mds,f=d.gdc,g=f.preView,h=f.translation,x=void 0===h?{}:h,y=m.moduleData,v=void 0===y?{}:y,_=m.moduleName,w=void 0===_?"":_,b=m.widgetId,S=void 0===b?"":b,E=v.bundleDealsPcPageUrl,R=void 0===E?"":E;if(l){p&&(c.default.viewMoreContainer.backgroundColor="rgba(0,0,0,0.16)",c.default.subTitle.color="#ffffff",c.default.title.color="#ffffff");var O={st_page_id:window.dmtrack_pageid,exp_type:w+"_exposure",exp_attribute:"",exp_trigger:"","spm-cnt":"a2g0o.store_home."+w+"."+S},D={ae_object_value:"",clk_trigger:"",ae_object_type:"view_more_click",ae_button_type:w+"_click",st_page_id:window.dmtrack_pageid};return(0,i.createElement)(o.default,t({},O,{style:c.default.wrapper,dir:this.isDir()?"rtl":"ltr"}),(0,i.createElement)(n.default,{style:c.default.title},x["module.wireless.fullPieceDiscountPageTitle.title"]||"Bundle Deals"),(0,i.createElement)(n.default,{style:c.default.subTitle},this.getSubTitle()),this.renderList(),(0,i.createElement)(s.default,t({},D,{style:c.default.viewMoreContainer,onClick:function(){e.goTargetUrl(R,"","_blank")}}),(0,i.createElement)(n.default,{style:c.default.viewMoreText},x["module.smartLeaderboard.viewMore"]||"View More")))}return!u||"true"!==g&&!0!==g?null:(0,i.createElement)(a.default,{style:t({},c.default.defaultImage,{width:m.defaultImageWidth||"100%",height:"auto"}),source:{uri:m.defaultImage}})}}]),p}();exports.default=m,module.exports=exports.default}])});