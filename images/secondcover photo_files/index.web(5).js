// {"framework" : "Rax"}
!function(e){if("function"==typeof define)define("aemod/ae-pc-promoteRecommendProducts/index.web",["rat-frame","rat-view","rat-text","rat-picture","rat-link"],function(require,exports,module){module.exports=e(require("rat-frame"),require("rat-view"),require("rat-text"),require("rat-picture"),require("rat-link"))});else if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e(require("rat-frame"),require("rat-view"),require("rat-text"),require("rat-picture"),require("rat-link"));else{var t;(t="undefined"!=typeof window?window:"undefined"!=typeof self?self:"undefined"!=typeof global?global:this).AePcPromoteRecommendProducts=e(t["rat-frame"],t["rat-view"],t["rat-text"],t["rat-picture"],t["rat-link"])}}(function(e,t,n,o,r){return function(e){var t={};function n(o){if(t[o])return t[o].exports;var module=t[o]={i:o,l:!1,exports:{}};return e[o].call(module.exports,module,module.exports,n),module.l=!0,module.exports}return n.m=e,n.c=t,n.d=function(exports,e,t){n.o(exports,e)||Object.defineProperty(exports,e,{enumerable:!0,get:t})},n.r=function(exports){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(exports,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(o,r,function(t){return e[t]}.bind(null,r));return o},n.n=function(module){var e=module&&module.__esModule?function(){return module.default}:function(){return module};return n.d(e,"a",e),e},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/",n(n.s=21)}([function(module,exports,e){exports.__esModule=!0;var t=e(8);Object.keys(t).forEach(function(e){"default"===e||"__esModule"===e||e in exports&&exports[e]===t[e]||(exports[e]=t[e])})},function(module,exports){Object.defineProperty(exports,"__esModule",{value:!0}),exports.isObject=function(e){return"[object Object]"=={}.toString.call(e)},exports.getCommonError=function(e,t){return{api:e.api,v:e.v,data:{},ret:["FAIL::"+(t||"")],retType:-1}};exports.RESPONSE_TYPE={ERROR:-1,SUCCESS:0,TOKEN_EXPIRED:1,SESSION_EXPIRED:2}},function(module,exports){module.exports=e},function(module,exports){module.exports=t},function(module,exports){module.exports=n},function(module,exports){module.exports=o},function(module,exports){module.exports=r},function(module,exports,e){Object.defineProperty(exports,"__esModule",{value:!0});var t,n=e(0),o=e(11),r=e(12),i=e(13),a=e(1),u=e(14),l=e(17),s=(t=l)&&t.__esModule?t:{default:t};function c(){return(c=Object.assign?Object.assign.bind():function(e){for(var t,n=1;n<arguments.length;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)}var d={};function f(e){var t;return e.api&&(t=function(e,t,n){var o;if(e){for(var r in o=[],e)Object.prototype.hasOwnProperty.call(e,r)&&(!t||t.indexOf(r)>-1)&&void 0!==e[r]&&""!==e[r]&&o.push(r+"-"+(n?encodeURIComponent(e[r]):e[r]));o.sort()}else o=[];return o.join("_")}(e.data,e.requiredParams,e.encodeParam)),"//fallback.alicdn.com/mtop/"+e.api+"_"+(e.v||"1.0")+"/"+t}function p(e,t,n){(0,o.initLibMtopInBrowser)().then(function(){Object.assign(lib.mtop.config,d),lib.mtop.request(e,t,n)}).catch(n)}function m(e,t,n){return function(o){e&&e(o),t&&t(o),n&&n(o)}}n.isWeb&&!(0,r.canUseLibWindVaneRequest)()&&(0,o.initLibMtopInBrowser)().catch(function(e){console.warn("Init lib-mtop.js failed",e)}),exports.default={request:function(e,t,o){var a=!1;return("function"==typeof t||"function"==typeof o)&&console.error("Mtop Error: request 方法仅支持 Promise 链式调用方式！"),e&&void 0===e.preventFallback&&(e.preventFallback=!0),new Promise(function(t,o){var l,c,y,g,b,h=Date.now(),w=(b=-1,n.isWeb&&window.performance&&window.performance.now&&(b=window.performance.now()),b),v=function(e){return t(e)},S=m(u.sendLog.bind(null,{params:e,begin:h,startTime:w,state:!0,apiType:1,apiTypeState:!1,apiTypeMsg:""}),v),_=m(function(t){t&&(t.api||t.v)||(t={api:e.api,v:e.v,data:{},ret:t.ret||["FAIL::"+(JSON.stringify(t)||"")],retType:-1}),void 0===t.retType&&(t.retType=-1),(0,u.sendLog)({params:e,startTime:w,begin:h,state:!1,errorMsg:t})},function(r){var i=r.ret;return i instanceof Array&&(i=i.join(",")),a&&(i.indexOf("PARAM_PARSE_ERROR")>-1||i.indexOf("HY_FAILED")>-1||i.indexOf("HY_NO_HANDLER")>-1||i.indexOf("HY_CLOSED")>-1||i.indexOf("HY_EXCEPTION")>-1||i.indexOf("HY_NO_PERMISSION")>-1)?(a=!1,e.H5Request=!0,p(e,S,_)):e&&(1==e.ecode||e.preventFallback||n.isMiniApp)?o(r):void function(e,t){return new Promise(function(n,o){"string"==typeof e.data&&(e.data=JSON.parse(e.data));var r=f(e),i=new XMLHttpRequest;i.open("get",r,!0),i.send(null),i.onreadystatechange=function(){if(4==this.readyState&&200==this.status)try{var e=JSON.parse(this.responseText);e&&e.success&&e.result&&!e.result.backup?o(t):n(e)}catch(e){o(t)}else 4==this.readyState&&o(t)}})}(e,r).then(function(e){t(e)}).catch(function(e){o(e)})});if(!0===e.H5Request||n.isWeb&&!0===(null==(l=window)||null==(c=l.lib)||null==(y=c.mtop)||null==(g=y.config)?void 0:g.LibMtopRequest)||!0===d.LibMtopRequest||!0===e.LibMtopRequest)p(e,S,_);else if(n.isWeex)(0,i.requestByWeex)(e,S,_);else if(n.isWeb)window.pha&&e.prefetchKey&&window.pha.dataPrefetch?function(e,t,n,o,i){window.pha.dataPrefetch.getData({key:e.prefetchKey},function(r){(0,u.sendLog)({params:e,startTime:n,begin:t,state:!0,apiType:2,apiTypeState:!0,apiTypeMsg:""}),o(r)},function(a){void 0===a&&(a={});var l=a.message;console.error("PHA 预请求失败 "+l+"，重试 MTOP 请求！");var s=function(r){(0,u.sendLog)({params:e,startTime:n,begin:t,state:!0,apiType:2,apiTypeState:!1,apiTypeMsg:l}),o(r)};(0,r.canUseLibWindVaneRequest)()?(0,r.requestByLibWindvane)(e,s,i):p(e,s,i)})}(e,h,w,m(null,v),_):(0,r.canUseLibWindVaneRequest)()?(a=!0,(0,r.requestByLibWindvane)(e,S,_)):p(e,S,_);else{if(!n.isMiniApp)throw Error("当前容器暂不支持使用，请反馈 http://gitlab.alibaba-inc.com/ali-rax-pkg/universal-mtop/issues");(0,s.default)(e).then(S).catch(_)}})},config:function(e,t){n.isWeex||n.isWeb&&("string"==typeof e?d[e]=t:d=window.lib&&window.lib.mtop?c({},lib.mtop.config,d,e):c({},d,e))},_getConfig:function(){if(n.isWeb&&window.lib&&window.lib.mtop)return c({},window.lib.mtop.config,d)},RESPONSE_TYPE:a.RESPONSE_TYPE,initLibMtopInBrowser:o.initLibMtopInBrowser},module.exports=exports.default},function(module,exports,e){(function(e,t){Object.defineProperty(exports,"__esModule",{value:!0});var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=exports.isWeb="undefined"!=typeof window&&"onload"in window,r=exports.isNode=void 0!==e&&!(!e.versions||!e.versions.node),i=exports.isWeex="undefined"!=typeof WXEnvironment&&"Web"!==WXEnvironment.platform,a=exports.isKraken="undefined"!=typeof __kraken__,u=exports.isMiniApp="undefined"!=typeof my&&null!==my&&void 0!==my.alert,l=exports.isByteDanceMicroApp="undefined"!=typeof tt&&null!==tt&&void 0!==tt.showToast,s=exports.isBaiduSmartProgram="undefined"!=typeof swan&&null!==swan&&void 0!==swan.showToast,c=exports.isKuaiShouMiniProgram="undefined"!=typeof ks&&null!==ks&&void 0!==ks.showToast,d=exports.isWeChatMiniProgram=!l&&"undefined"!=typeof wx&&null!==wx&&(void 0!==wx.request||void 0!==wx.miniProgram),f=exports.isQuickApp=void 0!==t&&null!==t&&void 0!==t.callNative&&!i,p=exports.isPHA=o&&"object"===("undefined"==typeof pha?"undefined":n(pha)),m=exports.isFRM=u&&o&&my.isFRM,y="object"===("undefined"==typeof navigator?"undefined":n(navigator))?navigator.userAgent||navigator.swuserAgent:"",g=exports.isWindVane=/.+AliApp\((\w+)\/((?:\d+\.)+\d+)\).* .*(WindVane)(?:\/((?:\d+\.)+\d+))?.*/.test(y)&&o&&"undefined"!=typeof WindVane&&void 0!==WindVane.call;exports.default={isWeb:o,isNode:r,isWeex:i,isKraken:a,isMiniApp:u,isByteDanceMicroApp:l,isBaiduSmartProgram:s,isKuaiShouMiniProgram:c,isWeChatMiniProgram:d,isQuickApp:f,isPHA:p,isWindVane:g,isFRM:m}}).call(this,e(9),e(10))},function(module,exports){var e,t,n=module.exports={};function o(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function i(t){if(e===setTimeout)return setTimeout(t,0);if((e===o||!e)&&setTimeout)return e=setTimeout,setTimeout(t,0);try{return e(t,0)}catch(n){try{return e.call(null,t,0)}catch(n){return e.call(this,t,0)}}}!function(){try{e="function"==typeof setTimeout?setTimeout:o}catch(t){e=o}try{t="function"==typeof clearTimeout?clearTimeout:r}catch(e){t=r}}();var a,u=[],l=!1,s=-1;function c(){l&&a&&(l=!1,a.length?u=a.concat(u):s=-1,u.length&&d())}function d(){if(!l){var e=i(c);l=!0;for(var n=u.length;n;){for(a=u,u=[];++s<n;)a&&a[s].run();s=-1,n=u.length}a=null,l=!1,function(e){if(t===clearTimeout)return clearTimeout(e);if((t===r||!t)&&clearTimeout)return t=clearTimeout,clearTimeout(e);try{t(e)}catch(n){try{return t.call(null,e)}catch(n){return t.call(this,e)}}}(e)}}function f(e,t){this.fun=e,this.array=t}function p(){}n.nextTick=function(e){var t=Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];u.push(new f(e,t)),1!==u.length||l||i(d)},f.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.browser=!0,n.env={},n.argv=[],n.version="",n.versions={},n.on=p,n.addListener=p,n.once=p,n.off=p,n.removeListener=p,n.removeAllListeners=p,n.emit=p,n.prependListener=p,n.prependOnceListener=p,n.listeners=function(){return[]},n.binding=function(){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(){throw new Error("process.chdir is not supported")},n.umask=function(){return 0}},function(module,exports){var e,t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};e=function(){return this}();try{e=e||new Function("return this")()}catch(n){"object"===("undefined"==typeof window?"undefined":t(window))&&(e=window)}module.exports=e},function(module,exports,e){Object.defineProperty(exports,"__esModule",{value:!0}),exports.initLibMtopInBrowser=function(){if(!t.isWeb)throw Error("非浏览器环境不能插入 lib-mtop.js");return window[o]||(window[o]=new Promise(function(e,t){if(window.lib&&window.lib.mtop)return e(lib.mtop);var r=document.createElement("script");r.src=n,r.async=!0,r.crossOrigin="anonymous",r.onerror=function(){delete window[o],t(new Error("加载 lib-mtop.js 失败"))},r.onload=function(){window.lib&&window.lib.mtop?e(lib.mtop):(delete window[o],t(new Error("未检测到全局 mtop 变量，请检查 lib-mtop.js")))},function(e){(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]||document.firstElementChild||document).appendChild(e)}(r)})),window[o]};var t=e(0),n="//g.alicdn.com/mtb/lib-mtop/2.7.0/mtop.js",o="__UNIVERSAL_MTOP_APPEND_LIB_MTOP_IN_BROWSER__"},function(module,exports,e){Object.defineProperty(exports,"__esModule",{value:!0}),exports.canUseLibWindVaneRequest=o,exports.requestByLibWindvane=function(e,t,r){if(!o())throw Error("当前 web 环境不能发送 windvane 请求");e.param=e.data||e.param,"POST"===e.type&&(e.post="1"),("json"===e.dataType||"originaljsonp"===e.dataType||"original"===e.valueType)&&(e.type="originaljson",delete e.dataType),e.sessionOption||(!0===e.needLogin?e.sessionOption="AutoLoginAndManualLogin":e.sessionOption="AutoLoginOnly"),Object.assign&&e.dangerouslySetWindvaneParams&&(Object.assign(e,e.dangerouslySetWindvaneParams),delete e.dangerouslySetWindvaneParams);var i=function(e){"string"==typeof e&&(e=JSON.parse(e)),e.retType===n.RESPONSE_TYPE.SUCCESS||e.ret&&e.ret[0].indexOf("SUCCESS")>-1?t&&t(e):r&&r(e)};lib.windvane.call("MtopWVPlugin","send",e,i,i)};var t=e(0),n=e(1);function o(){var e=!1;if(t.isWeb){var n=window.navigator.userAgent,o=n.match(/WindVane[\/\s]([\d\.\_]+)/)&&n.match(/WindVane[\/\s]([\d\.\_]+)/)[1];window.lib&&window.lib.windvane&&parseFloat(o)>5.4&&(e=!0),n.indexOf("youku")>-1&&location.hostname.indexOf("youku.com")<0&&(e=!1),location.hostname.indexOf("youku.com")>-1&&n.indexOf("youku")<0&&(e=!1),window.self!==window.top&&(e=!1)}return e}},function(module,exports,e){Object.defineProperty(exports,"__esModule",{value:!0}),exports.requestByWeex=function(e,o,r){var i=function(){try{return __weex_require__("@weex-module/mtop")}catch(e){console.warn("Mtop require error")}}(),a=function(){try{return __weex_require__("@weex-module/windvane")}catch(e){console.warn("Windvane require error")}}();if(i){e.dataType&&/^(original){0,1}jsonp$/.test(e.dataType)&&(e.dataType=e.dataType.replace("jsonp","json"));var u=setTimeout(function(){r({ret:["TIMEOUT::接口超时"],retType:t.RESPONSE_TYPE.ERROR})},e.timeout||2e4);i.request(e,function(e){return clearTimeout(u),e.retType=n(e),e&&e.MP_TIME_OUT?void r({ret:["TIMEOUT::接口超时"],retType:-1}):void o(e)},function(e){clearTimeout(u),e.retType=n(e),r(e)})}else a?(e.param=e.data||e.param,"POST"===e.type&&(e.post="1"),a.call({class:"MtopWVPlugin",method:"send",data:e},function(e){"string"==typeof e&&(e=JSON.parse(e)),e.retType===t.RESPONSE_TYPE.SUCCESS||e.ret&&e.ret[0].indexOf("SUCCESS")>-1?o&&o(e):r&&r(e)})):r&&r("Windvane & Mtop require error")};var t=e(1);function n(e){var n=e.ret||"";return Array.isArray(n)&&(n=n.join(",")),n.indexOf("SUCCESS")>-1?t.RESPONSE_TYPE.SUCCESS:n.indexOf("TOKEN_EMPTY")>-1||n.indexOf("TOKEN_EXOIRED")>-1?t.RESPONSE_TYPE.TOKEN_EXPIRED:n.indexOf("SESSION_EXPIRED")>-1||n.indexOf("SID_INVALID")>-1||n.indexOf("AUTH_REJECT")>-1||n.indexOf("NEED_LOGIN")>-1?t.RESPONSE_TYPE.SESSION_EXPIRED:t.RESPONSE_TYPE.ERROR}},function(module,exports,e){var t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(exports,"__esModule",{value:!0}),exports.sendLog=function(e){var n=e.params,r=e.state,a=e.begin,u=e.startTime,l=e.apiType,s=e.apiTypeState,c=e.apiTypeMsg,d=e.errorMsg;try{if(!n.disableTracker&&i.default&&i.default.report){var f,p,m=r;!m&&function(e,t){var n=(e||{}).trackerConfig,o=null==n?void 0:n.filterErrorMsg,r=!1;if(t&&o&&"function"==typeof o)try{r=o(t)}catch(e){}return r}(n,d)&&(m=!0),i.default.report({api:function(e){var t=e||{},n=t.api,r=void 0===n?"":n,i=t.v,a=void 0===i?"":i,u=t.miniAppID,l=t.trackerConfig,s=r+"/"+a;if(o.isMiniApp){var c=u?"UN_MINIAPP/"+u:"UN_MINIAPP";s=c+"/"+s}return l&&l.requestCode&&(s+="/"+l.requestCode),s.toLowerCase()}(n),success:m,params:function(e){var n="",o=e||{},r=o.data,i=o.trackerConfig,a=!(i&&!0===i.disableParmas);return r&&a&&(n="object"===(void 0===r?"undefined":t(r))?JSON.stringify(r):r),n}(n),timing:Date.now()-a,st:u,sampling:function(e,t){var n=t.trackerConfig||{},o=!0===e?100:1;return n.sampling||o}(m,n),message:d?JSON.stringify(d):"mtop调用",type:"mtop_perf",falcoId:(null==d||null==(f=d.stat)?void 0:f.falcoId)||"",traceId:(null==d||null==(p=d.stat)?void 0:p.eagleEyeTraceId)||"",apiType:l||1,apiTypeState:s||!1,apiTypeMsg:c||""})}}catch(e){console.warn("log send error")}};var n,o=e(0),r=e(15),i=(n=r)&&n.__esModule?n:{default:n}},function(module,exports,e){Object.defineProperty(exports,"__esModule",{value:!0});var t,n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=e(0),r=e(16),i=(t=r)&&t.__esModule?t:{default:t};var a=0,u={screen:"undefined"==typeof screen?"0x0":(screen&&screen.width)+"x"+(screen&&screen.height),sampling:1,version:"rx-tracker/3.0.7",native:o.isWeex?1:0,isInWindmill:0},l="/jstracker.3";function s(e){if(++a>20&&o.isWeb)return!1;var t=Object.assign({url:i.default.format(e)},u,e);if(t.sampling=(o.isNode||"undefined"==typeof location?"":location.href).indexOf("jt_debug=1")>-1?1:t.sampling,o.isWeb&&"undefined"!=typeof goldlog&&window.JSTracker2&&window.JSTracker2.push)window.JSTracker2.push(t);else if(Math.random()*t.sampling<1)if(o.isWeex){var r;try{r=__weex_require__("@weex-module/userTrack")}catch(e){}var s="undefined"!=typeof __weex_options__&&__weex_options__.weex,c=o.isWeex&&"object"===(void 0===s?"undefined":n(s))&&s.config&&"windmill"===s.config.container||!1,d=!1;if(c)try{var f=__weex_require__("@weex-module/keyboard");(void 0===f||n(f))&&"function"==typeof f.hideKeyboard&&(d=!0)}catch(e){}r.commitEvent&&(c&&d?(t.isInWindmill="weex",r.commitEvent({eventId:"19999",eventid:"19999",name:location.href,pageName:location.href,arg1:l,arg2:"",arg3:"",param:t,params:t})):r.commitEvent(location.href,"19999",l,"","",t))}else o.isWeb&&"undefined"!=typeof goldlog?(t.grey=function(e){if(document&&document.querySelector){var t=document.querySelector('meta[name="'+e+'"]');if(t)return t.getAttribute("content")}return""}("def-grey"),"undefined"!=typeof aplus&&(t=function(e){var t="";if("object"===(void 0===e?"undefined":n(e)))for(var o in e)""!=t&&(t+="&"),t+=o+"="+encodeURIComponent(e[o]);else t=e;return t}(t)),goldlog.send&&goldlog.send("//gm.mmstat.com"+l,t)):"undefined"!=typeof my&&my.getSystemInfoSync&&"function"==typeof my.getSystemInfoSync&&("TB"===my.getSystemInfoSync().app||"alipay"===my.getSystemInfoSync().app)&&(t.isInWindmill="web",function(e){my.request&&"function"==typeof my.request?my.request({url:"https://gm.mmstat.com"+l,method:"GET",data:e,dataType:"text"}).catch(function(){}):my.httpRequest&&"function"==typeof my.httpRequest&&my.httpRequest({url:"//gm.mmstat.com"+l,method:"get",data:e,dataType:"json"})}(t))}exports.default={report:s,reportError:function(e,t,n){var o={};e&&e instanceof Error&&(o={stack:JSON.stringify(e.stack),name:e.name,message:e.message,type:"error",module:t},n&&(o.reverse1=n),s(o))},reportApi:function(e,t){e&&e.url&&(e.type="api",e.module=t,e.sampling=e.sampling||"100",s(e))},setConfig:function(e){e&&e.sampling&&(u.sampling=e.sampling),e&&e.pid&&(u.pid=e.pid)}},module.exports=exports.default},function(module,exports,e){Object.defineProperty(exports,"__esModule",{value:!0});var t=e(0),n={render:"rx_render_err",data:"rx_data_fetch_err",error:"rax_error"};exports.default={format:function(e){var o=t.isNode||"undefined"==typeof location?"":location.href||"",r=n[e.type]||(e.type?e.type+"/":"")+"rx_user_define_err",i=[o.replace(/[\?#].*$/,"").replace(/\/$/,""),e.module||"",r].join("/").toLowerCase();return t.isWeex?encodeURIComponent(i):i}},module.exports=exports.default},function(module,exports,e){Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e){return new Promise(function(o,r){var i=Object.assign({},e,{apiName:e.api,apiVersion:e.v,needEcodeSign:e.ecode+""=="1"});(0,n.isObject)(e.data)||(i.data=JSON.parse(e.data)),Object.assign&&e.dangerouslySetAlipayParams&&Object.assign(i,e.dangerouslySetAlipayParams),"alipay"===e.miniAppType||"alipay"===(t||(t=my.getSystemInfoSync()),t).app?("POST"===e.type&&(i.usePost=!0),(!!e.originaljsonp||!!e.json)&&(i.type="originaljson"),void 0!==e.valueType&&("original"===e.valueType?i.type="originaljson":"string"===e.valueType&&delete i.type),!0===e.useJsonpResultType&&delete i.type,my.call("mtop",i,function(e){if(Array.isArray(e.ret)){var t=!0;for(var n in e.ret)/^SUCCESS::/.test(e.ret[n])||(t=!1);t?o(e):r(e)}else r(e)})):(i.method=e.type,i.success=function(e){o(e)},i.fail=function(e){r(e)},my.sendMtop(i))})};var t,n=e(1);module.exports=exports.default},function(module,exports,e){Object.defineProperty(exports,"__esModule",{value:!0});var t=Object.assign||function(e){for(var t,n=1;n<arguments.length;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},n=function(){function e(e,t){for(var n,o=0;o<t.length;o++)(n=t[o]).enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),o=e(2),r=a(e(3)),i=a(e(5));a(e(4));function a(e){return e&&e.__esModule?e:{default:e}}var u={width:"100%",height:"40px",display:"flex",textAlign:"center",flexDirection:"row",alignItems:"center",justifyContent:"center",marginBottom:"15px"},l={height:"40px",width:"40px"},s=function(e){function a(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(a.__proto__||Object.getPrototypeOf(a)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(a,o.Component),n(a,[{key:"render",value:function(){return(0,o.createElement)(r.default,{style:t({},u)},(0,o.createElement)(i.default,{style:t({},l),source:{uri:"//ae01.alicdn.com/kf/H6e469dc365d9495a8ccef13dbefb2478E.gif"}}))}}]),a}();exports.default=s,module.exports=exports.default},function(module,exports){exports.__=function(e,t){for(var n=arguments.length,o=Array(n>2?n-2:0),r=2;r<n;r++)o[r-2]=arguments[r];var i=e||t;for(var a in o){var u=o[a];i=i.replace(new RegExp("\\${\\w?"+a+"\\w?\\}","g"),u)}return i}},function(module,exports){module.exports={wrapper:{width:"1200px",marginTop:0,marginRight:"auto",marginBottom:0,marginLeft:"auto",fontFamily:"Open Sans"},defaultImage:{width:1200},maintitleWrap:{textAlign:"center",marginTop:"24px",marginBottom:"24px"},maintitle:{fontSize:"32px",lineHeight:"40px",fontWeight:"700",color:"rgb(255,255,255)"},productsWrap:{display:"block",marginLeft:"-8px",marginRight:"-8px"},product:{width:"288px",height:"376px",marginLeft:"8px",marginRight:"8px",marginBottom:"16px",backgroundColor:"rgb(255,255,255)",borderRadius:"4px",padding:"16px",display:"inline-block"},imageWrap:{display:"flex",flexDirection:"row",alignItems:"center",textAlign:"center",verticalAlign:"middle",justifyContent:"center",width:"256px",height:"256px"},picture:{display:"block",maxWidth:"256px",maxHeight:"256px",cursor:"pointer"},titleLink:{display:"inline-block",width:"100%",height:"36px",overflow:"hidden",marginTop:"8px"},title:{fontSize:"13px",lineHeight:"18px",width:"256px",height:"36px",color:"rgb(51,51,51)",overflow:"hidden",textOverflow:"ellipsis",cursor:"pointer",display:"block",float:"left"},promoprice:{display:"flex",flexDirection:"row",height:"24px",alignItems:"center"},propicture:{display:"block",height:"14px"},price:{fontWeight:"700",fontSize:"18px",lineHeight:"24px",overflow:"hidden",textOverflow:"ellipsis",color:"rgb(0,0,0)",marginLeft:"4px"},"price-dir":{marginRight:"4px"},originContainer:{height:"18px",flexDirection:"row",alignItems:"center",justifyContent:"space-between"},oldPriceWrap:{display:"flex",flexDirection:"row"},oldPrice:{fontSize:"12px",lineHeight:"18px",color:"rgb(153,153,153)",textDecoration:"line-through",marginRight:"4px"},"oldPrice-dir":{marginRight:0,marginLeft:"4px"},discountInfo:{height:"16px",background:"#FFF1F1",lineHeight:"16px",paddingTop:0,paddingRight:"4px",paddingBottom:0,paddingLeft:"4px",borderRadius:"2px"},discountNum:{fontSize:"12px",color:"rgb(255,71,71)"},orders:{fontSize:"12px",color:"rgb(51,51,51)",lineHeight:"18px"}}},function(module,exports,e){Object.defineProperty(exports,"__esModule",{value:!0});var t=Object.assign||function(e){for(var t,n=1;n<arguments.length;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=function(){function e(e,t){for(var n,o=0;o<t.length;o++)(n=t[o]).enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=e(2),i=p(e(3)),a=p(e(4)),u=p(e(5)),l=p(e(6)),s=p(e(7)),c=p(e(18)),d=e(19),f=p(e(20));function p(e){return e&&e.__esModule?e:{default:e}}var m=["ar","he","Arabic","Hebrew"],y=function(e){function p(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,p);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(p.__proto__||Object.getPrototypeOf(p)).call(this,e));return t.getData=function(){var e=t.state,n=e.gdc,o=e.mds,r=e.dataSource,i=e.currentPage,a=e.finished,u=o.moduleData,l=(u||{}).itemIds,c=void 0===l?"":l;if(console.log("recommednProudss getData2"),!u&&a)return!1;var d=URLSearchParams&&new URLSearchParams(window.location.search);window.lib.mtop.config.prefix=d&&d.get("pre-")?"pre-acs":"acs",window.lib.mtop.config.subDomain="",window.lib.mtop.config.mainDomain="aliexpress.com",/aliexpress.ru/.test(window.location.host)&&(window.lib.mtop.config.mainDomain="aliexpress.ru"),console.log("recommednProudss getData3"),s.default.request({api:"mtop.aliexpress.store.products.recommend",v:"1.0",ecode:0,appKey:24770048,dataType:"originaljsonp",type:"POST",data:{currentPage:i,ignoreProductIds:c||"",pageSize:20,storeNumber:n.shopId,_lang:n._lang,buyerId:n.buyerId,locale:n.locale,currency:n.currency,country:n.country&&"CN"===n.country?"US":n.country,sellerId:n.sellerId,class:"com.alibaba.site.decorate.web.client.model.request.ShopRecommendRequest",scene:"camp4you",platform:"PC"}}).then(function(e){if(console.log("recommednProudss getData4",e),e.data&&(e.data.success||"success"===e.data.message)&&e.data.data&&e.data.data.length>0)if(1===i){var n=e.data.data.slice(0,4),o=e.data.data.slice(4);o=o.concat(n);var a=(o=r.concat(o)).length;t.setState({showDataStatus:a>0,showNoDataStatus:!1,dataSource:o,currentPage:i+1,loading:!1,finished:0===e.data.data.length})}else t.setState({showDataStatus:!0,showNoDataStatus:!1,dataSource:r.concat(e.data.data),currentPage:i+1,loading:!1,finished:0===e.data.data.length});else t.setState({finished:!0,loading:!1})}).catch(function(){t.setState({loading:!1,finished:!0})})},t.getMockData=function(){fetch("./data.json").then(function(e){return e.json()}).then(function(e){t.setState({showDataStatus:!0,showNoDataStatus:!1,dataSource:e.data.data.slice(0,4),loading:!1})}).catch(function(e){console.error(e)})},t.goTargetUrl=function(e,n,o,r){var i=t.state,a=i.mds,u=(i.gdc,{url:e,nid:n||0,moduleName:a.moduleName,target:o||null,extParams:r});t.pageUtils.goTargetUrl&&t.pageUtils.goTargetUrl(u)},t.getDiscount=function(e){if(e>0)return"-"+e+"%"},t.styleUnderLine=function(e){e.target.style.textDecoration="underline",e.target.style.color="#000"},t.styleUnderLineNo=function(e){e.target.style.textDecoration="none",e.target.style.color="#000"},t.getSaleImg=function(e){var n=t.state.gdc,o=void 0===n?{}:n,r=o.productIcon,i=void 0===r?"":r;if(o.atmosphereFlag&&e&&e.length>0){var a="";return e.forEach(function(e){"STORE_ITEM_TILTE_RESOURCE"===e.resourcePositionCode&&(a=e.atmosphereDTOList&&e.atmosphereDTOList[0]&&e.atmosphereDTOList[0].materials[0].value)}),a}return i},t.isDir=function(){var e=t.state.gdc,n=(void 0===e?{}:e).lang,o=void 0===n?"":n;return m.includes(o)},t.getDirCss=function(e){var n=f.default[e],o=Object.assign({},n,f.default[e+"-dir"]);return t.isDir()?o:n},t.pageUtils=e.pageUtils,t.fetch=e.pageUtils.fetch,t.state={showDataStatus:!1,showNoDataStatus:!1,mds:t.props.mds||{},gdc:t.props.gdc||{},dataSource:[],currentPage:1,loading:!1,finished:!1},t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(p,r.Component),o(p,[{key:"componentDidMount",value:function(){var e=this,t=this.state.mds.moduleData;if(0===Object.keys(t).length)return!1;console.log("recommednProudss getData"),this.getData();var n=this;window.addEventListener("scroll",function(){var t=n.state,o=t.showDataStatus,i=t.loading,a=t.finished;if(o&&!a){var u=document.body.scrollTop;(window.ActiveXObject||"ActiveXObject"in window)&&(u=document.documentElement.scrollTop);var l=document.body.scrollLeft,s=document.documentElement.clientHeight,c=document.documentElement.clientWidth,d=(0,r.findDOMNode)(e.productNull).getBoundingClientRect(),f=d.top,p=d.left,m=d.width,y=d.height;return!i&&f+y>u&&f<u+s&&p+m>l&&p<l+c&&n.setState({loading:!0},function(){n.getData()}),!1}})}},{key:"render",value:function(){var e=this,o=this.state,s=o.mds,p=o.gdc,m=o.dataSource,y=o.showDataStatus,g=o.showNoDataStatus,b=o.loading,h=p.preView,w=s.moduleName,v=void 0===w?"":w,S=s.moduleData,_=(void 0===S?{}:S).ab,x=void 0===_?"":_,O=p.translation,E=void 0===O?"{}":O;return E="object"===(void 0===E?"undefined":n(E))?E:JSON.parse(E),y?(0,r.createElement)(i.default,{style:f.default.wrapper,dir:this.isDir()?"rtl":"ltr"},(0,r.createElement)(i.default,{style:f.default.maintitleWrap},(0,r.createElement)(a.default,{style:f.default.maintitle},E["module.pc.promotePruductList.title"]||"WINTET SALE SPECIALS")),(0,r.createElement)(i.default,{style:f.default.productsWrap,ref:function(t){return e.productBox=t}},m.map(function(n,o){var s=(o+1)%4==1?{st_page_id:window.dmtrack_pageid,exp_type:v+"_exposure",exp_attribute:"index="+(o/4+1)+";countryProduct="+n.countryProduct+";productId="+n.id+";ab="+x,exp_trigger:""}:{},c={clk_trigger:"",ae_object_value:"countryProduct="+n.countryProduct+";productId="+n.id+";ab="+x,ae_object_type:"product",ae_button_type:v+"_click",st_page_id:window.dmtrack_pageid},m="https://www.aliexpress.com/item/"+n.id+".html";return(0,r.createElement)(i.default,t({style:f.default.product},s),(0,r.createElement)(i.default,{style:f.default.pictureWrap},(0,r.createElement)(l.default,t({},c,{style:f.default.imageWrap,onClick:function(){e.goTargetUrl(m,o,"_blank",{countryProduct:n.countryProduct,productId:n.id,ab:x})},"data-href":m}),(0,r.createElement)(u.default,{source:{uri:n.image350Url},style:f.default.picture}))),(0,r.createElement)(i.default,t({},c,{style:f.default.titleLink,onClick:function(){e.goTargetUrl(m,o,"_blank",{countryProduct:n.countryProduct,productId:n.id,ab:x})},"data-href":m,onMouseOver:e.styleUnderLine,onMouseOut:e.styleUnderLineNo,title:""+n.subject}),(0,r.createElement)(a.default,{style:f.default.title,numberOfLines:2},n.subject)),(0,r.createElement)(i.default,{style:f.default.promoprice},(0,r.createElement)(u.default,{source:{uri:e.getSaleImg(n.atmosphere)||"//ae01.alicdn.com/kf/HTB130amXK6sK1RjSsrb760bDXXaM.png"},style:f.default.propicture}),(0,r.createElement)(a.default,{style:e.getDirCss("price"),numberOfLines:1},"true"===p.isBigSalePreview||!0===p.isBigSalePreview?n.formatedPreviewPromotionPiecePriceStr:n.formatedPromotionPiecePriceStr)),(0,r.createElement)(i.default,{style:f.default.originContainer},(0,r.createElement)(i.default,{style:f.default.oldPriceWrap},(0,r.createElement)(a.default,{style:e.getDirCss("oldPrice"),numberOfLines:1},n.formatedPiecePriceStr),n.promotionDiscount&&n.promotionDiscount>0?(0,r.createElement)(i.default,{style:f.default.discountInfo},(0,r.createElement)(a.default,{style:f.default.discountNum,numberOfLines:1},e.getDiscount(n.promotionDiscount))):null),(0,r.createElement)(a.default,{style:f.default.orders},n.orders>0?(0,d.__)(E["module.smartLeaderboard.sold"],"${0} Sold",n.orders):null)))})),b?(0,r.createElement)(c.default,null):null,(0,r.createElement)(i.default,{ref:function(t){return e.productNull=t},style:{width:"100%"}})):!g||"true"!==h&&!0!==h?null:(0,r.createElement)(i.default,{style:f.default.defaultPic},(0,r.createElement)(u.default,{style:t({},f.default.defaultImage,{width:s.defaultImageWidth||"100%",height:s.defaultImageHeight||"auto"}),source:{uri:s.defaultImage},lazyload:!1}))}}]),p}();exports.default=y,module.exports=exports.default}])});