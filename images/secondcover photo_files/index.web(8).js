// {"framework" : "Rax"}
!function(e){if("function"==typeof define)define("aemod/ae-pc-smartJustForYou/index.web",["rat-frame","rat-view","rat-text","rat-picture","rat-link"],function(require,exports,module){module.exports=e(require("rat-frame"),require("rat-view"),require("rat-text"),require("rat-picture"),require("rat-link"))});else if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e(require("rat-frame"),require("rat-view"),require("rat-text"),require("rat-picture"),require("rat-link"));else{var t;(t="undefined"!=typeof window?window:"undefined"!=typeof self?self:"undefined"!=typeof global?global:this).AePcSmartJustForYou=e(t["rat-frame"],t["rat-view"],t["rat-text"],t["rat-picture"],t["rat-link"])}}(function(e,t,r,o,i){return function(e){var t={};function r(o){if(t[o])return t[o].exports;var module=t[o]={i:o,l:!1,exports:{}};return e[o].call(module.exports,module,module.exports,r),module.l=!0,module.exports}return r.m=e,r.c=t,r.d=function(exports,e,t){r.o(exports,e)||Object.defineProperty(exports,e,{enumerable:!0,get:t})},r.r=function(exports){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(exports,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(r.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(o,i,function(t){return e[t]}.bind(null,i));return o},r.n=function(module){var e=module&&module.__esModule?function(){return module.default}:function(){return module};return r.d(e,"a",e),e},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/",r(r.s=10)}([function(module,exports){var e=[{reg:/www.aliexpress.com/,originDomain:"www.aliexpress.com",targetDomain:"www.aliexpress.ru"},{reg:/tmall.aliexpress.com/,originDomain:"tmall.aliexpress.com",targetDomain:"tmall.ru"},{reg:/login.tmall.com/,originDomain:"login.tmall.com",targetDomain:"login.tmall.ru"},{reg:/login.aliexpress.com/,originDomain:"login.aliexpress.com",targetDomain:"login.aliexpress.ru"},{reg:/accounts.tmall.com/,originDomain:"accounts.tmall.com",targetDomain:"accounts.tmall.ru"},{reg:/accounts.aliexpress.com/,originDomain:"accounts.aliexpress.com",targetDomain:"accounts.aliexpress.ru"},{reg:/passport.aliexpress.com/,originDomain:"passport.aliexpress.com",targetDomain:"passport.aliexpress.ru"},{reg:/msg.aliexpress.com/,originDomain:"msg.aliexpress.com",targetDomain:"msg.aliexpress.ru"},{reg:/message.aliexpress.com/,originDomain:"message.aliexpress.com",targetDomain:"message.aliexpress.ru"},{reg:/trade.aliexpress.com/,originDomain:"trade.aliexpress.com",targetDomain:"trade.aliexpress.ru"},{reg:/home.aliexpress.com/,originDomain:"home.aliexpress.com",targetDomain:"home.aliexpress.ru"},{reg:/feedback.aliexpress.com/,originDomain:"feedback.aliexpress.com",targetDomain:"feedback.aliexpress.ru"},{reg:/coupon.aliexpress.com/,originDomain:"coupon.aliexpress.com",targetDomain:"coupon.aliexpress.ru"},{reg:/report.aliexpress.com/,originDomain:"report.aliexpress.com",targetDomain:"report.aliexpress.ru"},{reg:/ilogisticsaddress.aliexpress.com/,originDomain:"ilogisticsaddress.aliexpress.com",targetDomain:"ilogisticsaddress.aliexpress.ru"},{reg:/my.aliexpress.com/,originDomain:"my.aliexpress.com",targetDomain:"my.aliexpress.ru"},{reg:/best.aliexpress.com/,originDomain:"best.aliexpress.com",targetDomain:"best.aliexpress.ru"},{reg:/mbest.aliexpress.com/,originDomain:"mbest.aliexpress.com",targetDomain:"mbest.aliexpress.ru"},{reg:/s.click.aliexpress.com/,originDomain:"s.click.aliexpress.com",targetDomain:"s.click.aliexpress.ru"},{reg:/sale.aliexpress.com/,originDomain:"sale.aliexpress.com",targetDomain:"sale.aliexpress.ru"},{reg:/ilogisticsaddress.tmall.com/,originDomain:"ilogisticsaddress.tmall.com",targetDomain:"ilogisticsaddress.tmall.ru"},{reg:/freight.aliexpress.com/,originDomain:"freight.aliexpress.com",targetDomain:"freight.aliexpress.ru"},{reg:/m.aliexpress.com/,originDomain:"m.aliexpress.com",targetDomain:"m.aliexpress.ru"},{reg:/shoppingcart.aliexpress.com/,originDomain:"shoppingcart.aliexpress.com",targetDomain:"shoppingcart.aliexpress.ru"}],t=[{reg:/gpsfront.aliexpress.com/,originDomain:"aliexpress.com",targetDomain:"aliexpress.ru"},{reg:/cdp.aliexpress.com/,originDomain:"aliexpress.com",targetDomain:"aliexpress.ru"},{reg:/sale.aliexpress.com/,originDomain:"aliexpress.com",targetDomain:"aliexpress.ru"},{reg:/ilogisticsaddress.aliexpress.com/,originDomain:"aliexpress.com",targetDomain:"aliexpress.ru"},{reg:/freight.aliexpress.com/,originDomain:"aliexpress.com",targetDomain:"aliexpress.ru"},{reg:/feedback.aliexpress.com/,originDomain:"aliexpress.com",targetDomain:"aliexpress.ru"},{reg:/ru.aliexpress.com/,originDomain:"ru.aliexpress.com",targetDomain:"aliexpress.ru"},{reg:/my.aliexpress.com\/wishlist/,originDomain:"aliexpress.com",targetDomain:"aliexpress.ru"},{reg:/promotion.aliexpress.com/,originDomain:"aliexpress.com",targetDomain:"aliexpress.ru"},{reg:/connectkeyword.aliexpress.com/,originDomain:"aliexpress.com",targetDomain:"aliexpress.ru"},{reg:/best.aliexpress.com/,originDomain:"aliexpress.com",targetDomain:"aliexpress.ru"}];function r(){return!!/aliexpress.ru/.test(window.location.host)}function o(t,o){for(var i,n=t,a=!1,s=o||e,l=0;l<s.length;l++)if(s[l].reg.test(t)){a=!0,i=s[l];break}return r()&&a&&(n=function(e,t,r){if("string"!=typeof e)return e;if(-1!==e.split("?")[0].indexOf("aliexpress.ru"))return e;if(-1!==e.split("?")[0].indexOf("pg-ru.aliexpress.com"))return e;var o=new RegExp("(.*?)(".concat(t,")(.*\\?)?(.*)"));return e.replace(o,function(e,o,i,n,a){return o+(r||t)+(n||"")+a})}(t,i.originDomain,i.targetDomain)),n}module.exports={switchRequestURL:function(e){return o(e,t)},switchLinkURL:function(e){return o(e)},switchUrl:o,isRU:r}},function(module,exports){module.exports=e},function(module,exports){module.exports=t},function(module,exports){module.exports=r},function(module,exports){module.exports=o},function(module,exports){module.exports=i},function(module,exports,e){var t=e(0);function r(e){var t=decodeURI(window.location.href),r=new RegExp("("+e+"=)(.*?)([;&]|$)");return t.match(r)?t.match(r)[2]:""}window.lib&&window.lib.mtop||e(7),module.exports=function(){if(window.lib&&window.lib.mtop){var e={},o="acs",i=r("_mtopPrev_");"_true_"===i?o="pre-acs":i&&/(.*-)?pre-acs$/.test(i)&&(o=i);var n=t.isRU(),a=r("_projectTag_"),s=r("_dpath_");return e.request=function(e,t,r){return window.lib.mtop.config.prefix=o,window.lib.mtop.config.subDomain="",window.lib.mtop.config.H5Request=!0,window.lib.mtop.config.mainDomain=n?"aliexpress.ru":"aliexpress.com",e&&!e.appKey&&(e.appKey=24815441),a&&(e.tb_eagleeyex_scm_project=a),s&&(e.tb_eagleeyex_dpath_env=s),lib.mtop.request(e,t,r)},window.lib.Mtop=e,e}console.error("window.lib.mtop undefined!")}()},function(module,exports){var e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};"undefined"==typeof window&&(window={ctrl:{},lib:{}}),window.ctrl||(window.ctrl={}),window.lib||(window.lib={}),function(t,r){function o(){var e={},t=new d(function(t,r){e.resolve=t,e.reject=r});return e.promise=t,e}function i(e,t){for(var r in t)void 0===e[r]&&(e[r]=t[r]);return e}function n(e){var t=[];for(var r in e)e[r]&&t.push(r+"="+encodeURIComponent(e[r]));return t.join("&")}function a(e){return"[object Object]"=={}.toString.call(e)}function s(e){var t=new RegExp("(?:^|;\\s*)"+e+"\\=([^;]+)(?:;\\s*|$)").exec(document.cookie);return t?t[1]:void 0}function l(e,t,r){var o=new Date;o.setTime(o.getTime()-864e5);document.cookie=e+"=;path=/;domain=."+t+";expires="+o.toGMTString(),document.cookie=e+"=;path=/;domain=."+r+"."+t+";expires="+o.toGMTString()}function p(e,t){function r(e){for(var t,r=(e=(e||0).toString()).split("."),o=["","0","00","000","0000"].reverse(),i=0;i<r.length;i++)t=r[i].length,r[i]=o[t]+r[i];return r.join("")}var o=r(e),i=r(t);return o==i?0:o>i?1:i>o?-1:void 0}function c(t){this.id=""+(new Date).getTime()+ ++v,this.params=i(t||{},{v:"*",data:{},type:"get",dataType:"jsonp"}),this.params.type=this.params.type.toLowerCase(),"object"==e(this.params.data)&&(this.params.data=JSON.stringify(this.params.data)),this.middlewares=g.slice(0)}var u=String.prototype,d=t.Promise,m=(d||{resolve:function(){}}).resolve();u.trim||(u.trim=function(){return this.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")});var f={useJsonpResultType:!1,safariGoLogin:!0,useAlipayJSBridge:!1},g=[],h={ERROR:-1,SUCCESS:0,TOKEN_EXPIRED:1,SESSION_EXPIRED:2};(function(){var e=t.location.hostname;if(!e){var r=t.parent.location.hostname;r&&~r.indexOf("zebra.alibaba-inc.com")&&(e=r)}var o=new RegExp("([^.]*?)\\.?((?:"+["taobao.net","taobao.com","tmall.com","tmall.hk","alibaba-inc.com"].join(")|(?:").replace(/\./g,"\\.")+"))","i"),i=e.match(o)||[],n=i[2]||"taobao.com",a=i[1]||"m";"taobao.net"!==n||"x"!==a&&"waptest"!==a&&"daily"!==a?"taobao.net"===n&&"demo"===a?a="demo":"alibaba-inc.com"===n&&"zebra"===a?a="zebra":"waptest"!=a&&"wapa"!=a&&"m"!=a&&(a="m"):a="waptest";var s="h5api";"taobao.net"===n&&"waptest"===a&&(s="acs"),f.mainDomain=n,f.subDomain=a,f.prefix=s})(),function(){var e=t.navigator.userAgent,r=e.match(/WindVane[\/\s]([\d\.\_]+)/);r&&(f.WindVaneVersion=r[1]);var o=e.match(/AliApp\(([^\/]+)\/([\d\.\_]+)\)/i);o&&(f.AliAppName=o[1],f.AliAppVersion=o[2]);var i=e.match(/AMapClient\/([\d\.\_]+)/i);i&&(f.AliAppName="AMAP",f.AliAppVersion=i[1])}();var x=/[Android|Adr]/.test(t.navigator.userAgent),y="AP"===f.AliAppName&&p(f.AliAppVersion,"10.1.2")>=0||"KB"===f.AliAppName&&p(f.AliAppVersion,"7.1.62")>=0||x&&"AMAP"===f.AliAppName&&p(f.AliAppVersion,"1.0.1")>=0,v=0;c.prototype.use=function(e){if(!e)throw new Error("middleware is undefined");return this.middlewares.push(e),this},c.prototype.__processRequestMethod=function(e){var t=this.params,r=this.options;"get"===t.type&&"jsonp"===t.dataType?r.getJSONP=!0:"get"===t.type&&"originaljsonp"===t.dataType?r.getOriginalJSONP=!0:"get"===t.type&&"json"===t.dataType?r.getJSON=!0:"post"===t.type&&(r.postJSON=!0),e()},c.prototype.__processRequestType=function(e){var o=this,i=this.params,n=this.options;if(!0===f.H5Request&&(n.H5Request=!0),!0===f.WindVaneRequest&&(n.WindVaneRequest=!0),!1===n.H5Request&&!0===n.WindVaneRequest){if(!y&&(!r.windvane||parseFloat(n.WindVaneVersion)<5.4))throw new Error("WINDVANE_NOT_FOUND::缺少WindVane环境");if(y&&!t.AlipayJSBridge)throw new Error("ALIPAY_NOT_READY::支付宝通道未准备好，支付宝请见 https://lark.alipay.com/mtbsdkdocs/mtopjssdkdocs/pucq6z")}else if(!0===n.H5Request)n.WindVaneRequest=!1;else if(void 0===n.WindVaneRequest&&void 0===n.H5Request&&(r.windvane&&parseFloat(n.WindVaneVersion)>=5.4?(n.WindVaneRequest=!0,window.self!==window.top&&(n.H5Request=!0)):n.H5Request=!0,y)){if(n.WindVaneRequest=n.H5Request=void 0,t.AlipayJSBridge)if(a(i.data))n.WindVaneRequest=!0;else try{a(JSON.parse(i.data))?n.WindVaneRequest=!0:n.H5Request=!0}catch(e){n.H5Request=!0}else n.H5Request=!0;"AMAP"!==f.AliAppName||i.useNebulaJSbridgeWithAMAP||(n.WindVaneRequest=n.H5Request=void 0,n.H5Request=!0)}var s=t.navigator.userAgent.toLowerCase();return s.indexOf("youku")>-1&&n.mainDomain.indexOf("youku.com")<0&&(n.WindVaneRequest=!1,n.H5Request=!0),n.mainDomain.indexOf("youku.com")>-1&&s.indexOf("youku")<0&&(n.WindVaneRequest=!1,n.H5Request=!0),e?e().then(function(){var e=n.retJson.ret;if(e instanceof Array&&(e=e.join(",")),!0===n.WindVaneRequest&&y&&n.retJson.error||!e||e.indexOf("PARAM_PARSE_ERROR")>-1||e.indexOf("HY_FAILED")>-1||e.indexOf("HY_NO_HANDLER")>-1||e.indexOf("HY_CLOSED")>-1||e.indexOf("HY_EXCEPTION")>-1||e.indexOf("HY_NO_PERMISSION")>-1){if(!y||!isNaN(n.retJson.error)||-1!==n.retJson.error.indexOf("FAIL_SYS_ACCESS_DENIED"))return y&&a(i.data)&&(i.data=JSON.stringify(i.data)),f.H5Request=!0,o.__sequence([o.__processRequestType,o.__processToken,o.__processRequestUrl,o.middlewares,o.__processRequest]);void 0===n.retJson.api&&void 0===n.retJson.v&&(n.retJson.api=i.api,n.retJson.v=i.v,n.retJson.ret=[n.retJson.error+"::"+n.retJson.errorMessage],n.retJson.data={})}}):void 0};var _="_m_h5_c",w="_m_h5_tk";c.prototype.__getTokenFromAlipay=function(){var e=o(),r=this.options,i=(t.navigator.userAgent,!!location.protocol.match(/^https?\:$/));return!0===r.useAlipayJSBridge&&!i&&y&&t.AlipayJSBridge&&t.AlipayJSBridge.call?t.AlipayJSBridge.call("getMtopToken",function(t){t&&t.token&&(r.token=t.token),e.resolve()},function(){e.resolve()}):e.resolve(),e.promise},c.prototype.__getTokenFromCookie=function(){var e=this.options;return e.token=e.CDR&&s(_)?s(_).split(";")[0]:e.token||s(w),e.token&&(e.token=e.token.split("_")[0]),d.resolve()},c.prototype.__waitWKWebViewCookie=function(e){var r=this.options;r.waitWKWebViewCookieFn&&r.H5Request&&t.webkit&&t.webkit.messageHandlers?r.waitWKWebViewCookieFn(e):e()},c.prototype.__processToken=function(e){var t=this,r=this.options;return this.params,r.token&&delete r.token,!0===r.WindVaneRequest?void e():m.then(function(){return t.__getTokenFromAlipay()}).then(function(){return t.__getTokenFromCookie()}).then(e).then(function(){var e=r.retJson,o=e.ret;if(o instanceof Array&&(o=o.join(",")),o.indexOf("TOKEN_EMPTY")>-1||(!0===r.CDR||!0===r.syncCookieMode)&&o.indexOf("ILLEGAL_ACCESS")>-1||o.indexOf("TOKEN_EXOIRED")>-1){if(r.maxRetryTimes=r.maxRetryTimes||5,r.failTimes=r.failTimes||0,r.H5Request&&++r.failTimes<r.maxRetryTimes){var i=[t.__waitWKWebViewCookie,t.__processToken,t.__processRequestUrl,t.middlewares,t.__processRequest];if(!0===r.syncCookieMode&&t.constructor.__cookieProcessorId!==t.id)if(t.constructor.__cookieProcessor){i=[function(e){var r=function(){t.constructor.__cookieProcessor=null,t.constructor.__cookieProcessorId=null,e()};t.constructor.__cookieProcessor?t.constructor.__cookieProcessor.then(r).catch(r):e()},t.__waitWKWebViewCookie,t.__processToken,t.__processRequestUrl,t.middlewares,t.__processRequest]}else t.constructor.__cookieProcessor=t.__requestProcessor,t.constructor.__cookieProcessorId=t.id;return t.__sequence(i)}r.maxRetryTimes>0&&(l(_,r.pageDomain,"*"),l(w,r.mainDomain,r.subDomain),l("_m_h5_tk_enc",r.mainDomain,r.subDomain)),e.retType=h.TOKEN_EXPIRED}})},c.prototype.__processRequestUrl=function(e){var r=this.params,o=this.options;if(o.hostSetting&&o.hostSetting[t.location.hostname]){var i=o.hostSetting[t.location.hostname];i.prefix&&(o.prefix=i.prefix),i.subDomain&&(o.subDomain=i.subDomain),i.mainDomain&&(o.mainDomain=i.mainDomain)}if(!0===o.H5Request){var n="//"+(o.prefix?o.prefix+".":"")+(o.subDomain?o.subDomain+".":"")+o.mainDomain+"/h5/"+r.api.toLowerCase()+"/"+r.v.toLowerCase()+"/",a=r.appKey||("waptest"===o.subDomain?"4272":"12574478"),s=(new Date).getTime(),l=function(e){function t(e,t){return e<<t|e>>>32-t}function r(e,t){var r,o,i,n,a;return i=2147483648&e,n=2147483648&t,a=(1073741823&e)+(1073741823&t),(r=1073741824&e)&(o=1073741824&t)?2147483648^a^i^n:r|o?1073741824&a?3221225472^a^i^n:1073741824^a^i^n:a^i^n}function o(e,o,i,n,a,s,l){return r(t(e=r(e,r(r(function(e,t,r){return e&t|~e&r}(o,i,n),a),l)),s),o)}function i(e,o,i,n,a,s,l){return r(t(e=r(e,r(r(function(e,t,r){return e&r|t&~r}(o,i,n),a),l)),s),o)}function n(e,o,i,n,a,s,l){return r(t(e=r(e,r(r(function(e,t,r){return e^t^r}(o,i,n),a),l)),s),o)}function a(e,o,i,n,a,s,l){return r(t(e=r(e,r(r(function(e,t,r){return t^(e|~r)}(o,i,n),a),l)),s),o)}function s(e){var t,r="",o="";for(t=0;3>=t;t++)r+=(o="0"+(e>>>8*t&255).toString(16)).substr(o.length-2,2);return r}var l,p,c,u,d,m,f,g,h,x;for(x=function(e){for(var t=e.length,r=t+8,o=16*((r-r%64)/64+1),i=Array(o-1),n=0,a=0;t>a;)n=a%4*8,i[(a-a%4)/4]|=e.charCodeAt(a)<<n,a++;return n=a%4*8,i[(a-a%4)/4]|=128<<n,i[o-2]=t<<3,i[o-1]=t>>>29,i}(e=function(e){var t=String.fromCharCode;e=e.replace(/\r\n/g,"\n");for(var r,o="",i=0;i<e.length;i++)128>(r=e.charCodeAt(i))?o+=t(r):r>127&&2048>r?(o+=t(r>>6|192),o+=t(63&r|128)):(o+=t(r>>12|224),o+=t(r>>6&63|128),o+=t(63&r|128));return o}(e)),m=1732584193,f=4023233417,g=2562383102,h=271733878,l=0;l<x.length;l+=16)p=m,c=f,u=g,d=h,f=a(f=a(f=a(f=a(f=n(f=n(f=n(f=n(f=i(f=i(f=i(f=i(f=o(f=o(f=o(f=o(f,g=o(g,h=o(h,m=o(m,f,g,h,x[l+0],7,3614090360),f,g,x[l+1],12,3905402710),m,f,x[l+2],17,606105819),h,m,x[l+3],22,3250441966),g=o(g,h=o(h,m=o(m,f,g,h,x[l+4],7,4118548399),f,g,x[l+5],12,1200080426),m,f,x[l+6],17,2821735955),h,m,x[l+7],22,4249261313),g=o(g,h=o(h,m=o(m,f,g,h,x[l+8],7,1770035416),f,g,x[l+9],12,2336552879),m,f,x[l+10],17,4294925233),h,m,x[l+11],22,2304563134),g=o(g,h=o(h,m=o(m,f,g,h,x[l+12],7,1804603682),f,g,x[l+13],12,4254626195),m,f,x[l+14],17,2792965006),h,m,x[l+15],22,1236535329),g=i(g,h=i(h,m=i(m,f,g,h,x[l+1],5,4129170786),f,g,x[l+6],9,3225465664),m,f,x[l+11],14,643717713),h,m,x[l+0],20,3921069994),g=i(g,h=i(h,m=i(m,f,g,h,x[l+5],5,3593408605),f,g,x[l+10],9,38016083),m,f,x[l+15],14,3634488961),h,m,x[l+4],20,3889429448),g=i(g,h=i(h,m=i(m,f,g,h,x[l+9],5,568446438),f,g,x[l+14],9,3275163606),m,f,x[l+3],14,4107603335),h,m,x[l+8],20,1163531501),g=i(g,h=i(h,m=i(m,f,g,h,x[l+13],5,2850285829),f,g,x[l+2],9,4243563512),m,f,x[l+7],14,1735328473),h,m,x[l+12],20,2368359562),g=n(g,h=n(h,m=n(m,f,g,h,x[l+5],4,4294588738),f,g,x[l+8],11,2272392833),m,f,x[l+11],16,1839030562),h,m,x[l+14],23,4259657740),g=n(g,h=n(h,m=n(m,f,g,h,x[l+1],4,2763975236),f,g,x[l+4],11,1272893353),m,f,x[l+7],16,4139469664),h,m,x[l+10],23,3200236656),g=n(g,h=n(h,m=n(m,f,g,h,x[l+13],4,681279174),f,g,x[l+0],11,3936430074),m,f,x[l+3],16,3572445317),h,m,x[l+6],23,76029189),g=n(g,h=n(h,m=n(m,f,g,h,x[l+9],4,3654602809),f,g,x[l+12],11,3873151461),m,f,x[l+15],16,530742520),h,m,x[l+2],23,3299628645),g=a(g,h=a(h,m=a(m,f,g,h,x[l+0],6,4096336452),f,g,x[l+7],10,1126891415),m,f,x[l+14],15,2878612391),h,m,x[l+5],21,4237533241),g=a(g,h=a(h,m=a(m,f,g,h,x[l+12],6,1700485571),f,g,x[l+3],10,2399980690),m,f,x[l+10],15,4293915773),h,m,x[l+1],21,2240044497),g=a(g,h=a(h,m=a(m,f,g,h,x[l+8],6,1873313359),f,g,x[l+15],10,4264355552),m,f,x[l+6],15,2734768916),h,m,x[l+13],21,1309151649),g=a(g,h=a(h,m=a(m,f,g,h,x[l+4],6,4149444226),f,g,x[l+11],10,3174756917),m,f,x[l+2],15,718787259),h,m,x[l+9],21,3951481745),m=r(m,p),f=r(f,c),g=r(g,u),h=r(h,d);return(s(m)+s(f)+s(g)+s(h)).toLowerCase()}(o.token+"&"+s+"&"+a+"&"+r.data),p={jsv:"2.5.1",appKey:a,t:s,sign:l},c={data:r.data,ua:r.ua};Object.keys(r).forEach(function(e){void 0===p[e]&&void 0===c[e]&&"headers"!==e&&"ext_headers"!==e&&"ext_querys"!==e&&(p[e]=r[e])}),r.ext_querys&&Object.keys(r.ext_querys).forEach(function(e){p[e]=r.ext_querys[e]}),o.getJSONP?p.type="jsonp":o.getOriginalJSONP?p.type="originaljsonp":(o.getJSON||o.postJSON)&&(p.type="originaljson"),void 0!==r.valueType&&("original"===r.valueType?o.getJSONP||o.getOriginalJSONP?p.type="originaljsonp":(o.getJSON||o.postJSON)&&(p.type="originaljson"):"string"===r.valueType&&(o.getJSONP||o.getOriginalJSONP?p.type="jsonp":(o.getJSON||o.postJSON)&&(p.type="json"))),!0===o.useJsonpResultType&&"originaljson"===p.type&&delete p.type,o.dangerouslySetProtocol&&(n=o.dangerouslySetProtocol+":"+n),o.querystring=p,o.postdata=c,o.path=n}e()},c.prototype.__processUnitPrefix=function(e){e()};var b=0;c.prototype.__requestJSONP=function(e){function t(e){if(p&&clearTimeout(p),c.parentNode&&c.parentNode.removeChild(c),"TIMEOUT"===e)window[l]=function(){window[l]=void 0;try{delete window[l]}catch(e){}};else{window[l]=void 0;try{delete window[l]}catch(e){}}}var r=o(),i=this.params,a=this.options,s=i.timeout||2e4,l="mtopjsonp"+(i.jsonpIncPrefix||"")+ ++b,p=setTimeout(function(){e(a.timeoutErrMsg||"TIMEOUT::接口超时"),t("TIMEOUT")},s);a.querystring.callback=l;var c=document.createElement("script");return c.src=a.path+"?"+n(a.querystring)+"&"+n(a.postdata),c.async=!0,c.onerror=function(){t("ABORT"),e(a.abortErrMsg||"ABORT::接口异常退出")},window[l]=function(){a.results=Array.prototype.slice.call(arguments),t(),r.resolve()},function(e){(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]||document.firstElementChild||document).appendChild(e)}(c),r.promise},c.prototype.__requestJSON=function(e){function r(e){u&&clearTimeout(u),"TIMEOUT"===e&&p.abort()}var i=o(),a=this.params,l=this.options,p=new t.XMLHttpRequest,c=a.timeout||2e4,u=setTimeout(function(){e(l.timeoutErrMsg||"TIMEOUT::接口超时"),r("TIMEOUT")},c);l.CDR&&s(_)&&(l.querystring.c=decodeURIComponent(s(_))),p.onreadystatechange=function(){if(4==p.readyState){var t,o,n=p.status;if(n>=200&&300>n||304==n){r(),t=p.responseText,o=p.getAllResponseHeaders()||"";try{(t=/^\s*$/.test(t)?{}:JSON.parse(t)).responseHeaders=o,l.results=[t],i.resolve()}catch(t){e("PARSE_JSON_ERROR::解析JSON失败")}}else r("ABORT"),e(l.abortErrMsg||"ABORT::接口异常退出")}};var d,m,f=l.path+"?"+n(l.querystring);l.getJSON?(d="GET",f+="&"+n(l.postdata)):l.postJSON&&(d="POST",m=n(l.postdata)),p.open(d,f,!0),p.withCredentials=!0,p.setRequestHeader("Accept","application/json"),p.setRequestHeader("Content-type","application/x-www-form-urlencoded");var g=a.ext_headers||a.headers;if(g)for(var h in g)p.setRequestHeader(h,g[h]);return p.send(m),i.promise},c.prototype.__requestWindVane=function(){function e(e){n.results=[e],t.resolve()}var t=o(),i=this.params,n=this.options,a=i.data,s=i.api,l=i.v,p=n.postJSON?1:0,c=n.getJSON||n.postJSON||n.getOriginalJSONP?"originaljson":"";void 0!==i.valueType&&("original"===i.valueType?c="originaljson":"string"===i.valueType&&(c="")),!0===n.useJsonpResultType&&(c="");var u,d,m="https"===location.protocol?1:0,f=i.isSec||0,g=i.sessionOption||"AutoLoginOnly",h=i.ecode||0,x=i.ext_headers||{},y=i.ext_querys||{};u=2*(d=void 0===i.timer?void 0===i.timeout?2e4:parseInt(i.timeout):parseInt(i.timer)),!0===i.needLogin&&void 0===i.sessionOption&&(g="AutoLoginAndManualLogin"),void 0!==i.secType&&void 0===i.isSec&&(f=i.secType);var v={api:s,v:l,post:p+"",type:c,isHttps:m+"",ecode:h+"",isSec:f+"",param:JSON.parse(a),timer:d,sessionOption:g,ext_headers:x,ext_querys:y};return i.ttid&&!0===n.dangerouslySetWVTtid&&(v.ttid=i.ttid),Object.assign&&i.dangerouslySetWindvaneParams&&Object.assign(v,i.dangerouslySetWindvaneParams),r.windvane.call("MtopWVPlugin","send",v,e,e,u),t.promise},c.prototype.__requestAlipay=function(){var e=o(),r=this.params,i=this.options,n={apiName:r.api,apiVersion:r.v,needEcodeSign:"1"==r.ecode+"",usePost:!!i.postJSON};return a(r.data)||(r.data=JSON.parse(r.data)),n.data=r.data,r.ttid&&!0===i.dangerouslySetWVTtid&&(n.ttid=r.ttid),(i.getJSON||i.postJSON||i.getOriginalJSONP)&&(n.type="originaljson"),void 0!==r.valueType&&("original"===r.valueType?n.type="originaljson":"string"===r.valueType&&delete n.type),!0===i.useJsonpResultType&&delete n.type,Object.assign&&r.dangerouslySetAlipayParams&&Object.assign(n,r.dangerouslySetAlipayParams),t.AlipayJSBridge.call("mtop",n,function(t){i.results=[t],e.resolve()}),e.promise},c.prototype.__processRequest=function(e,t){var r=this;return m.then(function(){var e=r.options;if(e.H5Request&&(e.getJSONP||e.getOriginalJSONP))return r.__requestJSONP(t);if(e.H5Request&&(e.getJSON||e.postJSON))return r.__requestJSON(t);if(e.WindVaneRequest)return y?r.__requestAlipay(t):r.__requestWindVane(t);throw new Error("UNEXCEPT_REQUEST::错误的请求类型")}).then(e).then(function(){var e=r.options,t=(r.params,e.results[0]),o=t&&t.ret||[];t.ret=o,o instanceof Array&&(o=o.join(","));var i=t.c;e.CDR&&i&&function(e,t,r){var o=r||{};document.cookie=e.replace(/[^+#$&^`|]/g,encodeURIComponent).replace("(","%28").replace(")","%29")+"="+t.replace(/[^+#$&\/:<-\[\]-}]/g,encodeURIComponent)+(o.domain?";domain="+o.domain:"")+(o.path?";path="+o.path:"")+(o.secure?";secure":"")+(o.httponly?";HttpOnly":"")}(_,i,{domain:e.pageDomain,path:"/"}),t.retType=o.indexOf("SUCCESS")>-1?h.SUCCESS:h.ERROR,e.retJson=t})},c.prototype.__sequence=function(e){var t=this,r=[],i=[];e.forEach(function e(n){if(n instanceof Array)n.forEach(e);else{var a,s=o(),l=o();r.push(function(){return s=o(),(a=n.call(t,function(e){return s.resolve(e),l.promise},function(e){return s.reject(e),l.promise}))&&(a=a.catch(function(e){s.reject(e)})),s.promise}),i.push(function(e){return l.resolve(e),a})}});for(var n,a=m;n=r.shift();)a=a.then(n);for(;n=i.pop();)a=a.then(n);return a};var S=function(e){e()},E=function(e){e()};c.prototype.request=function(e){var o=this;if(this.options=i(e||{},f),!d){var n="当前浏览器不支持Promise，请在windows对象上挂载Promise对象";throw r.mtop={ERROR:n},new Error(n)}var a=d.resolve([S,E]).then(function(e){var t=e[0],r=e[1];return o.__sequence([t,o.__processRequestMethod,o.__processRequestType,o.__processToken,o.__processRequestUrl,o.middlewares,o.__processRequest,r])}).then(function(){var e=o.options.retJson;return e.retType===h.SUCCESS?o.options.successCallback?void o.options.successCallback(e):d.resolve(e):d.reject(e)}).catch(function(e){var t;return e instanceof Error?(console.error(e.stack),t={ret:[e.message],stack:[e.stack],retJson:h.ERROR}):t="string"==typeof e?{ret:[e],retJson:h.ERROR}:void 0===e?o.options.retJson:e,r.mtop.errorListener&&r.mtop.errorListener({api:o.params.api,v:o.params.v,retJson:t}),o.options.failureCallback?void o.options.failureCallback(t):d.reject(t)});return this.__processRequestType(),o.options.H5Request&&(o.constructor.__firstProcessor||(o.constructor.__firstProcessor=a),S=function(e){o.constructor.__firstProcessor.then(e).catch(e)}),("get"===this.params.type&&"json"===this.params.dataType||"post"===this.params.type)&&(e.pageDomain=e.pageDomain||function(e){try{return".com"===e.substring(e.lastIndexOf("."))?e.substring(e.lastIndexOf(".",e.lastIndexOf(".")-1)+1):(e.split(".")||[]).length<=3?e:e.split(".").slice(1).join(".")}catch(t){return e.substring(e.lastIndexOf(".",e.lastIndexOf(".")-1)+1)}}(t.location.hostname),e.mainDomain!==e.pageDomain&&(e.maxRetryTimes=4,e.CDR=!0)),this.__requestProcessor=a,a},r.mtop=function(e){return new c(e)},r.mtop.request=function(e,t,r){var o={H5Request:e.H5Request,WindVaneRequest:e.WindVaneRequest,LoginRequest:e.LoginRequest,AntiCreep:e.AntiCreep,AntiFlood:e.AntiFlood,successCallback:t,failureCallback:r||t};return new c(e).request(o)},r.mtop.H5Request=function(e,t,r){return new c(e).request({H5Request:!0,successCallback:t,failureCallback:r||t})},r.mtop.middlewares=g,r.mtop.config=f,r.mtop.RESPONSE_TYPE=h,r.mtop.CLASS=c}(window,window.lib||(window.lib={})),function(e,t){function r(e){return e.preventDefault(),!1}function o(t,o){var i=Math.max,n=this,a=e.dpr||1,s=document.createElement("div"),l=document.documentElement.getBoundingClientRect(),p=i(l.width,window.innerWidth)/a,c=i(l.height,window.innerHeight)/a;s.style.cssText=["-webkit-transform:scale("+a+") translateZ(0)","-ms-transform:scale("+a+") translateZ(0)","transform:scale("+a+") translateZ(0)","-webkit-transform-origin:0 0","-ms-transform-origin:0 0","transform-origin:0 0","width:"+p+"px","height:"+c+"px","z-index:999999","position:"+(p>800?"fixed":"absolute"),"left:0","top:0px","background:"+(p>800?"rgba(0,0,0,.5)":"#FFF"),"display:none"].join(";");var u=document.createElement("div");u.style.cssText=["width:100%","height:52px","background:#EEE","line-height:52px","text-align:left","box-sizing:border-box","padding-left:20px","position:absolute","left:0","top:0","font-size:16px","font-weight:bold","color:#333"].join(";"),u.innerText=t;var d=document.createElement("a");d.style.cssText=["display:block","position:absolute","right:0","top:0","height:52px","line-height:52px","padding:0 20px","color:#999"].join(";"),d.innerText="关闭";var m=document.createElement("iframe");m.style.cssText=["width:100%","height:100%","border:0","overflow:hidden"].join(";"),p>800&&(u.style.cssText=["width:370px","height:52px","background:#EEE","line-height:52px","text-align:left","box-sizing:border-box","padding-left:20px","position:absolute","left:"+(p/2-185)+"px","top:40px","font-size:16px","font-weight:bold","color:#333"].join(";"),m.style.cssText=["position:absolute","top:92px","left:"+(p/2-185)+"px","width:370px","height:480px","border:0","background:#FFF","overflow:hidden"].join(";")),u.appendChild(d),s.appendChild(u),s.appendChild(m),s.className="J_MIDDLEWARE_FRAME_WIDGET",document.body.appendChild(s),m.src=o,d.addEventListener("click",function(){n.hide();var e=document.createEvent("HTMLEvents");e.initEvent("close",!1,!1),s.dispatchEvent(e)},!1),this.addEventListener=function(){s.addEventListener.apply(s,arguments)},this.removeEventListener=function(){s.removeEventListener.apply(s,arguments)},this.show=function(){document.addEventListener("touchmove",r,!1),s.style.display="block",window.scrollTo(0,0)},this.hide=function(){document.removeEventListener("touchmove",r),window.scrollTo(0,-l.top),s.parentNode&&s.parentNode.removeChild(s)}}if(!t||!t.mtop||t.mtop.ERROR)throw new Error("Mtop 初始化失败！");var i=e.Promise,n=t.mtop.CLASS,a=t.mtop.config,s=t.mtop.RESPONSE_TYPE;t.mtop.middlewares.push(function(e){var r=this,o=this.options,i=this.params;return e().then(function(){var e=o.retJson,n=e.ret,l=navigator.userAgent.toLowerCase(),p=l.indexOf("safari")>-1&&l.indexOf("chrome")<0&&l.indexOf("qqbrowser")<0;if(n instanceof Array&&(n=n.join(",")),(n.indexOf("SESSION_EXPIRED")>-1||n.indexOf("SID_INVALID")>-1||n.indexOf("AUTH_REJECT")>-1||n.indexOf("NEED_LOGIN")>-1)&&(e.retType=s.SESSION_EXPIRED,!o.WindVaneRequest&&(!0===a.LoginRequest||!0===o.LoginRequest||!0===i.needLogin))){if(!t.login)throw new Error("LOGIN_NOT_FOUND::缺少lib.login");if(!0!==o.safariGoLogin||!p||"taobao.com"===o.pageDomain)return t.login.goLoginAsync().then(function(){return r.__sequence([r.__processToken,r.__processRequestUrl,r.__processUnitPrefix,r.middlewares,r.__processRequest])}).catch(function(e){throw"CANCEL"===e?new Error("LOGIN_CANCEL::用户取消登录"):new Error("LOGIN_FAILURE::用户登录失败")});t.login.goLogin()}})}),t.mtop.loginRequest=function(e,t,r){return new n(e).request({LoginRequest:!0,H5Request:!0,successCallback:t,failureCallback:r||t})},t.mtop.antiFloodRequest=function(e,t,r){return new n(e).request({AntiFlood:!0,successCallback:t,failureCallback:r||t})},t.mtop.middlewares.push(function(e){var t=this.options;return this.params,!0!==t.H5Request||!0!==a.AntiFlood&&!0!==t.AntiFlood?void e():e().then(function(){var e=t.retJson,r=e.ret;r instanceof Array&&(r=r.join(",")),r.indexOf("FAIL_SYS_USER_VALIDATE")>-1&&e.data.url&&(t.AntiFloodReferer?location.href=e.data.url.replace(/(http_referer=).+/,"$1"+t.AntiFloodReferer):location.href=e.data.url)})}),t.mtop.antiCreepRequest=function(e,t,r){return new n(e).request({AntiCreep:!0,successCallback:t,failureCallback:r||t})},t.mtop.middlewares.push(function(t){var r=this,n=this.options,s=this.params;return!1!==n.AntiCreep&&(n.AntiCreep=!0),!0!==s.forceAntiCreep&&!0!==n.H5Request||!0!==a.AntiCreep&&!0!==n.AntiCreep?void t():t().then(function(){var t=n.retJson,a=t.ret;if(a instanceof Array&&(a=a.join(",")),(a.indexOf("RGV587_ERROR::SM")>-1||a.indexOf("ASSIST_FLAG")>-1)&&t.data.url){var l="_m_h5_smt",p=function(e){var t=new RegExp("(?:^|;\\s*)"+e+"\\=([^;]+)(?:;\\s*|$)").exec(document.cookie);return t?t[1]:void 0}(l),c=!1;if(!0===n.saveAntiCreepToken&&p)for(var u in p=JSON.parse(p))s[u]&&(c=!0);if(!0===n.saveAntiCreepToken&&p&&!c){for(var u in p)s[u]=p[u];return r.__sequence([r.__processToken,r.__processRequestUrl,r.__processUnitPrefix,r.middlewares,r.__processRequest])}return new i(function(i,a){function p(){u.removeEventListener("close",p),e.removeEventListener("message",c),a("USER_INPUT_CANCEL::用户取消输入")}function c(t){var o;try{o=JSON.parse(t.data)||{}}catch(e){}if(o&&"child"===o.type){var d;u.removeEventListener("close",p),e.removeEventListener("message",c),u.hide();try{for(var m in"string"==typeof(d=JSON.parse(decodeURIComponent(o.content)))&&(d=JSON.parse(d)),d)s[m]=d[m];!0===n.saveAntiCreepToken?(document.cookie=l+"="+JSON.stringify(d)+";",e.location.reload()):r.__sequence([r.__processToken,r.__processRequestUrl,r.__processUnitPrefix,r.middlewares,r.__processRequest]).then(i)}catch(e){a("USER_INPUT_FAILURE::用户输入失败")}}}var u=new o("",t.data.url);u.addEventListener("close",p,!1),e.addEventListener("message",c,!1),u.show()})}})})}(window,window.lib||(window.lib={})),module.exports=window.lib.mtop},function(module,exports){module.exports={wrapper:{width:"1200px",marginTop:0,marginRight:"auto",marginBottom:0,marginLeft:"auto",fontFamily:"Open Sans"},defaultImage:{width:1200},maintitleWrap:{textAlign:"center",color:"rgb(0,0,0)",marginTop:"24px",marginBottom:"24px"},maintitle:{fontSize:"32px",lineHeight:"40px",fontWeight:"700"},productsWrap:{display:"block",marginLeft:"-8px",marginRight:"-8px"},product:{width:"288px",height:"386px",marginLeft:"8px",marginRight:"8px",marginBottom:"16px",borderRadius:"4px",display:"inline-block",float:"left",position:"relative"},pictureWrap:{padding:"15px",backgroundColor:"rgb(255,255,255)",borderWidth:"1px",borderStyle:"solid",borderColor:"rgb(242,242,242)"},imageWrap:{display:"flex",flexDirection:"row",alignItems:"center",textAlign:"center",verticalAlign:"middle",justifyContent:"center",width:"256px",height:"256px"},picture:{display:"block",maxWidth:"256px",maxHeight:"256px",cursor:"pointer"},productInfo:{marginTop:"8px"},titleLink:{display:"inline-block",width:"100%"},title:{fontSize:"13px",lineHeight:"18px",width:"288px",height:"36px",color:"rgb(51,51,51)",overflow:"hidden",textOverflow:"ellipsis",cursor:"pointer",display:"block"},promoprice:{marginTop:"5px"},propicture:{width:"43px",height:"14px",marginTop:"2px",marginRight:"8px"},price:{fontWeight:"700",fontSize:"18px",lineHeight:"24px",fontStyle:"italic",overflow:"hidden",textOverflow:"ellipsis",color:"rgb(0,0,0)",paddingRight:"2px"},oldPriceWrap:{width:"100%"},oldPrice:{fontSize:"13px",lineHeight:"18px",color:"rgb(153,153,153)",textDecoration:"line-through",overflow:"hidden",textOverflow:"ellipsis",fontStyle:"italic",paddingRight:"2px"},discountInfo:{width:"50px",height:"18px",background:"#FF4747",borderRadius:"2px"},discountInfoPosition:{position:"absolute",right:0,bottom:0},"discountInfoPosition-dir":{position:"absolute",left:0,bottom:0},discountNum:{width:"100%",fontSize:"13px",lineHeight:"18px",color:"rgb(255,255,255)",textAlign:"center",overflow:"hidden",textOverflow:"ellipsis"},defaultPic:{width:"1200px",marginTop:0,marginRight:"auto",marginBottom:0,marginLeft:"auto"},textEurContainer2:{textAlign:"left"},minEurPrice2:{width:"227px",display:"block",height:"36px",lineHeight:"36px",color:"rgb(34,34,34)",fontFamily:"OpenSans-Bold",lines:1,overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"},intEurPrice:{display:"inline-block",fontSize:"20px",fontWeight:"700"},symbolEur:{fontSize:"18px",fontFamily:"Open Sans,Arial",fontWeight:"700"},decimalEurPrice:{display:"inline-block",fontSize:"14px",fontWeight:"700"},ordersEur2:{marginLeft:"8px",display:"inline-block",color:"rgb(153,153,153)",fontSize:"14px",textDecoration:"line-through",fontFamily:"Open Sans"},percentage:{display:"inline-block",color:"rgb(255,41,41)",fontSize:"14px",fontFamily:"Open Sans,Arial",marginLeft:"7px"},orderEurAndStar:{display:"block",height:"21.8px",lineHeight:"21.76px",overflow:"hidden"},orderEur:{overflow:"hidden",display:"inline-block",height:"21.8px",fontFamily:"Helvetica",fontSize:"14px",color:"rgb(102,102,102)",lineHeight:"21.76px"},averageStarItem:{position:"relative",display:"inline-block",overflow:"hidden"},averageStar:{position:"relative",top:"2px",display:"inline-block",height:"15px",width:"15px",marginLeft:"6px"},averageStarNum:{display:"inline-block",fontFamily:"Helvetica",height:"21.8px",fontSize:"14px",color:"rgb(153,153,153)",lineHeight:"21.76px"},productsWrapEur:{marginRight:"-15px",display:"flex",justifyContent:"start",flexWrap:"wrap",flexDirection:"row"},productEur:{width:"228px",marginRight:"15px",marginBottom:"16px",borderRadius:"4px",position:"relative"},imageWrapEur:{width:"227px",display:"flex",flexDirection:"row",alignItems:"center",textAlign:"center",verticalAlign:"middle",justifyContent:"center"},titleEur:{fontSize:"13px",lineHeight:"18px",width:"227x",height:"36px",color:"rgb(51,51,51)",overflow:"hidden",textOverflow:"ellipsis",cursor:"pointer"},discountInfoEur:{width:"43px",height:"16px",background:"#FF4747",borderRadius:"2px",position:"absolute",right:0,bottom:0},discountNumEur:{width:"100%",fontSize:"12px",lineHeight:"16px",color:"rgb(255,255,255)",textAlign:"center",overflow:"hidden",textOverflow:"ellipsis"},itemPicESWrapper:{height:"303px",width:"227px",background:"#ffffff",borderRadius:"4px",cursor:"pointer",display:"flex",justifyContent:"center"},productImageEur:{maxHeight:"303px",width:"227px",cursor:"pointer"}}},function(module,exports){Object.defineProperty(exports,"__esModule",{value:!0});exports.getCookie=function(e){if(document.cookie.length>0){var t=document.cookie.indexOf(e+"="),r=0;if(-1!==t)return t=t+e.length+1,-1===(r=document.cookie.indexOf(";",t))&&(r=document.cookie.length),unescape(document.cookie.substring(t,r))}return null}},function(module,exports,e){Object.defineProperty(exports,"__esModule",{value:!0});var t=Object.assign||function(e){for(var t,r=1;r<arguments.length;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=function(){function e(e,t){for(var r,o=0;o<t.length;o++)(r=t[o]).enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}return function(t,r,o){return r&&e(t.prototype,r),o&&e(t,o),t}}(),i=e(1),n=m(e(2)),a=m(e(3)),s=m(e(4)),l=m(e(5)),p=e(0),c=m(e(6)),u=m(e(8)),d=e(9);function m(e){return e&&e.__esModule?e:{default:e}}var f=["ar","he","Arabic","Hebrew"],g=function(e){function m(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,m);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(m.__proto__||Object.getPrototypeOf(m)).call(this,e));return t.getData=function(){var e=t.state.gdc,r=e.shopId,o=e.locale,i=void 0===o?"en_US":o,n=e.country,a=void 0===n?"US":n,s=e.currency,l=void 0===s?"USD":s,p=e.lang,u={scenario:"pcStoreJustForYou",locale:i,shipToCountry:a,lang:void 0===p?"en":p,currency:l,streamId:"",visitorId:(0,d.getCookie)("cna"),pageIndex:1,pageSize:20,recommendInfo:JSON.stringify({storeId:r}),platform:"pc"},m={appId:668,params:JSON.stringify(u)};c.default.request({api:"mtop.relationrecommend.AliexpressRecommend.recommend",v:"1.0",data:m}).then(function(e){var r=e.data&&e.data.result&&e.data.result[0]&&e.data.result[0].mods&&e.data.result[0].mods.listItems||[];if(r&&r.length){var o=t.getESFlag(),i=r;r.length>20&&(i=r.slice(0,20)),o&&t.getESPicList(r),t.setState({showDataStatus:!0,showNoDataStatus:!1,dataSource:i},function(){})}}).then(function(e){console.error("pcStoreJustForYou",JSON.stringify(e))})},t.getMockData=function(){var e=t.state,r=(e.gdc,e.mds),o=(e.postback,e.limit,e.dataSource,e.index,e.finished,r.moduleData.shopId),i="//gpsfront.aliexpress.com/getI2iRecommendingResults.do?scenario=pcStoreJustForYou&storeId="+(void 0===o?"":o)+"&offset=1&limit=25";i=(0,p.switchRequestURL)(i),fetch("data.json").then(function(e){return e.json()}).then(function(e){var r=e.data&&e.data.result&&e.data.result[0]&&e.data.result[0].mods&&e.data.result[0].mods.listItems||[];if(r&&r.length){var o=t.getESFlag(),i=r;r.length>20&&(i=r.slice(0,20)),o&&t.getESPicList(r),t.setState({showDataStatus:!0,showNoDataStatus:!1,dataSource:i},function(){})}}).catch(function(e){console.log("fetch error: ",e)})},t.getESPicList=function(e){var r="";e&&(r=e.map(function(e){return e.productId}).join(","));var o=t.state,i=o.gdc,n=o.mds,a=i.locale,s=void 0===a?"en_US":a,l=i.sellerId,p=void 0===l?"":l,u=(n.moduleData||{}).shopId,d={storeId:void 0===u?"":u,aliMemberId:p,page:1,pageSize:25,locale:s,currency:i.currency,femaleBattle:!0,productIds:r};c.default.request({api:"mtop.aliexpress.store.products.search",v:"1.0",data:d}).then(function(r){var o=r.data.ret||[];if(o&&o.length){var i=e.map(function(e){return o.map(function(t){e.productId+""==t.id+""&&t.skuImageUrl&&(e.skuImageUrl=t.skuImageUrl)}),e});t.setState({dataSource:i})}})},t.getESFlag=function(){var e=t.state.mds,r=e.moduleData,o=r.displayStyle&&"fresh"===r.displayStyle,i=e.moduleData.isShowDisplayFresh;return o&&i},t.goTargetUrl=function(e,r,o){var i=t.state,n=i.mds,a=(i.gdc,{url:e,nid:r||0,widgetId:n.widgetId,moduleName:n.moduleName,target:o||null});t.pageUtils.goTargetUrl&&t.pageUtils.goTargetUrl(a)},t.getDiscount=function(e){if(e>0)return"-"+e+"%"},t.styleUnderLine=function(e){e.target.style.textDecoration="underline",e.target.style.color="#000"},t.styleUnderLineNo=function(e){e.target.style.textDecoration="none",e.target.style.color="#000"},t.isDir=function(){var e=t.state.gdc,r=(void 0===e?{}:e).lang,o=void 0===r?"":r;return f.includes(o)},t.getDirPositionCss=function(e){var r=Object.assign({},u.default[e],u.default[e+"Position"]),o=Object.assign({},u.default[e],u.default[e+"Position-dir"]);return t.isDir()?o:r},t.renderPicture=function(e){var r=t.state.mds.moduleData,o=void 0===r?{}:r,a="fresh"===o.displayStyle,l=o.isShowDisplayFresh;return a&&l?(0,i.createElement)(n.default,{style:u.default.itemPicESWrapper},(0,i.createElement)(s.default,{source:{uri:e.skuImageUrl||e.image&&e.image.imgUrl},style:u.default.productImageEur})):(0,i.createElement)(s.default,{source:{uri:e.image&&e.image.imgUrl},style:u.default.picture})},t.pageUtils=e.pageUtils,t.fetch=e.pageUtils.fetch,t.state={showDataStatus:!1,showNoDataStatus:!0,mds:t.props.mds||{},gdc:t.props.gdc||{},dataSource:[]},t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(m,i.Component),o(m,[{key:"componentDidMount",value:function(){this.getData()}},{key:"render",value:function(){var e=this,o=this.state,p=o.mds,c=o.gdc,d=o.dataSource,m=o.showDataStatus,f=o.showNoDataStatus,g=c.preView,h=c.translation,x=void 0===h?"{}":h,y=p.moduleName,v=void 0===y?"":y,_=p.moduleData,w=void 0===_?{}:_;x="object"===(void 0===x?"undefined":r(x))?x:JSON.parse(x);var b=4,S="fresh"===w.displayStyle,E=w.isShowDisplayFresh;return S&&E&&(b=5),m?(0,i.createElement)(n.default,{style:u.default.wrapper,dir:this.isDir()?"rtl":"ltr"},(0,i.createElement)(n.default,{style:u.default.maintitleWrap},(0,i.createElement)(a.default,{style:u.default.maintitle},x["module.smartJustForYou.title"]||"JUST FOR YOU")),(0,i.createElement)(n.default,{style:4==b?u.default.productsWrap:u.default.productsWrapEur,ref:function(t){return e.productBox=t}},d.map(function(r,o){var s=o/b+1,p=(o+1)%b==1?{st_page_id:window.dmtrack_pageid,exp_type:"XRcmd-ItemExposure",exp_attribute:"index="+s,exp_trigger:"","spm-cnt":c.spm_cnt+"."+v,exposure:t({prod:r.productId,"spm-cnt":c.spm_cnt+"."+v},r.trace&&r.trace.utLogMap),utLogMap:encodeURIComponent(JSON.stringify(r.trace&&r.trace.utLogMap))}:{},d={clk_trigger:"",ae_object_value:"",ae_object_type:"product",ae_button_type:v+"_XRcmd-ItemClick",st_page_id:window.dmtrack_pageid,"spm-cnt":c.spm_cnt+"."+v,utLogMap:encodeURIComponent(JSON.stringify(r.trace&&r.trace.utLogMap))};return(0,i.createElement)(n.default,t({},p,{style:4==b?u.default.product:u.default.productEur}),(0,i.createElement)(n.default,{style:4==b?u.default.pictureWrap:""},(0,i.createElement)(l.default,t({},d,{style:4==b?u.default.imageWrap:u.default.imageWrapEur,onClick:function(){e.goTargetUrl(r.productDetailUrl,o,"_blank")},"data-href":""+r.productDetailUrl}),e.renderPicture(r))),(0,i.createElement)(n.default,{style:u.default.productInfo},S&&E?null:(0,i.createElement)(n.default,t({},d,{style:u.default.titleLink,onClick:function(){e.goTargetUrl(r.productDetailUrl,o,"_blank")},"data-href":""+r.productDetailUrl,onMouseOver:e.styleUnderLine,onMouseOut:e.styleUnderLineNo,title:""+(r.title&&r.title.displayTitle)}),(0,i.createElement)(a.default,{style:4==b?u.default.title:u.default.titleEur,numberOfLines:2},r.title&&r.title.displayTitle)),(0,i.createElement)(n.default,{style:u.default.promoprice},(0,i.createElement)(a.default,{style:u.default.price,numberOfLines:1},r.prices&&r.prices.salePrice&&r.prices.salePrice.formattedPrice)),r.prices&&r.prices.originalPrice?(0,i.createElement)(n.default,{style:u.default.oldPriceWrap},(0,i.createElement)(a.default,{style:u.default.oldPrice,numberOfLines:1},r.prices.originalPrice.formattedPrice),(0,i.createElement)(n.default,{style:4==b?e.getDirPositionCss("discountInfo"):u.default.discountInfoEur},(0,i.createElement)(a.default,{style:4==b?u.default.discountNum:u.default.discountNumEur,numberOfLines:1},e.getDiscount(r.prices.salePrice.minPriceDiscount)))):null))})),(0,i.createElement)(n.default,{ref:function(t){return e.productNull=t},style:{width:"100%"}})):!f||"true"!==g&&!0!==g?null:(0,i.createElement)(n.default,{style:u.default.defaultPic},(0,i.createElement)(s.default,{style:t({},u.default.defaultImage,{width:p.defaultImageWidth||"100%",height:p.defaultImageHeight||"auto"}),source:{uri:p.defaultImage},lazyload:!1}))}}]),m}();exports.default=g,module.exports=exports.default}])});